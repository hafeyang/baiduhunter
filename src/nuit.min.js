/*
* nuit: NOAH UI,Noah Team @ 2012
* version: 1.0
* build date:20120720142040
*/
var T,baidu=T=baidu||{version:"1.5.0"};baidu.guid="$BAIDU$";baidu.$$=window[baidu.guid]=window[baidu.guid]||{global:{}};baidu.ajax=baidu.ajax||{};baidu.fn=baidu.fn||{};baidu.fn.blank=function(){};baidu.ajax.request=function(g,m){var d=m||{},t=d.data||"",h=!(d.async===false),f=d.username||"",a=d.password||"",c=(d.method||"GET").toUpperCase(),b=d.headers||{},k=d.timeout||0,n={},q,u,j;function p(){if(j.readyState==4){try{var w=j.status}catch(v){s("failure");return}s(w);if((w>=200&&w<300)||w==304||w==1223){s("success")}else{s("failure")}window.setTimeout(function(){j.onreadystatechange=baidu.fn.blank;if(h){j=null}},0)}}function o(){if(window.ActiveXObject){try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(v){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(v){}}}if(window.XMLHttpRequest){return new XMLHttpRequest()}}function s(x){x="on"+x;var w=n[x],y=baidu.ajax[x];if(w){if(q){clearTimeout(q)}if(x!="onsuccess"){w(j)}else{try{j.responseText}catch(v){return w(j)}w(j,j.responseText)}}else{if(y){if(x=="onsuccess"){return}y(j)}}}for(u in d){n[u]=d[u]}b["X-Requested-With"]="XMLHttpRequest";try{j=o();if(c=="GET"){if(t){g+=(g.indexOf("?")>=0?"&":"?")+t;t=null}if(d.noCache){g+=(g.indexOf("?")>=0?"&":"?")+"b"+(+new Date)+"=1"}}if(f){j.open(c,g,h,f,a)}else{j.open(c,g,h)}if(h){j.onreadystatechange=p}if(c=="POST"){j.setRequestHeader("Content-Type",(b["Content-Type"]||"application/x-www-form-urlencoded"))}for(u in b){if(b.hasOwnProperty(u)){j.setRequestHeader(u,b[u])}}s("beforerequest");if(k){q=setTimeout(function(){j.onreadystatechange=baidu.fn.blank;j.abort();s("timeout")},k)}j.send(t);if(!h){p()}}catch(r){s("failure")}return j};baidu.url=baidu.url||{};baidu.url.escapeSymbol=function(a){return String(a).replace(/[#%&+=\/\\\ \　\f\r\n\t]/g,function(b){return"%"+(256+b.charCodeAt()).toString(16).substring(1).toUpperCase()})};baidu.ajax.form=function(a,c){c=c||{};var g=a.elements,p=g.length,b=a.getAttribute("method"),f=a.getAttribute("action"),v=c.replacer||function(x,w){return x},s={},u=[],n,r,t,o,d,h,j,m,k;function q(w,x){u.push(w+"="+x)}for(n in c){if(c.hasOwnProperty(n)){s[n]=c[n]}}for(n=0;n<p;n++){r=g[n];o=r.name;if(!r.disabled&&o){t=r.type;d=baidu.url.escapeSymbol(r.value);switch(t){case"radio":case"checkbox":if(!r.checked){break}case"textarea":case"text":case"password":case"hidden":case"select-one":q(o,v(d,o));break;case"select-multiple":h=r.options;m=h.length;for(j=0;j<m;j++){k=h[j];if(k.selected){q(o,v(k.value,o))}}break}}}s.data=u.join("&");s.method=a.getAttribute("method")||"GET";return baidu.ajax.request(f,s)};baidu.ajax.get=function(b,a){return baidu.ajax.request(b,{onsuccess:a})};baidu.ajax.post=function(b,c,a){return baidu.ajax.request(b,{onsuccess:a,method:"POST",data:c})};baidu.array=baidu.array||{};baidu.array.indexOf=function(f,b,d){var a=f.length,c=b;d=d|0;if(d<0){d=Math.max(0,a+d)}for(;d<a;d++){if(d in f&&f[d]===b){return d}}return -1};baidu.array.contains=function(a,b){return(baidu.array.indexOf(a,b)>=0)};baidu.each=baidu.array.forEach=baidu.array.each=function(h,f,b){var d,g,c,a=h.length;if("function"==typeof f){for(c=0;c<a;c++){g=h[c];d=f.call(b||h,g,c);if(d===false){break}}}return h};baidu.array.empty=function(a){a.length=0};baidu.array.every=function(f,d,b){var c=0,a=f.length;for(;c<a;c++){if(c in f&&!d.call(b||f,f[c],c)){return false}}return true};baidu.array.filter=function(j,g,d){var c=[],b=0,a=j.length,h,f;if("function"==typeof g){for(f=0;f<a;f++){h=j[f];if(true===g.call(d||j,h,f)){c[b++]=h}}}return c};baidu.array.find=function(f,c){var d,b,a=f.length;if("function"==typeof c){for(b=0;b<a;b++){d=f[b];if(true===c.call(f,d,b)){return d}}}return null};baidu.array.hash=function(f,b){var g={},d=b&&b.length,c=0,a=f.length;for(;c<a;c++){g[f[c]]=(d&&d>c)?b[c]:true}return g};baidu.array.lastIndexOf=function(d,b,c){var a=d.length;c=c|0;if(!c||c>=a){c=a-1}if(c<0){c+=a}for(;c>=0;c--){if(c in d&&d[c]===b){return c}}return -1};baidu.array.map=function(g,f,b){var d=[],c=0,a=g.length;for(;c<a;c++){d[c]=f.call(b||g,g[c],c)}return d};baidu.array.reduce=function(g,c,d){var b=0,a=g.length,f=0;if(arguments.length<3){for(;b<a;b++){d=g[b++];f=1;break}if(!f){return}}for(;b<a;b++){if(b in g){d=c(d,g[b],b,g)}}return d};baidu.array.remove=function(c,b){var a=c.length;while(a--){if(a in c&&c[a]===b){c.splice(a,1)}}return c};baidu.array.removeAt=function(b,a){return b.splice(a,1)[0]};baidu.array.some=function(f,d,b){var c=0,a=f.length;for(;c<a;c++){if(c in f&&d.call(b||f,f[c],c)){return true}}return false};baidu.array.unique=function(f,g){var b=f.length,a=f.slice(0),d,c;if("function"!=typeof g){g=function(j,h){return j===h}}while(--b>0){c=a[b];d=b;while(d--){if(g(c,a[d])){a.splice(b,1);break}}}return a};baidu.async=baidu.async||{};baidu.object=baidu.object||{};baidu.extend=baidu.object.extend=function(c,a){for(var b in a){if(a.hasOwnProperty(b)){c[b]=a[b]}}return c};baidu.lang=baidu.lang||{};baidu.lang.isFunction=function(a){return"[object Function]"==Object.prototype.toString.call(a)};baidu.async._isDeferred=function(b){var a=baidu.lang.isFunction;return b&&a(b.success)&&a(b.then)&&a(b.fail)&&a(b.cancel)};baidu.async.Deferred=function(){var b=this;baidu.extend(b,{_fired:0,_firing:0,_cancelled:0,_resolveChain:[],_rejectChain:[],_result:[],_isError:0});function a(){if(b._cancelled||b._firing){return}if(b._nextDeferred){b._nextDeferred.then(b._resolveChain[0],b._rejectChain[0]);return}b._firing=1;var g=b._isError?b._rejectChain:b._resolveChain,c=b._result[b._isError?1:0];while(g[0]&&(!b._cancelled)){try{var d=g.shift().call(b,c);if(baidu.async._isDeferred(d)){b._nextDeferred=d;[].push.apply(d._resolveChain,b._resolveChain);[].push.apply(d._rejectChain,b._rejectChain);g=b._resolveChain=[];b._rejectChain=[]}}catch(f){throw f}finally{b._fired=1;b._firing=0}}}b.resolve=b.fireSuccess=function(c){b._result[0]=c;a();return b};b.reject=b.fireFail=function(c){b._result[1]=c;b._isError=1;a();return b};b.then=function(c,d){b._resolveChain.push(c);b._rejectChain.push(d);if(b._fired){a()}return b};b.success=function(c){return b.then(c,baidu.fn.blank)};b.fail=function(c){return b.then(baidu.fn.blank,c)};b.cancel=function(){b._cancelled=1}};baidu.async.get=function(b){var a=new baidu.async.Deferred();baidu.ajax.request(b,{onsuccess:function(d,c){a.resolve({xhr:d,responseText:c})},onfailure:function(c){a.reject({xhr:c})}});return a};baidu.async.post=function(b,c){var a=new baidu.async.Deferred();baidu.ajax.request(b,{method:"POST",data:c,onsuccess:function(f,d){a.resolve({xhr:f,responseText:d})},onfailure:function(d){a.reject({xhr:d})}});return a};baidu.async.when=function(c,b,d){if(baidu.async._isDeferred(c)){c.then(b,d);return c}var a=new baidu.async.Deferred();a.then(b,d).resolve(c);return a};baidu.browser=baidu.browser||{};baidu.browser.chrome=/chrome\/(\d+\.\d+)/i.test(navigator.userAgent)?+RegExp["\x241"]:undefined;baidu.browser.firefox=/firefox\/(\d+\.\d+)/i.test(navigator.userAgent)?+RegExp["\x241"]:undefined;baidu.browser.ie=baidu.ie=/msie (\d+\.\d+)/i.test(navigator.userAgent)?(document.documentMode||+RegExp["\x241"]):undefined;baidu.browser.isGecko=/gecko/i.test(navigator.userAgent)&&!/like gecko/i.test(navigator.userAgent);baidu.browser.isStrict=document.compatMode=="CSS1Compat";baidu.browser.isWebkit=/webkit/i.test(navigator.userAgent);try{if(/(\d+\.\d+)/.test(external.max_version)){baidu.browser.maxthon=+RegExp["\x241"]}}catch(e){}baidu.browser.opera=/opera(\/| )(\d+(\.\d+)?)(.+?(version\/(\d+(\.\d+)?)))?/i.test(navigator.userAgent)?+(RegExp["\x246"]||RegExp["\x242"]):undefined;(function(){var a=navigator.userAgent;baidu.browser.safari=/(\d+\.\d)?(?:\.\d)?\s+safari\/?(\d+\.\d+)?/i.test(a)&&!/chrome/i.test(a)?+(RegExp["\x241"]||RegExp["\x242"]):undefined})();baidu.cookie=baidu.cookie||{};baidu.cookie._isValidKey=function(a){return(new RegExp('^[^\\x00-\\x20\\x7f\\(\\)<>@,;:\\\\\\"\\[\\]\\?=\\{\\}\\/\\u0080-\\uffff]+\x24')).test(a)};baidu.cookie.getRaw=function(b){if(baidu.cookie._isValidKey(b)){var c=new RegExp("(^| )"+b+"=([^;]*)(;|\x24)"),a=c.exec(document.cookie);if(a){return a[2]||null}}return null};baidu.cookie.get=function(a){var b=baidu.cookie.getRaw(a);if("string"==typeof b){b=decodeURIComponent(b);return b}return null};baidu.cookie.setRaw=function(c,d,b){if(!baidu.cookie._isValidKey(c)){return}b=b||{};var a=b.expires;if("number"==typeof b.expires){a=new Date();a.setTime(a.getTime()+b.expires)}document.cookie=c+"="+d+(b.path?"; path="+b.path:"")+(a?"; expires="+a.toGMTString():"")+(b.domain?"; domain="+b.domain:"")+(b.secure?"; secure":"")};baidu.cookie.remove=function(b,a){a=a||{};a.expires=new Date(0);baidu.cookie.setRaw(b,"",a)};baidu.cookie.set=function(b,c,a){baidu.cookie.setRaw(b,encodeURIComponent(c),a)};baidu.date=baidu.date||{};baidu.number=baidu.number||{};baidu.number.pad=function(d,c){var f="",b=(d<0),a=String(Math.abs(d));if(a.length<c){f=(new Array(c-a.length+1)).join("0")}return(b?"-":"")+f+a};baidu.date.format=function(a,g){if("string"!=typeof g){return a.toString()}function d(o,n){g=g.replace(o,n)}var b=baidu.number.pad,h=a.getFullYear(),f=a.getMonth()+1,m=a.getDate(),j=a.getHours(),c=a.getMinutes(),k=a.getSeconds();d(/yyyy/g,b(h,4));d(/yy/g,b(parseInt(h.toString().slice(2),10),2));d(/MM/g,b(f,2));d(/M/g,f);d(/dd/g,b(m,2));d(/d/g,m);d(/HH/g,b(j,2));d(/H/g,j);d(/hh/g,b(j%12,2));d(/h/g,j%12);d(/mm/g,b(c,2));d(/m/g,c);d(/ss/g,b(k,2));d(/s/g,k);return g};baidu.date.parse=function(c){var a=new RegExp("^\\d+(\\-|\\/)\\d+(\\-|\\/)\\d+\x24");if("string"==typeof c){if(a.test(c)||isNaN(Date.parse(c))){var g=c.split(/ |T/),b=g.length>1?g[1].split(/[^\d]/):[0,0,0],f=g[0].split(/[^\d]/);return new Date(f[0]-0,f[1]-1,f[2]-0,b[0]-0,b[1]-0,b[2]-0)}else{return new Date(c)}}return new Date()};baidu.dom=baidu.dom||{};baidu.dom.g=function(a){if(!a){return null}if("string"==typeof a||a instanceof String){return document.getElementById(a)}else{if(a.nodeName&&(a.nodeType==1||a.nodeType==9)){return a}}return null};baidu.g=baidu.G=baidu.dom.g;baidu.string=baidu.string||{};(function(){var a=new RegExp("(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+\x24)","g");baidu.string.trim=function(b){return String(b).replace(a,"")}})();baidu.trim=baidu.string.trim;baidu.dom.addClass=function(g,h){g=baidu.dom.g(g);var b=h.split(/\s+/),a=g.className,f=" "+a+" ",d=0,c=b.length;for(;d<c;d++){if(f.indexOf(" "+b[d]+" ")<0){a+=(a?" ":"")+b[d]}}g.className=a;return g};baidu.addClass=baidu.dom.addClass;baidu.dom.children=function(b){b=baidu.dom.g(b);for(var a=[],c=b.firstChild;c;c=c.nextSibling){if(c.nodeType==1){a.push(c)}}return a};baidu.lang.isString=function(a){return"[object String]"==Object.prototype.toString.call(a)};baidu.isString=baidu.lang.isString;baidu.dom._g=function(a){if(baidu.lang.isString(a)){return document.getElementById(a)}return a};baidu._g=baidu.dom._g;baidu.dom.contains=function(a,b){var c=baidu.dom._g;a=c(a);b=c(b);return a.contains?a!=b&&a.contains(b):!!(a.compareDocumentPosition(b)&16)};baidu.dom._NAME_ATTRS=(function(){var a={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",usemap:"useMap",frameborder:"frameBorder"};if(baidu.browser.ie<8){a["for"]="htmlFor";a["class"]="className"}else{a.htmlFor="for";a.className="class"}return a})();baidu.dom.setAttr=function(b,a,c){b=baidu.dom.g(b);if("style"==a){b.style.cssText=c}else{a=baidu.dom._NAME_ATTRS[a]||a;b.setAttribute(a,c)}return b};baidu.setAttr=baidu.dom.setAttr;baidu.dom.setAttrs=function(c,a){c=baidu.dom.g(c);for(var b in a){baidu.dom.setAttr(c,b,a[b])}return c};baidu.setAttrs=baidu.dom.setAttrs;baidu.dom.create=function(c,a){var d=document.createElement(c),b=a||{};return baidu.dom.setAttrs(d,b)};baidu.lang.guid=function(){return"TANGRAM$"+baidu.$$._counter++};baidu.$$._counter=baidu.$$._counter||1;baidu.lang.Class=function(){this.guid=baidu.lang.guid();!this.__decontrolled&&(baidu.$$._instances[this.guid]=this)};baidu.$$._instances=baidu.$$._instances||{};baidu.lang.Class.prototype.dispose=function(){delete baidu.$$._instances[this.guid];for(var a in this){typeof this[a]!="function"&&delete this[a]}this.disposed=true};baidu.lang.Class.prototype.toString=function(){return"[object "+(this.__type||this._className||"Object")+"]"};window.baiduInstance=function(a){return baidu.$$._instances[a]};baidu.lang.Class.prototype.un=baidu.lang.Class.prototype.removeEventListener=function(d,c){var b,a=this.__listeners;if(!a){return}if(typeof d=="undefined"){for(b in a){delete a[b]}return}d.indexOf("on")&&(d="on"+d);if(typeof c=="undefined"){delete a[d]}else{if(a[d]){typeof c=="string"&&(c=a[d][c])&&delete a[d][c];for(b=a[d].length-1;b>=0;b--){if(a[d][b]===c){a[d].splice(b,1)}}}}};baidu.lang.Event=function(a,b){this.type=a;this.returnValue=true;this.target=b||null;this.currentTarget=null};baidu.lang.Class.prototype.fire=baidu.lang.Class.prototype.dispatchEvent=function(f,a){baidu.lang.isString(f)&&(f=new baidu.lang.Event(f));!this.__listeners&&(this.__listeners={});a=a||{};for(var c in a){f[c]=a[c]}var c,h,d=this,b=d.__listeners,g=f.type;f.target=f.target||(f.currentTarget=d);g.indexOf("on")&&(g="on"+g);typeof d[g]=="function"&&d[g].apply(d,arguments);if(typeof b[g]=="object"){for(c=0,h=b[g].length;c<h;c++){b[g][c]&&b[g][c].apply(d,arguments)}}return f.returnValue};baidu.lang.Class.prototype.on=baidu.lang.Class.prototype.addEventListener=function(f,d,c){if(typeof d!="function"){return}!this.__listeners&&(this.__listeners={});var b,a=this.__listeners;f.indexOf("on")&&(f="on"+f);typeof a[f]!="object"&&(a[f]=[]);for(b=a[f].length-1;b>=0;b--){if(a[f][b]===d){return d}}a[f].push(d);c&&typeof c=="string"&&(a[f][c]=d);return d};baidu.lang.createSingle=function(b){var d=new baidu.lang.Class();for(var a in b){d[a]=b[a]}return d};baidu.dom.ddManager=baidu.lang.createSingle({_targetsDroppingOver:{}});baidu.dom.getDocument=function(a){a=baidu.dom.g(a);return a.nodeType==9?a:a.ownerDocument||a.document};baidu.dom.getComputedStyle=function(b,a){b=baidu.dom._g(b);var d=baidu.dom.getDocument(b),c;if(d.defaultView&&d.defaultView.getComputedStyle){c=d.defaultView.getComputedStyle(b,null);if(c){return c[a]||c.getPropertyValue(a)}}return""};baidu.dom._styleFixer=baidu.dom._styleFixer||{};baidu.dom._styleFilter=baidu.dom._styleFilter||[];baidu.dom._styleFilter.filter=function(b,f,g){for(var a=0,d=baidu.dom._styleFilter,c;c=d[a];a++){if(c=c[g]){f=c(b,f)}}return f};baidu.string.toCamelCase=function(a){if(a.indexOf("-")<0&&a.indexOf("_")<0){return a}return a.replace(/[-_][^-_]/g,function(b){return b.charAt(1).toUpperCase()})};baidu.dom.getStyle=function(c,b){var f=baidu.dom;c=f.g(c);b=baidu.string.toCamelCase(b);var d=c.style[b]||(c.currentStyle?c.currentStyle[b]:"")||f.getComputedStyle(c,b);if(!d){var a=f._styleFixer[b];if(a){d=a.get?a.get(c):baidu.dom.getStyle(c,a)}}if(a=f._styleFilter){d=a.filter(b,d,"get")}return d};baidu.getStyle=baidu.dom.getStyle;baidu.event=baidu.event||{};baidu.event._listeners=baidu.event._listeners||[];baidu.event.on=function(b,f,h){f=f.replace(/^on/i,"");b=baidu.dom._g(b);var g=function(k){h.call(b,k)},a=baidu.event._listeners,d=baidu.event._eventFilter,j,c=f;f=f.toLowerCase();if(d&&d[f]){j=d[f](b,f,g);c=j.type;g=j.listener}if(b.addEventListener){b.addEventListener(c,g,false)}else{if(b.attachEvent){b.attachEvent("on"+c,g)}}a[a.length]=[b,f,h,g,c];return b};baidu.on=baidu.event.on;baidu.event.un=function(c,g,b){c=baidu.dom._g(c);g=g.replace(/^on/i,"").toLowerCase();var k=baidu.event._listeners,d=k.length,f=!b,j,h,a;while(d--){j=k[d];if(j[1]===g&&j[0]===c&&(f||j[2]===b)){h=j[4];a=j[3];if(c.removeEventListener){c.removeEventListener(h,a,false)}else{if(c.detachEvent){c.detachEvent("on"+h,a)}}k.splice(d,1)}}return c};baidu.un=baidu.event.un;baidu.event.preventDefault=function(a){if(a.preventDefault){a.preventDefault()}else{a.returnValue=false}};baidu.page=baidu.page||{};baidu.page.getScrollTop=function(){var a=document;return window.pageYOffset||a.documentElement.scrollTop||a.body.scrollTop};baidu.page.getScrollLeft=function(){var a=document;return window.pageXOffset||a.documentElement.scrollLeft||a.body.scrollLeft};(function(){baidu.page.getMousePosition=function(){return{x:baidu.page.getScrollLeft()+a.x,y:baidu.page.getScrollTop()+a.y}};var a={x:0,y:0};baidu.event.on(document,"onmousemove",function(b){b=window.event||b;a.x=b.clientX;a.y=b.clientY})})();baidu.dom.getPosition=function(a){a=baidu.dom.g(a);var m=baidu.dom.getDocument(a),d=baidu.browser,h=baidu.dom.getStyle,c=d.isGecko>0&&m.getBoxObjectFor&&h(a,"position")=="absolute"&&(a.style.top===""||a.style.left===""),j={left:0,top:0},g=(d.ie&&!d.isStrict)?m.body:m.documentElement,n,b;if(a==g){return j}if(a.getBoundingClientRect){b=a.getBoundingClientRect();j.left=Math.floor(b.left)+Math.max(m.documentElement.scrollLeft,m.body.scrollLeft);j.top=Math.floor(b.top)+Math.max(m.documentElement.scrollTop,m.body.scrollTop);j.left-=m.documentElement.clientLeft;j.top-=m.documentElement.clientTop;var k=m.body,o=parseInt(h(k,"borderLeftWidth")),f=parseInt(h(k,"borderTopWidth"));if(d.ie&&!d.isStrict){j.left-=isNaN(o)?2:o;j.top-=isNaN(f)?2:f}}else{n=a;do{j.left+=n.offsetLeft;j.top+=n.offsetTop;if(d.isWebkit>0&&h(n,"position")=="fixed"){j.left+=m.body.scrollLeft;j.top+=m.body.scrollTop;break}n=n.offsetParent}while(n&&n!=a);if(d.opera>0||(d.isWebkit>0&&h(a,"position")=="absolute")){j.top-=m.body.offsetTop}n=a.offsetParent;while(n&&n!=m.body){j.left-=n.scrollLeft;if(!d.opera||n.tagName!="TR"){j.top-=n.scrollTop}n=n.offsetParent}}return j};baidu.dom.setStyle=function(c,b,d){var f=baidu.dom,a;c=f.g(c);b=baidu.string.toCamelCase(b);if(a=f._styleFilter){d=a.filter(b,d,"set")}a=f._styleFixer[b];(a&&a.set)?a.set(c,d):(c.style[a||b]=d);return c};baidu.setStyle=baidu.dom.setStyle;(function(){var s,j,d,c,n,b,r,q,u,f,a=baidu.lang.isFunction,k,p,g;baidu.dom.drag=function(w,v){u=q=null;if(!(s=baidu.dom.g(w))){return false}j=baidu.object.extend({autoStop:true,capture:true,interval:16,handler:s},v);p=baidu.dom.getPosition(s.offsetParent);g=baidu.dom.getPosition(s);if(baidu.getStyle(s,"position")=="absolute"){n=g.top-(s.offsetParent==document.body?0:p.top);b=g.left-(s.offsetParent==document.body?0:p.left)}else{n=parseFloat(baidu.getStyle(s,"top"))||-parseFloat(baidu.getStyle(s,"bottom"))||0;b=parseFloat(baidu.getStyle(s,"left"))||-parseFloat(baidu.getStyle(s,"right"))||0}if(j.mouseEvent){d=baidu.page.getScrollLeft()+j.mouseEvent.clientX;c=baidu.page.getScrollTop()+j.mouseEvent.clientY}else{var x=baidu.page.getMousePosition();d=x.x;c=x.y}j.autoStop&&baidu.event.on(j.handler,"mouseup",o);j.autoStop&&baidu.event.on(window,"mouseup",o);baidu.event.on(document,"selectstart",m);if(j.capture&&j.handler.setCapture){j.handler.setCapture()}else{if(j.capture&&window.captureEvents){window.captureEvents(Event.MOUSEMOVE|Event.MOUSEUP)}}r=document.body.style.MozUserSelect;document.body.style.MozUserSelect="none";if(a(j.ondragstart)){j.ondragstart(s,j)}k=setInterval(t,j.interval);return{stop:o,update:h}};function h(v){baidu.extend(j,v)}function o(){clearInterval(k);f=false;if(j.capture&&j.handler.releaseCapture){j.handler.releaseCapture()}else{if(j.capture&&window.releaseEvents){window.releaseEvents(Event.MOUSEMOVE|Event.MOUSEUP)}}document.body.style.MozUserSelect=r;baidu.event.un(document,"selectstart",m);j.autoStop&&baidu.event.un(j.handler,"mouseup",o);j.autoStop&&baidu.event.un(window,"mouseup",o);if(a(j.ondragend)){j.ondragend(s,j)}}function t(z){var v=j.range,y=baidu.page.getMousePosition(),w=b+y.x-d,x=n+y.y-c;if(typeof v=="object"&&v&&v.length==4){w=Math.max(v[3],w);w=Math.min(v[1]-s.offsetWidth,w);x=Math.max(v[0],x);x=Math.min(v[2]-s.offsetHeight,x)}if(!f){baidu.setStyle(s,"marginTop",0);baidu.setStyle(s,"marginLeft",0);f=true}s.style.top=x+"px";s.style.left=w+"px";if((q!==w||u!==x)&&(q!==null||u!==null)){if(a(j.ondrag)){j.ondrag(s,j)}}q=w;u=x}function m(v){return baidu.event.preventDefault(v,false)}})();baidu.dom.draggable=function(b,m){m=baidu.object.extend({toggle:function(){return true}},m||{});m.autoStop=true;b=baidu.dom.g(b);m.handler=m.handler||b;var a,j=["ondragstart","ondrag","ondragend"],c=j.length-1,d,k,g={dispose:function(){k&&k.stop();baidu.event.un(m.handler,"onmousedown",h);baidu.lang.Class.prototype.dispose.call(g)}},f=this;if(a=baidu.dom.ddManager){for(;c>=0;c--){d=j[c];m[d]=(function(n){var o=m[n];return function(){baidu.lang.isFunction(o)&&o.apply(f,arguments);a.dispatchEvent(n,{DOM:b})}})(d)}}if(b){function h(o){var n=m.mouseEvent=window.event||o;if(n.button>1||(baidu.lang.isFunction(m.toggle)&&!m.toggle())){return}if(baidu.dom.getStyle(b,"position")=="static"){baidu.dom.setStyle(b,"position","relative")}if(baidu.lang.isFunction(m.onbeforedragstart)){m.onbeforedragstart(b)}k=baidu.dom.drag(b,m);g.stop=k.stop;g.update=k.update;baidu.event.preventDefault(n)}baidu.event.on(m.handler,"onmousedown",h)}return{cancel:function(){g.dispose()}}};baidu.dom.intersect=function(k,j){var h=baidu.dom.g,f=baidu.dom.getPosition,a=Math.max,c=Math.min;k=h(k);j=h(j);var d=f(k),b=f(j);return a(d.left,b.left)<=c(d.left+k.offsetWidth,b.left+j.offsetWidth)&&a(d.top,b.top)<=c(d.top+k.offsetHeight,b.top+j.offsetHeight)};baidu.dom.droppable=function(f,c){c=c||{};var d=baidu.dom.ddManager,h=baidu.dom.g(f),b=baidu.lang.guid(),g=function(m){var k=d._targetsDroppingOver,j={trigger:m.DOM,reciever:h};if(baidu.dom.intersect(h,m.DOM)){if(!k[b]){(typeof c.ondropover=="function")&&c.ondropover.call(h,j);d.dispatchEvent("ondropover",j);k[b]=true}}else{if(k[b]){(typeof c.ondropout=="function")&&c.ondropout.call(h,j);d.dispatchEvent("ondropout",j)}delete k[b]}},a=function(k){var j={trigger:k.DOM,reciever:h};if(baidu.dom.intersect(h,k.DOM)){typeof c.ondrop=="function"&&c.ondrop.call(h,j);d.dispatchEvent("ondrop",j)}delete d._targetsDroppingOver[b]};d.addEventListener("ondrag",g);d.addEventListener("ondragend",a);return{cancel:function(){d.removeEventListener("ondrag",g);d.removeEventListener("ondragend",a)}}};baidu.dom.empty=function(a){a=baidu.dom.g(a);while(a.firstChild){a.removeChild(a.firstChild)}return a};baidu.dom._matchNode=function(a,c,d){a=baidu.dom.g(a);for(var b=a[d];b;b=b[c]){if(b.nodeType==1){return b}}return null};baidu.dom.first=function(a){return baidu.dom._matchNode(a,"nextSibling","firstChild")};baidu.dom.getAttr=function(b,a){b=baidu.dom.g(b);if("style"==a){return b.style.cssText}a=baidu.dom._NAME_ATTRS[a]||a;return b.getAttribute(a)};baidu.getAttr=baidu.dom.getAttr;baidu.dom.setStyles=function(b,c){b=baidu.dom.g(b);for(var a in c){baidu.dom.setStyle(b,a,c[a])}return b};baidu.setStyles=baidu.dom.setStyles;baidu.page.getViewHeight=function(){var b=document,a=b.compatMode=="BackCompat"?b.body:b.documentElement;return a.clientHeight};baidu.page.getViewWidth=function(){var b=document,a=b.compatMode=="BackCompat"?b.body:b.documentElement;return a.clientWidth};baidu.dom._styleFilter[baidu.dom._styleFilter.length]={set:function(a,b){if(b.constructor==Number&&!/zIndex|fontWeight|opacity|zoom|lineHeight/i.test(a)){b=b+"px"}return b}};baidu.dom.fixable=function(a,b){var w=baidu.g(a),r=baidu.browser.ie&&baidu.browser.ie<=7?true:false,m=b.vertival||"top",u=b.horizontal||"left",t=typeof b.autofix!="undefined"?b.autofix:true,k,d,j=false,o=b.onrender||new Function(),c=b.onupdate||new Function(),n=b.onrelease||new Function();if(!w){return}k=h();d={y:r?(k.position=="static"?baidu.dom.getPosition(w).top:baidu.dom.getPosition(w).top-baidu.dom.getPosition(w.parentNode).top):w.offsetTop,x:r?(k.position=="static"?baidu.dom.getPosition(w).left:baidu.dom.getPosition(w).left-baidu.dom.getPosition(w.parentNode).left):w.offsetLeft};baidu.extend(d,b.offset||{});t&&v();function s(){return{top:m=="top"?d.y:baidu.page.getViewHeight()-d.y-k.height,left:u=="left"?d.x:baidu.page.getViewWidth()-d.x-k.width}}function p(){var x=s();w.style.setExpression("left","eval((document.body.scrollLeft || document.documentElement.scrollLeft) + "+x.left+") + 'px'");w.style.setExpression("top","eval((document.body.scrollTop || document.documentElement.scrollTop) + "+x.top+") + 'px'")}function h(){var x={position:baidu.getStyle(w,"position"),height:function(){var y=baidu.getStyle(w,"height");return(y!="auto")?(/\d+/.exec(y)[0]):w.offsetHeight}(),width:function(){var y=baidu.getStyle(w,"width");return(y!="auto")?(/\d+/.exec(y)[0]):w.offsetWidth}()};f("top",x);f("left",x);f("bottom",x);f("right",x);return x}function f(y,z){var x;if(z.position=="static"){z[y]=""}else{x=baidu.getStyle(w,y);if(x=="auto"||x=="0px"){z[y]=""}else{z[y]=x}}}function v(){if(j){return}baidu.setStyles(w,{top:"",left:"",bottom:"",right:""});if(!r){var x={position:"fixed"};x[m=="top"?"top":"bottom"]=d.y+"px";x[u=="left"?"left":"right"]=d.x+"px";baidu.setStyles(w,x)}else{baidu.setStyle(w,"position","absolute");p()}o();j=true}function q(){if(!j){return}var x={position:k.position,left:k.left==""?"auto":k.left,top:k.top==""?"auto":k.top,bottom:k.bottom==""?"auto":k.bottom,right:k.right==""?"auto":k.right};if(r){w.style.removeExpression("left");w.style.removeExpression("top")}baidu.setStyles(w,x);n();j=false}function g(x){if(!x){return}o=x.onrender||o;c=x.onupdate||c;n=x.onrelease||n;m=x.vertival||"top";u=x.horizontal||"left";baidu.extend(d,x.offset||{});c()}return{render:v,update:g,release:q}};baidu.dom.getAncestorBy=function(a,b){a=baidu.dom.g(a);while((a=a.parentNode)&&a.nodeType==1){if(b(a)){return a}}return null};baidu.dom.getAncestorByClass=function(a,b){a=baidu.dom.g(a);b=new RegExp("(^|\\s)"+baidu.string.trim(b)+"(\\s|\x24)");while((a=a.parentNode)&&a.nodeType==1){if(b.test(a.className)){return a}}return null};baidu.dom.getAncestorByTag=function(b,a){b=baidu.dom.g(b);a=a.toUpperCase();while((b=b.parentNode)&&b.nodeType==1){if(b.tagName==a){return b}}return null};baidu.dom.getCurrentStyle=function(b,a){b=baidu.dom.g(b);return b.style[a]||(b.currentStyle?b.currentStyle[a]:"")||baidu.dom.getComputedStyle(b,a)};baidu.dom.getParent=function(a){a=baidu.dom._g(a);return a.parentElement||a.parentNode||null};baidu.dom.getText=function(d){var b="",f,c=0,a;d=baidu._g(d);if(d.nodeType===3||d.nodeType===4){b+=d.nodeValue}else{if(d.nodeType!==8){f=d.childNodes;for(a=f.length;c<a;c++){b+=baidu.dom.getText(f[c])}}}return b};baidu.dom.getWindow=function(a){a=baidu.dom.g(a);var b=baidu.dom.getDocument(a);return b.parentWindow||b.defaultView||null};baidu.dom.hasAttr=function(c,b){c=baidu.g(c);var a=c.attributes.getNamedItem(b);return !!(a&&a.specified)};baidu.dom.hasClass=function(c,d){c=baidu.dom.g(c);if(!c||!c.className){return false}var b=baidu.string.trim(d).split(/\s+/),a=b.length;d=c.className.split(/\s+/).join(" ");while(a--){if(!(new RegExp("(^| )"+b[a]+"( |\x24)")).test(d)){return false}}return true};baidu.dom.hide=function(a){a=baidu.dom.g(a);a.style.display="none";return a};baidu.hide=baidu.dom.hide;baidu.dom.insertAfter=function(d,c){var b,a;b=baidu.dom._g;d=b(d);c=b(c);a=c.parentNode;if(a){a.insertBefore(d,c.nextSibling)}return d};baidu.dom.insertBefore=function(d,c){var b,a;b=baidu.dom._g;d=b(d);c=b(c);a=c.parentNode;if(a){a.insertBefore(d,c)}return d};baidu.dom.insertHTML=function(d,a,c){d=baidu.dom.g(d);var b,f;if(d.insertAdjacentHTML&&!baidu.browser.opera){d.insertAdjacentHTML(a,c)}else{b=d.ownerDocument.createRange();a=a.toUpperCase();if(a=="AFTERBEGIN"||a=="BEFOREEND"){b.selectNodeContents(d);b.collapse(a=="AFTERBEGIN")}else{f=a=="BEFOREBEGIN";b[f?"setStartBefore":"setEndAfter"](d);b.collapse(f)}b.insertNode(b.createContextualFragment(c))}return d};baidu.insertHTML=baidu.dom.insertHTML;baidu.dom.last=function(a){return baidu.dom._matchNode(a,"previousSibling","lastChild")};baidu.dom.next=function(a){return baidu.dom._matchNode(a,"nextSibling","nextSibling")};baidu.dom.opacity=function(b,a){b=baidu.dom.g(b);if(!baidu.browser.ie){b.style.opacity=a;b.style.KHTMLOpacity=a}else{b.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity:"+Math.floor(a*100)+")"}};baidu.dom.prev=function(a){return baidu.dom._matchNode(a,"previousSibling","previousSibling")};baidu.string.escapeReg=function(a){return String(a).replace(new RegExp("([.*+?^=!:\x24{}()|[\\]/\\\\])","g"),"\\\x241")};baidu.dom.q=function(j,f,b){var k=[],d=baidu.string.trim,h,g,a,c;if(!(j=d(j))){return k}if("undefined"==typeof f){f=document}else{f=baidu.dom.g(f);if(!f){return k}}b&&(b=d(b).toUpperCase());if(f.getElementsByClassName){a=f.getElementsByClassName(j);h=a.length;for(g=0;g<h;g++){c=a[g];if(b&&c.tagName!=b){continue}k[k.length]=c}}else{j=new RegExp("(^|\\s)"+baidu.string.escapeReg(j)+"(\\s|\x24)");a=b?f.getElementsByTagName(b):(f.all||f.getElementsByTagName("*"));h=a.length;for(g=0;g<h;g++){c=a[g];j.test(c.className)&&(k[k.length]=c)}}return k};baidu.q=baidu.Q=baidu.dom.q;
/*!
 * Sizzle CSS Selector Engine
 *  Copyright 2011, The Dojo Foundation
 *  Released under the MIT, BSD, and GPL Licenses.
 *  More information: http://sizzlejs.com/
 */
(function(){var p=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,j="sizcache"+(Math.random()+"").replace(".",""),q=0,t=Object.prototype.toString,h=false,g=true,s=/\\/g,w=/\r\n/g,y=/\W/;[0,0].sort(function(){g=false;return 0});var d=function(E,z,H,I){H=H||[];z=z||document;var K=z;if(z.nodeType!==1&&z.nodeType!==9){return[]}if(!E||typeof E!=="string"){return H}var B,M,P,A,L,O,N,G,D=true,C=d.isXML(z),F=[],J=E;do{p.exec("");B=p.exec(J);if(B){J=B[3];F.push(B[1]);if(B[2]){A=B[3];break}}}while(B);if(F.length>1&&k.exec(E)){if(F.length===2&&m.relative[F[0]]){M=u(F[0]+F[1],z,I)}else{M=m.relative[F[0]]?[z]:d(F.shift(),z);while(F.length){E=F.shift();if(m.relative[E]){E+=F.shift()}M=u(E,M,I)}}}else{if(!I&&F.length>1&&z.nodeType===9&&!C&&m.match.ID.test(F[0])&&!m.match.ID.test(F[F.length-1])){L=d.find(F.shift(),z,C);z=L.expr?d.filter(L.expr,L.set)[0]:L.set[0]}if(z){L=I?{expr:F.pop(),set:n(I)}:d.find(F.pop(),F.length===1&&(F[0]==="~"||F[0]==="+")&&z.parentNode?z.parentNode:z,C);M=L.expr?d.filter(L.expr,L.set):L.set;if(F.length>0){P=n(M)}else{D=false}while(F.length){O=F.pop();N=O;if(!m.relative[O]){O=""}else{N=F.pop()}if(N==null){N=z}m.relative[O](P,N,C)}}else{P=F=[]}}if(!P){P=M}if(!P){d.error(O||E)}if(t.call(P)==="[object Array]"){if(!D){H.push.apply(H,P)}else{if(z&&z.nodeType===1){for(G=0;P[G]!=null;G++){if(P[G]&&(P[G]===true||P[G].nodeType===1&&d.contains(z,P[G]))){H.push(M[G])}}}else{for(G=0;P[G]!=null;G++){if(P[G]&&P[G].nodeType===1){H.push(M[G])}}}}}else{n(P,H)}if(A){d(A,K,H,I);d.uniqueSort(H)}return H};d.uniqueSort=function(A){if(r){h=g;A.sort(r);if(h){for(var z=1;z<A.length;z++){if(A[z]===A[z-1]){A.splice(z--,1)}}}}return A};d.matches=function(z,A){return d(z,null,null,A)};d.matchesSelector=function(z,A){return d(A,null,null,[z]).length>0};d.find=function(G,z,H){var F,B,D,C,E,A;if(!G){return[]}for(B=0,D=m.order.length;B<D;B++){E=m.order[B];if((C=m.leftMatch[E].exec(G))){A=C[1];C.splice(1,1);if(A.substr(A.length-1)!=="\\"){C[1]=(C[1]||"").replace(s,"");F=m.find[E](C,z,H);if(F!=null){G=G.replace(m.match[E],"");break}}}}if(!F){F=typeof z.getElementsByTagName!=="undefined"?z.getElementsByTagName("*"):[]}return{set:F,expr:G}};d.filter=function(K,J,N,D){var F,z,I,P,M,A,C,E,L,B=K,O=[],H=J,G=J&&J[0]&&d.isXML(J[0]);while(K&&J.length){for(I in m.filter){if((F=m.leftMatch[I].exec(K))!=null&&F[2]){A=m.filter[I];C=F[1];z=false;F.splice(1,1);if(C.substr(C.length-1)==="\\"){continue}if(H===O){O=[]}if(m.preFilter[I]){F=m.preFilter[I](F,H,N,O,D,G);if(!F){z=P=true}else{if(F===true){continue}}}if(F){for(E=0;(M=H[E])!=null;E++){if(M){P=A(M,F,E,H);L=D^P;if(N&&P!=null){if(L){z=true}else{H[E]=false}}else{if(L){O.push(M);z=true}}}}}if(P!==undefined){if(!N){H=O}K=K.replace(m.match[I],"");if(!z){return[]}break}}}if(K===B){if(z==null){d.error(K)}else{break}}B=K}return H};d.error=function(z){throw"Syntax error, unrecognized expression: "+z};var b=d.getText=function(D){var B,C,z=D.nodeType,A="";if(z){if(z===1){if(typeof D.textContent==="string"){return D.textContent}else{if(typeof D.innerText==="string"){return D.innerText.replace(w,"")}else{for(D=D.firstChild;D;D=D.nextSibling){A+=b(D)}}}}else{if(z===3||z===4){return D.nodeValue}}}else{for(B=0;(C=D[B]);B++){if(C.nodeType!==8){A+=b(C)}}}return A};var m=d.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(z){return z.getAttribute("href")},type:function(z){return z.getAttribute("type")}},relative:{"+":function(F,A){var C=typeof A==="string",E=C&&!y.test(A),G=C&&!E;if(E){A=A.toLowerCase()}for(var B=0,z=F.length,D;B<z;B++){if((D=F[B])){while((D=D.previousSibling)&&D.nodeType!==1){}F[B]=G||D&&D.nodeName.toLowerCase()===A?D||false:D===A}}if(G){d.filter(A,F,true)}},">":function(F,A){var E,D=typeof A==="string",B=0,z=F.length;if(D&&!y.test(A)){A=A.toLowerCase();for(;B<z;B++){E=F[B];if(E){var C=E.parentNode;F[B]=C.nodeName.toLowerCase()===A?C:false}}}else{for(;B<z;B++){E=F[B];if(E){F[B]=D?E.parentNode:E.parentNode===A}}if(D){d.filter(A,F,true)}}},"":function(C,A,E){var D,B=q++,z=v;if(typeof A==="string"&&!y.test(A)){A=A.toLowerCase();D=A;z=a}z("parentNode",A,B,C,D,E)},"~":function(C,A,E){var D,B=q++,z=v;if(typeof A==="string"&&!y.test(A)){A=A.toLowerCase();D=A;z=a}z("previousSibling",A,B,C,D,E)}},find:{ID:function(A,B,C){if(typeof B.getElementById!=="undefined"&&!C){var z=B.getElementById(A[1]);return z&&z.parentNode?[z]:[]}},NAME:function(B,E){if(typeof E.getElementsByName!=="undefined"){var A=[],D=E.getElementsByName(B[1]);for(var C=0,z=D.length;C<z;C++){if(D[C].getAttribute("name")===B[1]){A.push(D[C])}}return A.length===0?null:A}},TAG:function(z,A){if(typeof A.getElementsByTagName!=="undefined"){return A.getElementsByTagName(z[1])}}},preFilter:{CLASS:function(C,A,B,z,F,G){C=" "+C[1].replace(s,"")+" ";if(G){return C}for(var D=0,E;(E=A[D])!=null;D++){if(E){if(F^(E.className&&(" "+E.className+" ").replace(/[\t\n\r]/g," ").indexOf(C)>=0)){if(!B){z.push(E)}}else{if(B){A[D]=false}}}}return false},ID:function(z){return z[1].replace(s,"")},TAG:function(A,z){return A[1].replace(s,"").toLowerCase()},CHILD:function(z){if(z[1]==="nth"){if(!z[2]){d.error(z[0])}z[2]=z[2].replace(/^\+|\s*/g,"");var A=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(z[2]==="even"&&"2n"||z[2]==="odd"&&"2n+1"||!/\D/.test(z[2])&&"0n+"+z[2]||z[2]);z[2]=(A[1]+(A[2]||1))-0;z[3]=A[3]-0}else{if(z[2]){d.error(z[0])}}z[0]=q++;return z},ATTR:function(D,A,B,z,E,F){var C=D[1]=D[1].replace(s,"");if(!F&&m.attrMap[C]){D[1]=m.attrMap[C]}D[4]=(D[4]||D[5]||"").replace(s,"");if(D[2]==="~="){D[4]=" "+D[4]+" "}return D},PSEUDO:function(D,A,B,z,E){if(D[1]==="not"){if((p.exec(D[3])||"").length>1||/^\w/.test(D[3])){D[3]=d(D[3],null,null,A)}else{var C=d.filter(D[3],A,B,true^E);if(!B){z.push.apply(z,C)}return false}}else{if(m.match.POS.test(D[0])||m.match.CHILD.test(D[0])){return true}}return D},POS:function(z){z.unshift(true);return z}},filters:{enabled:function(z){return z.disabled===false&&z.type!=="hidden"},disabled:function(z){return z.disabled===true},checked:function(z){return z.checked===true},selected:function(z){if(z.parentNode){z.parentNode.selectedIndex}return z.selected===true},parent:function(z){return !!z.firstChild},empty:function(z){return !z.firstChild},has:function(B,A,z){return !!d(z[3],B).length},header:function(z){return(/h\d/i).test(z.nodeName)},text:function(B){var z=B.getAttribute("type"),A=B.type;return B.nodeName.toLowerCase()==="input"&&"text"===A&&(z===A||z===null)},radio:function(z){return z.nodeName.toLowerCase()==="input"&&"radio"===z.type},checkbox:function(z){return z.nodeName.toLowerCase()==="input"&&"checkbox"===z.type},file:function(z){return z.nodeName.toLowerCase()==="input"&&"file"===z.type},password:function(z){return z.nodeName.toLowerCase()==="input"&&"password"===z.type},submit:function(A){var z=A.nodeName.toLowerCase();return(z==="input"||z==="button")&&"submit"===A.type},image:function(z){return z.nodeName.toLowerCase()==="input"&&"image"===z.type},reset:function(A){var z=A.nodeName.toLowerCase();return(z==="input"||z==="button")&&"reset"===A.type},button:function(A){var z=A.nodeName.toLowerCase();return z==="input"&&"button"===A.type||z==="button"},input:function(z){return(/input|select|textarea|button/i).test(z.nodeName)},focus:function(z){return z===z.ownerDocument.activeElement}},setFilters:{first:function(A,z){return z===0},last:function(B,A,z,C){return A===C.length-1},even:function(A,z){return z%2===0},odd:function(A,z){return z%2===1},lt:function(B,A,z){return A<z[3]-0},gt:function(B,A,z){return A>z[3]-0},nth:function(B,A,z){return z[3]-0===A},eq:function(B,A,z){return z[3]-0===A}},filter:{PSEUDO:function(B,G,F,H){var z=G[1],A=m.filters[z];if(A){return A(B,F,G,H)}else{if(z==="contains"){return(B.textContent||B.innerText||b([B])||"").indexOf(G[3])>=0}else{if(z==="not"){var C=G[3];for(var E=0,D=C.length;E<D;E++){if(C[E]===B){return false}}return true}else{d.error(z)}}}},CHILD:function(B,D){var C,J,F,I,z,E,H,G=D[1],A=B;switch(G){case"only":case"first":while((A=A.previousSibling)){if(A.nodeType===1){return false}}if(G==="first"){return true}A=B;case"last":while((A=A.nextSibling)){if(A.nodeType===1){return false}}return true;case"nth":C=D[2];J=D[3];if(C===1&&J===0){return true}F=D[0];I=B.parentNode;if(I&&(I[j]!==F||!B.nodeIndex)){E=0;for(A=I.firstChild;A;A=A.nextSibling){if(A.nodeType===1){A.nodeIndex=++E}}I[j]=F}H=B.nodeIndex-J;if(C===0){return H===0}else{return(H%C===0&&H/C>=0)}}},ID:function(A,z){return A.nodeType===1&&A.getAttribute("id")===z},TAG:function(A,z){return(z==="*"&&A.nodeType===1)||!!A.nodeName&&A.nodeName.toLowerCase()===z},CLASS:function(A,z){return(" "+(A.className||A.getAttribute("class"))+" ").indexOf(z)>-1},ATTR:function(E,C){var B=C[1],z=d.attr?d.attr(E,B):m.attrHandle[B]?m.attrHandle[B](E):E[B]!=null?E[B]:E.getAttribute(B),F=z+"",D=C[2],A=C[4];return z==null?D==="!=":!D&&d.attr?z!=null:D==="="?F===A:D==="*="?F.indexOf(A)>=0:D==="~="?(" "+F+" ").indexOf(A)>=0:!A?F&&z!==false:D==="!="?F!==A:D==="^="?F.indexOf(A)===0:D==="$="?F.substr(F.length-A.length)===A:D==="|="?F===A||F.substr(0,A.length+1)===A+"-":false},POS:function(D,A,B,E){var z=A[2],C=m.setFilters[z];if(C){return C(D,B,A,E)}}}};var k=m.match.POS,c=function(A,z){return"\\"+(z-0+1)};for(var f in m.match){m.match[f]=new RegExp(m.match[f].source+(/(?![^\[]*\])(?![^\(]*\))/.source));m.leftMatch[f]=new RegExp(/(^(?:.|\r|\n)*?)/.source+m.match[f].source.replace(/\\(\d+)/g,c))}var n=function(A,z){A=Array.prototype.slice.call(A,0);if(z){z.push.apply(z,A);return z}return A};try{Array.prototype.slice.call(document.documentElement.childNodes,0)[0].nodeType}catch(x){n=function(D,C){var B=0,A=C||[];if(t.call(D)==="[object Array]"){Array.prototype.push.apply(A,D)}else{if(typeof D.length==="number"){for(var z=D.length;B<z;B++){A.push(D[B])}}else{for(;D[B];B++){A.push(D[B])}}}return A}}var r,o;if(document.documentElement.compareDocumentPosition){r=function(A,z){if(A===z){h=true;return 0}if(!A.compareDocumentPosition||!z.compareDocumentPosition){return A.compareDocumentPosition?-1:1}return A.compareDocumentPosition(z)&4?-1:1}}else{r=function(H,G){if(H===G){h=true;return 0}else{if(H.sourceIndex&&G.sourceIndex){return H.sourceIndex-G.sourceIndex}}var E,A,B=[],z=[],D=H.parentNode,F=G.parentNode,I=D;if(D===F){return o(H,G)}else{if(!D){return -1}else{if(!F){return 1}}}while(I){B.unshift(I);I=I.parentNode}I=F;while(I){z.unshift(I);I=I.parentNode}E=B.length;A=z.length;for(var C=0;C<E&&C<A;C++){if(B[C]!==z[C]){return o(B[C],z[C])}}return C===E?o(H,z[C],-1):o(B[C],G,1)};o=function(A,z,B){if(A===z){return B}var C=A.nextSibling;while(C){if(C===z){return -1}C=C.nextSibling}return 1}}(function(){var A=document.createElement("div"),B="script"+(new Date()).getTime(),z=document.documentElement;A.innerHTML="<a name='"+B+"'/>";z.insertBefore(A,z.firstChild);if(document.getElementById(B)){m.find.ID=function(D,E,F){if(typeof E.getElementById!=="undefined"&&!F){var C=E.getElementById(D[1]);return C?C.id===D[1]||typeof C.getAttributeNode!=="undefined"&&C.getAttributeNode("id").nodeValue===D[1]?[C]:undefined:[]}};m.filter.ID=function(E,C){var D=typeof E.getAttributeNode!=="undefined"&&E.getAttributeNode("id");return E.nodeType===1&&D&&D.nodeValue===C}}z.removeChild(A);z=A=null})();(function(){var z=document.createElement("div");z.appendChild(document.createComment(""));if(z.getElementsByTagName("*").length>0){m.find.TAG=function(A,E){var D=E.getElementsByTagName(A[1]);if(A[1]==="*"){var C=[];for(var B=0;D[B];B++){if(D[B].nodeType===1){C.push(D[B])}}D=C}return D}}z.innerHTML="<a href='#'></a>";if(z.firstChild&&typeof z.firstChild.getAttribute!=="undefined"&&z.firstChild.getAttribute("href")!=="#"){m.attrHandle.href=function(A){return A.getAttribute("href",2)}}z=null})();if(document.querySelectorAll){(function(){var z=d,C=document.createElement("div"),B="__sizzle__";C.innerHTML="<p class='TEST'></p>";if(C.querySelectorAll&&C.querySelectorAll(".TEST").length===0){return}d=function(N,E,I,M){E=E||document;if(!M&&!d.isXML(E)){var L=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(N);if(L&&(E.nodeType===1||E.nodeType===9)){if(L[1]){return n(E.getElementsByTagName(N),I)}else{if(L[2]&&m.find.CLASS&&E.getElementsByClassName){return n(E.getElementsByClassName(L[2]),I)}}}if(E.nodeType===9){if(N==="body"&&E.body){return n([E.body],I)}else{if(L&&L[3]){var H=E.getElementById(L[3]);if(H&&H.parentNode){if(H.id===L[3]){return n([H],I)}}else{return n([],I)}}}try{return n(E.querySelectorAll(N),I)}catch(J){}}else{if(E.nodeType===1&&E.nodeName.toLowerCase()!=="object"){var F=E,G=E.getAttribute("id"),D=G||B,P=E.parentNode,O=/^\s*[+~]/.test(N);if(!G){E.setAttribute("id",D)}else{D=D.replace(/'/g,"\\$&")}if(O&&P){E=E.parentNode}try{if(!O||P){return n(E.querySelectorAll("[id='"+D+"'] "+N),I)}}catch(K){}finally{if(!G){F.removeAttribute("id")}}}}}return z(N,E,I,M)};for(var A in z){d[A]=z[A]}C=null})()}(function(){var z=document.documentElement,B=z.matchesSelector||z.mozMatchesSelector||z.webkitMatchesSelector||z.msMatchesSelector;if(B){var D=!B.call(document.createElement("div"),"div"),A=false;try{B.call(document.documentElement,"[test!='']:sizzle")}catch(C){A=true}d.matchesSelector=function(F,H){H=H.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!d.isXML(F)){try{if(A||!m.match.PSEUDO.test(H)&&!/!=/.test(H)){var E=B.call(F,H);if(E||!D||F.document&&F.document.nodeType!==11){return E}}}catch(G){}}return d(H,null,null,[F]).length>0}}})();(function(){var z=document.createElement("div");z.innerHTML="<div class='test e'></div><div class='test'></div>";if(!z.getElementsByClassName||z.getElementsByClassName("e").length===0){return}z.lastChild.className="e";if(z.getElementsByClassName("e").length===1){return}m.order.splice(1,0,"CLASS");m.find.CLASS=function(A,B,C){if(typeof B.getElementsByClassName!=="undefined"&&!C){return B.getElementsByClassName(A[1])}};z=null})();function a(A,F,E,I,G,H){for(var C=0,B=I.length;C<B;C++){var z=I[C];if(z){var D=false;z=z[A];while(z){if(z[j]===E){D=I[z.sizset];break}if(z.nodeType===1&&!H){z[j]=E;z.sizset=C}if(z.nodeName.toLowerCase()===F){D=z;break}z=z[A]}I[C]=D}}}function v(A,F,E,I,G,H){for(var C=0,B=I.length;C<B;C++){var z=I[C];if(z){var D=false;z=z[A];while(z){if(z[j]===E){D=I[z.sizset];break}if(z.nodeType===1){if(!H){z[j]=E;z.sizset=C}if(typeof F!=="string"){if(z===F){D=true;break}}else{if(d.filter(F,[z]).length>0){D=z;break}}}z=z[A]}I[C]=D}}}if(document.documentElement.contains){d.contains=function(A,z){return A!==z&&(A.contains?A.contains(z):true)}}else{if(document.documentElement.compareDocumentPosition){d.contains=function(A,z){return !!(A.compareDocumentPosition(z)&16)}}else{d.contains=function(){return false}}}d.isXML=function(z){var A=(z?z.ownerDocument||z:0).documentElement;return A?A.nodeName!=="HTML":false};var u=function(B,z,F){var E,G=[],D="",H=z.nodeType?[z]:z;while((E=m.match.PSEUDO.exec(B))){D+=E[0];B=B.replace(m.match.PSEUDO,"")}B=m.relative[B]?B+"*":B;for(var C=0,A=H.length;C<A;C++){d(B,H[C],G,F)}return d.filter(D,G)};baidu.dom.query=d})();(function(){var a=baidu.dom.ready=function(){var h=false,g=[],c;if(document.addEventListener){c=function(){document.removeEventListener("DOMContentLoaded",c,false);d()}}else{if(document.attachEvent){c=function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",c);d()}}}}function d(){if(!d.isReady){d.isReady=true;for(var m=0,k=g.length;m<k;m++){g[m]()}}}function b(){try{document.documentElement.doScroll("left")}catch(j){setTimeout(b,1);return}d()}function f(){if(h){return}h=true;if(document.readyState==="complete"){d.isReady=true}else{if(document.addEventListener){document.addEventListener("DOMContentLoaded",c,false);window.addEventListener("load",d,false)}else{if(document.attachEvent){document.attachEvent("onreadystatechange",c);window.attachEvent("onload",d);var j=false;try{j=window.frameElement==null}catch(k){}if(document.documentElement.doScroll&&j){b()}}}}}f();return function(j){d.isReady?j():g.push(j)}}();a.isReady=false})();baidu.dom.remove=function(a){a=baidu.dom._g(a);var b=a.parentNode;b&&b.removeChild(a)};baidu.dom.removeClass=function(g,h){g=baidu.dom.g(g);var d=g.className.split(/\s+/),k=h.split(/\s+/),b,a=k.length,c,f=0;for(;f<a;++f){for(c=0,b=d.length;c<b;++c){if(d[c]==k[f]){d.splice(c,1);break}}}g.className=d.join(" ");return g};baidu.removeClass=baidu.dom.removeClass;baidu.dom.removeStyle=function(){var b=document.createElement("DIV"),a,c=baidu.dom._g;if(b.style.removeProperty){a=function(f,d){f=c(f);f.style.removeProperty(d);return f}}else{if(b.style.removeAttribute){a=function(f,d){f=c(f);f.style.removeAttribute(baidu.string.toCamelCase(d));return f}}}b=null;return a}();baidu.object.each=function(f,c){var b,a,d;if("function"==typeof c){for(a in f){if(f.hasOwnProperty(a)){d=f[a];b=c.call(f,d,a);if(b===false){break}}}}return f};baidu.lang.isNumber=function(a){return"[object Number]"==Object.prototype.toString.call(a)&&isFinite(a)};baidu.event.getTarget=function(a){return a.target||a.srcElement};baidu.dom.setBorderBoxSize=function(c,b){var a={};b.width&&(a.width=parseFloat(b.width));b.height&&(a.height=parseFloat(b.height));function d(g,f){return parseFloat(baidu.getStyle(g,f))||0}if(baidu.browser.isStrict){if(b.width){a.width=parseFloat(b.width)-d(c,"paddingLeft")-d(c,"paddingRight")-d(c,"borderLeftWidth")-d(c,"borderRightWidth");a.width<0&&(a.width=0)}if(b.height){a.height=parseFloat(b.height)-d(c,"paddingTop")-d(c,"paddingBottom")-d(c,"borderTopWidth")-d(c,"borderBottomWidth");a.height<0&&(a.height=0)}}return baidu.dom.setStyles(c,a)};baidu.dom.setOuterHeight=baidu.dom.setBorderBoxHeight=function(b,a){return baidu.dom.setBorderBoxSize(b,{height:a})};baidu.dom.setOuterWidth=baidu.dom.setBorderBoxWidth=function(a,b){return baidu.dom.setBorderBoxSize(a,{width:b})};baidu.dom.resizable=function(d,h){var C,p,k={},c,a={},u,A,x,b,f,n,r,v=false,m=false,y={direction:["e","s","se"],minWidth:16,minHeight:16,classPrefix:"tangram",directionHandlePosition:{}};if(!(C=baidu.dom.g(d))&&baidu.getStyle(C,"position")=="static"){return false}b=C.offsetParent;var q=baidu.getStyle(C,"position");p=baidu.extend(y,h);baidu.each(["minHeight","minWidth","maxHeight","maxWidth"],function(D){p[D]&&(p[D]=parseFloat(p[D]))});u=[p.minWidth||0,p.maxWidth||Number.MAX_VALUE,p.minHeight||0,p.maxHeight||Number.MAX_VALUE];B();function B(){n=baidu.extend({e:{right:"-5px",top:"0px",width:"7px",height:C.offsetHeight},s:{left:"0px",bottom:"-5px",height:"7px",width:C.offsetWidth},n:{left:"0px",top:"-5px",height:"7px",width:C.offsetWidth},w:{left:"-5px",top:"0px",height:C.offsetHeight,width:"7px"},se:{right:"1px",bottom:"1px",height:"16px",width:"16px"},sw:{left:"1px",bottom:"1px",height:"16px",width:"16px"},ne:{right:"1px",top:"1px",height:"16px",width:"16px"},nw:{left:"1px",top:"1px",height:"16px",width:"16px"}},p.directionHandlePosition);baidu.each(p.direction,function(D){var E=p.classPrefix.split(" ");E[0]=E[0]+"-resizable-"+D;var G=baidu.dom.create("div",{className:E.join(" ")}),F=n[D];F.cursor=D+"-resize";F.position="absolute";baidu.setStyles(G,F);G.key=D;G.style.MozUserSelect="none";C.appendChild(G);k[D]=G;baidu.on(G,"mousedown",j)});v=false}function g(){f&&w();baidu.object.each(k,function(D){baidu.un(D,"mousedown",j);baidu.dom.remove(D)});v=true}function o(D){if(!v){p=baidu.extend(p,D||{});g();B()}}function j(F){m&&w();var E=baidu.event.getTarget(F),D=E.key;f=E;m=true;if(E.setCapture){E.setCapture()}else{if(window.captureEvents){window.captureEvents(Event.MOUSEMOVE|Event.MOUSEUP)}}x=baidu.getStyle(document.body,"cursor");baidu.setStyle(document.body,"cursor",D+"-resize");baidu.on(document.body,"mouseup",w);baidu.on(document.body,"selectstart",s);A=document.body.style.MozUserSelect;document.body.style.MozUserSelect="none";var G=baidu.page.getMousePosition();a=t();r=setInterval(function(){z(D,G)},20);baidu.lang.isFunction(p.onresizestart)&&p.onresizestart();baidu.event.preventDefault(F)}function w(){if(f&&f.releaseCapture){f.releaseCapture()}else{if(window.releaseEvents){window.releaseEvents(Event.MOUSEMOVE|Event.MOUSEUP)}}baidu.un(document.body,"mouseup",w);baidu.un(document,"selectstart",s);document.body.style.MozUserSelect=A;baidu.un(document.body,"selectstart",s);clearInterval(r);baidu.setStyle(document.body,"cursor",x);f=null;m=false;baidu.lang.isFunction(p.onresizeend)&&p.onresizeend()}function z(E,K){var J=baidu.page.getMousePosition(),F=a.width,D=a.height,I=a.top,H=a.left,G;if(E.indexOf("e")>=0){F=Math.max(J.x-K.x+a.width,u[0]);F=Math.min(F,u[1])}else{if(E.indexOf("w")>=0){F=Math.max(K.x-J.x+a.width,u[0]);F=Math.min(F,u[1]);H-=F-a.width}}if(E.indexOf("s")>=0){D=Math.max(J.y-K.y+a.height,u[2]);D=Math.min(D,u[3])}else{if(E.indexOf("n")>=0){D=Math.max(K.y-J.y+a.height,u[2]);D=Math.min(D,u[3]);I-=D-a.height}}G={width:F,height:D,top:I,left:H};baidu.dom.setOuterHeight(C,D);baidu.dom.setOuterWidth(C,F);baidu.setStyles(C,{top:I,left:H});k.n&&baidu.setStyle(k.n,"width",F);k.s&&baidu.setStyle(k.s,"width",F);k.e&&baidu.setStyle(k.e,"height",D);k.w&&baidu.setStyle(k.w,"height",D);baidu.lang.isFunction(p.onresize)&&p.onresize({current:G,original:a})}function s(D){return baidu.event.preventDefault(D,false)}function t(){var D=baidu.dom.getPosition(C.offsetParent),E=baidu.dom.getPosition(C),G,F;if(q=="absolute"){G=E.top-(C.offsetParent==document.body?0:D.top);F=E.left-(C.offsetParent==document.body?0:D.left)}else{G=parseFloat(baidu.getStyle(C,"top"))||-parseFloat(baidu.getStyle(C,"bottom"))||0;F=parseFloat(baidu.getStyle(C,"left"))||-parseFloat(baidu.getStyle(C,"right"))||0}baidu.setStyles(C,{top:G,left:F});return{width:C.offsetWidth,height:C.offsetHeight,top:G,left:F}}return{cancel:g,update:o,enable:B}};baidu.dom.setPixel=function(b,a,c){typeof c!="undefined"&&(baidu.dom.g(b).style[a]=c+(!isNaN(c)?"px":""))};baidu.dom.setPosition=function(b,a){return baidu.dom.setStyles(b,{left:a.left-(parseFloat(baidu.dom.getStyle(b,"margin-left"))||0),top:a.top-(parseFloat(baidu.dom.getStyle(b,"margin-top"))||0)})};baidu.dom.show=function(a){a=baidu.dom.g(a);a.style.display="";return a};baidu.show=baidu.dom.show;baidu.dom.toggle=function(a){a=baidu.dom.g(a);a.style.display=a.style.display=="none"?"":"none";return a};baidu.dom.toggleClass=function(a,b){if(baidu.dom.hasClass(a,b)){baidu.dom.removeClass(a,b)}else{baidu.dom.addClass(a,b)}};baidu.dom._styleFilter[baidu.dom._styleFilter.length]={get:function(c,d){if(/color/i.test(c)&&d.indexOf("rgb(")!=-1){var f=d.split(",");d="#";for(var b=0,a;a=f[b];b++){a=parseInt(a.replace(/[^\d]/gi,""),10).toString(16);d+=a.length==1?"0"+a:a}d=d.toUpperCase()}return d}};baidu.dom._styleFixer.display=baidu.browser.ie&&baidu.browser.ie<8?{set:function(a,b){a=a.style;if(b=="inline-block"){a.display="inline";a.zoom=1}else{a.display=b}}}:baidu.browser.firefox&&baidu.browser.firefox<3?{set:function(a,b){a.style.display=b=="inline-block"?"-moz-inline-box":b}}:null;baidu.dom._styleFixer["float"]=baidu.browser.ie?"styleFloat":"cssFloat";baidu.dom._styleFixer.opacity=baidu.browser.ie?{get:function(a){var b=a.style.filter;return b&&b.indexOf("opacity=")>=0?(parseFloat(b.match(/opacity=([^)]*)/)[1])/100)+"":"1"},set:function(a,c){var b=a.style;b.filter=(b.filter||"").replace(/alpha\([^\)]*\)/gi,"")+(c==1?"":"alpha(opacity="+c*100+")");b.zoom=1}}:null;baidu.dom._styleFixer.textOverflow=(function(){var b={};function a(f){var g=f.length;if(g>0){g=f[g-1];f.length--}else{g=null}return g}function c(f,g){f[baidu.browser.firefox?"textContent":"innerText"]=g}function d(p,j,u){var m=baidu.browser.ie?p.currentStyle||p.style:getComputedStyle(p,null),t=m.fontWeight,s="font-family:"+m.fontFamily+";font-size:"+m.fontSize+";word-spacing:"+m.wordSpacing+";font-weight:"+((parseInt(t)||0)==401?700:t)+";font-style:"+m.fontStyle+";font-variant:"+m.fontVariant,f=b[s];if(!f){m=p.appendChild(document.createElement("div"));m.style.cssText="float:left;"+s;f=b[s]=[];for(var q=0;q<256;q++){q==32?(m.innerHTML="&nbsp;"):c(m,String.fromCharCode(q));f[q]=m.offsetWidth}c(m,"\u4e00");f[256]=m.offsetWidth;c(m,"\u4e00\u4e00");f[257]=m.offsetWidth-f[256]*2;f[258]=f[".".charCodeAt(0)]*3+f[257]*3;p.removeChild(m)}for(var n=p.firstChild,r=f[256],h=f[257],g=f[258],w=[],u=u?g:0;n;n=n.nextSibling){if(j<u){p.removeChild(n)}else{if(n.nodeType==3){for(var q=0,v=n.nodeValue,k=v.length;q<k;q++){m=v.charCodeAt(q);w[w.length]=[j,n,q];j-=(q?h:0)+(m<256?f[m]:r);if(j<u){break}}}else{m=n.tagName;if(m=="IMG"||m=="TABLE"){m=n;n=n.previousSibling;p.removeChild(m)}else{w[w.length]=[j,n];j-=n.offsetWidth}}}}if(j<u){while(m=a(w)){j=m[0];n=m[1];m=m[2];if(n.nodeType==3){if(j>=g){n.nodeValue=n.nodeValue.substring(0,m)+"...";return true}else{if(!m){p.removeChild(n)}}}else{if(d(n,j,true)){return true}else{p.removeChild(n)}}}p.innerHTML=""}}return{get:function(h){var g=baidu.browser,f=dom.getStyle;return(g.opera?f("OTextOverflow"):g.firefox?h._baiduOverflow:f("textOverflow"))||"clip"},set:function(g,j){var f=baidu.browser;if(g.tagName=="TD"||g.tagName=="TH"||f.firefox){g._baiduHTML&&(g.innerHTML=g._baiduHTML);if(j=="ellipsis"){g._baiduHTML=g.innerHTML;var k=document.createElement("div"),h=g.appendChild(k).offsetWidth;g.removeChild(k);d(g,h)}else{g._baiduHTML=""}}k=g.style;f.opera?(k.OTextOverflow=j):f.firefox?(g._baiduOverflow=j):(k.textOverflow=j)}}})();baidu.lang.isArray=function(a){return"[object Array]"==Object.prototype.toString.call(a)};baidu.lang.toArray=function(b){if(b===null||b===undefined){return[]}if(baidu.lang.isArray(b)){return b}if(typeof b.length!=="number"||typeof b==="string"||baidu.lang.isFunction(b)){return[b]}if(b.item){var a=b.length,c=new Array(a);while(a--){c[a]=b[a]}return c}return[].slice.call(b)};baidu.fn.methodize=function(b,a){return function(){return b.apply(this,[(a?this[a]:this)].concat([].slice.call(arguments)))}};baidu.fn.wrapReturnValue=function(a,c,b){b=b|0;return function(){var d=a.apply(this,arguments);if(b>0){return new c(arguments[b-1])}if(!b){return new c(d)}return d}};baidu.fn.multize=function(d,b,a){var c=function(){var n=arguments[0],j=b?c:d,g=[],m=[].slice.call(arguments,0),h=0,f,k;if(n instanceof Array){for(f=n.length;h<f;h++){m[0]=n[h];k=j.apply(this,m);if(a){if(k){g=g.concat(k)}}else{g.push(k)}}return g}else{return d.apply(this,arguments)}};return c};baidu.element=function(b){var a=baidu._g(b);if(!a&&baidu.dom.query){a=baidu.dom.query(b)}return new baidu.element.Element(a)};baidu.e=baidu.element;baidu.element.Element=function(a){if(!baidu.element._init){baidu.element._makeChain();baidu.element._init=true}this._dom=(a.tagName||"").toLowerCase()=="select"?[a]:baidu.lang.toArray(a)};baidu.element.Element.prototype.each=function(a){baidu.array.each(this._dom,function(c,b){a.call(c,c,b)})};baidu.element._toChainFunction=function(c,b,a){return baidu.fn.methodize(baidu.fn.wrapReturnValue(baidu.fn.multize(c,0,1),baidu.element.Element,b),"_dom")};baidu.element._makeChain=function(){var b=baidu.element.Element.prototype,c=baidu.element._toChainFunction;baidu.each(("draggable droppable resizable fixable").split(" "),function(d){b[d]=c(baidu.dom[d],1)});baidu.each(("remove getText contains getAttr getPosition getStyle hasClass intersect hasAttr getComputedStyle").split(" "),function(d){b[d]=b[d.replace(/^get[A-Z]/g,a)]=c(baidu.dom[d],-1)});baidu.each(("addClass empty hide show insertAfter insertBefore insertHTML removeClass setAttr setAttrs setStyle setStyles show toggleClass toggle next first getAncestorByClass getAncestorBy getAncestorByTag getDocument getParent getWindow last next prev g removeStyle setBorderBoxSize setOuterWidth setOuterHeight setBorderBoxWidth setBorderBoxHeight setPosition children query").split(" "),function(d){b[d]=b[d.replace(/^get[A-Z]/g,a)]=c(baidu.dom[d],0)});b.q=b.Q=c(function(f,d){return baidu.dom.q.apply(this,[d,f].concat([].slice.call(arguments,2)))},0);baidu.each(("on un").split(" "),function(d){b[d]=c(baidu.event[d],0)});baidu.each(("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error").split(" "),function(d){b[d]=function(f){return this.on(d,f)}});function a(d){return d.charAt(3).toLowerCase()}};baidu.element.extend=function(a){var b=baidu.element;baidu.object.each(a,function(d,c){b.Element.prototype[c]=baidu.element._toChainFunction(d,-1)})};baidu.event.EventArg=function(c,f){f=f||window;c=c||f.event;var d=f.document;this.target=(c.target)||c.srcElement;this.keyCode=c.which||c.keyCode;for(var a in c){var b=c[a];if("function"!=typeof b){this[a]=b}}if(!this.pageX&&this.pageX!==0){this.pageX=(c.clientX||0)+(d.documentElement.scrollLeft||d.body.scrollLeft);this.pageY=(c.clientY||0)+(d.documentElement.scrollTop||d.body.scrollTop)}this._event=c};baidu.event.EventArg.prototype.preventDefault=function(){if(this._event.preventDefault){this._event.preventDefault()}else{this._event.returnValue=false}return this};baidu.event.EventArg.prototype.stopPropagation=function(){if(this._event.stopPropagation){this._event.stopPropagation()}else{this._event.cancelBubble=true}return this};baidu.event.EventArg.prototype.stop=function(){return this.stopPropagation().preventDefault()};baidu.object.values=function(d){var a=[],c=0,b;for(b in d){if(d.hasOwnProperty(b)){a[c++]=d[b]}}return a};(function(){var d=baidu.browser,n={keydown:1,keyup:1,keypress:1},a={click:1,dblclick:1,mousedown:1,mousemove:1,mouseup:1,mouseover:1,mouseout:1},j={abort:1,blur:1,change:1,error:1,focus:1,load:d.ie?0:1,reset:1,resize:1,scroll:1,select:1,submit:1,unload:d.ie?0:1},g={scroll:1,resize:1,reset:1,submit:1,change:1,select:1,error:1,abort:1},m={KeyEvents:["bubbles","cancelable","view","ctrlKey","altKey","shiftKey","metaKey","keyCode","charCode"],MouseEvents:["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget"],HTMLEvents:["bubbles","cancelable"],UIEvents:["bubbles","cancelable","view","detail"],Events:["bubbles","cancelable"]};baidu.object.extend(g,n);baidu.object.extend(g,a);function c(t,r){var q=0,p=t.length,s={};for(;q<p;q++){s[t[q]]=r[t[q]];delete r[t[q]]}return s}function f(r,q,p){p=baidu.object.extend({},p);var s=baidu.object.values(c(m[q],p)),t=document.createEvent(q);s.unshift(r);if("KeyEvents"==q){t.initKeyEvent.apply(t,s)}else{if("MouseEvents"==q){t.initMouseEvent.apply(t,s)}else{if("UIEvents"==q){t.initUIEvent.apply(t,s)}else{t.initEvent.apply(t,s)}}}baidu.object.extend(t,p);return t}function b(p){var q;if(document.createEventObject){q=document.createEventObject();baidu.object.extend(q,p)}return q}function h(s,p){p=c(m.KeyEvents,p);var t;if(document.createEvent){try{t=f(s,"KeyEvents",p)}catch(r){try{t=f(s,"Events",p)}catch(q){t=f(s,"UIEvents",p)}}}else{p.keyCode=p.charCode>0?p.charCode:p.keyCode;t=b(p)}return t}function o(q,p){p=c(m.MouseEvents,p);var r;if(document.createEvent){r=f(q,"MouseEvents",p);if(p.relatedTarget&&!r.relatedTarget){if("mouseout"==q.toLowerCase()){r.toElement=p.relatedTarget}else{if("mouseover"==q.toLowerCase()){r.fromElement=p.relatedTarget}}}}else{p.button=p.button==0?1:p.button==1?4:baidu.lang.isNumber(p.button)?p.button:0;r=b(p)}return r}function k(r,p){p.bubbles=g.hasOwnProperty(r);p=c(m.HTMLEvents,p);var t;if(document.createEvent){try{t=f(r,"HTMLEvents",p)}catch(s){try{t=f(r,"UIEvents",p)}catch(q){t=f(r,"Events",p)}}}else{t=b(p)}return t}baidu.event.fire=function(q,r,p){var s;r=r.replace(/^on/i,"");q=baidu.dom._g(q);p=baidu.object.extend({bubbles:true,cancelable:true,view:window,detail:1,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false,keyCode:0,charCode:0,button:0,relatedTarget:null},p);if(n[r]){s=h(r,p)}else{if(a[r]){s=o(r,p)}else{if(j[r]){s=k(r,p)}else{throw (new Error(r+" is not support!"))}}}if(s){if(q.dispatchEvent){q.dispatchEvent(s)}else{if(q.fireEvent){q.fireEvent("on"+r,s)}}}}})();baidu.event.get=function(a,b){return new baidu.event.EventArg(a,b)};baidu.event.getEvent=function(a){if(window.event){return window.event}else{var b=arguments.callee;do{if(/Event/.test(b.arguments[0])){return b.arguments[0]}}while(b=b.caller);return null}};baidu.event.getKeyCode=function(a){return a.which||a.keyCode};baidu.event.getPageX=function(b){var a=b.pageX,c=document;if(!a&&a!==0){a=(b.clientX||0)+(c.documentElement.scrollLeft||c.body.scrollLeft)}return a};baidu.event.getPageY=function(b){var a=b.pageY,c=document;if(!a&&a!==0){a=(b.clientY||0)+(c.documentElement.scrollTop||c.body.scrollTop)}return a};baidu.event.once=function(a,b,c){a=baidu.dom._g(a);function d(f){c.call(a,f);baidu.event.un(a,b,d)}baidu.event.on(a,b,d);return a};baidu.event.stopPropagation=function(a){if(a.stopPropagation){a.stopPropagation()}else{a.cancelBubble=true}};baidu.event.stop=function(a){var b=baidu.event;b.stopPropagation(a);b.preventDefault(a)};baidu.event._eventFilter=baidu.event._eventFilter||{};baidu.event._eventFilter._crossElementBoundary=function(a,d){var c=d.relatedTarget,b=d.currentTarget;if(c===false||b==c||(c&&(c.prefix=="xul"||baidu.dom.contains(b,c)))){return}return a.call(b,d)};baidu.fn.bind=function(b,a){var c=arguments.length>2?[].slice.call(arguments,2):null;return function(){var f=baidu.lang.isString(b)?a[b]:b,d=(c)?c.concat([].slice.call(arguments,0)):arguments;return f.apply(a||f,d)}};baidu.event._eventFilter.mouseenter=window.attachEvent?null:function(a,b,c){return{type:"mouseover",listener:baidu.fn.bind(baidu.event._eventFilter._crossElementBoundary,this,c)}};baidu.event._eventFilter.mouseleave=window.attachEvent?null:function(a,b,c){return{type:"mouseout",listener:baidu.fn.bind(baidu.event._eventFilter._crossElementBoundary,this,c)}};baidu.event._unload=function(){var c=baidu.event._listeners,a=c.length,b=!!window.removeEventListener,f,d;while(a--){f=c[a];if(f[1]=="unload"){continue}if(!(d=f[0])){continue}if(d.removeEventListener){d.removeEventListener(f[1],f[3],false)}else{if(d.detachEvent){d.detachEvent("on"+f[1],f[3])}}}if(b){window.removeEventListener("unload",baidu.event._unload,false)}else{window.detachEvent("onunload",baidu.event._unload)}};if(window.attachEvent){window.attachEvent("onunload",baidu.event._unload)}else{window.addEventListener("unload",baidu.event._unload,false)}baidu.fn.abstractMethod=function(){throw Error("unimplemented abstract method")};baidu.form=baidu.form||{};baidu.form.json=function(c,f){var b=c.elements,f=f||function(t,s){return t},j={},q,m,r,d,a,p,o,n;function g(s,t){var u=j[s];if(u){u.push||(j[s]=[u]);j[s].push(t)}else{j[s]=t}}for(var h=0,k=b.length;h<k;h++){q=b[h];r=q.name;if(!q.disabled&&r){m=q.type;d=baidu.url.escapeSymbol(q.value);switch(m){case"radio":case"checkbox":if(!q.checked){break}case"textarea":case"text":case"password":case"hidden":case"file":case"select-one":g(r,f(d,r));break;case"select-multiple":a=q.options;o=a.length;for(p=0;p<o;p++){n=a[p];if(n.selected){g(r,f(n.value,r))}}break}}}return j};baidu.form.serialize=function(c,f){var b=c.elements,f=f||function(t,s){return t},j=[],q,m,r,d,a,p,o,n;function g(s,t){j.push(s+"="+t)}for(var h=0,k=b.length;h<k;h++){q=b[h];r=q.name;if(!q.disabled&&r){m=q.type;d=baidu.url.escapeSymbol(q.value);switch(m){case"radio":case"checkbox":if(!q.checked){break}case"textarea":case"text":case"password":case"hidden":case"file":case"select-one":g(r,f(d,r));break;case"select-multiple":a=q.options;o=a.length;for(p=0;p<o;p++){n=a[p];if(n.selected){g(r,f(n.value,r))}}break}}}return j};baidu.global=baidu.global||{};window[baidu.guid].global=window[baidu.guid].global||{};(function(){var a=window[baidu.guid].global;baidu.global.get=function(b){return a[b]}})();(function(){var a=window[baidu.guid].global;baidu.global.set=function(f,g,d){var c=!d||(d&&typeof a[f]=="undefined");c&&(a[f]=g);return a[f]}})();baidu.global.getZIndex=function(a,b){if(a){a=baidu.global.get("zIndex")[a]=baidu.global.get("zIndex")[a]+(b||1)}return a};baidu.global.set("zIndex",{popup:50000,dialog:1000},true);baidu.json=baidu.json||{};baidu.json.parse=function(a){return(new Function("return ("+a+")"))()};baidu.json.decode=baidu.json.parse;baidu.json.stringify=(function(){var b={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function a(g){if(/["\\\x00-\x1f]/.test(g)){g=g.replace(/["\\\x00-\x1f]/g,function(h){var j=b[h];if(j){return j}j=h.charCodeAt();return"\\u00"+Math.floor(j/16).toString(16)+(j%16).toString(16)})}return'"'+g+'"'}function d(n){var h=["["],j=n.length,g,k,m;for(k=0;k<j;k++){m=n[k];switch(typeof m){case"undefined":case"function":case"unknown":break;default:if(g){h.push(",")}h.push(baidu.json.stringify(m));g=1}}h.push("]");return h.join("")}function c(g){return g<10?"0"+g:g}function f(g){return'"'+g.getFullYear()+"-"+c(g.getMonth()+1)+"-"+c(g.getDate())+"T"+c(g.getHours())+":"+c(g.getMinutes())+":"+c(g.getSeconds())+'"'}return function(n){switch(typeof n){case"undefined":return"undefined";case"number":return isFinite(n)?String(n):"null";case"string":return a(n);case"boolean":return String(n);default:if(n===null){return"null"}else{if(n instanceof Array){return d(n)}else{if(n instanceof Date){return f(n)}else{var h=["{"],m=baidu.json.stringify,g,k;for(var j in n){if(Object.prototype.hasOwnProperty.call(n,j)){k=n[j];switch(typeof k){case"undefined":case"unknown":case"function":break;default:if(g){h.push(",")}g=1;h.push(m(j)+":"+m(k))}}}h.push("}");return h.join("")}}}}}})();baidu.json.encode=baidu.json.stringify;baidu.lang.Class.prototype.addEventListeners=function(c,d){if(typeof d=="undefined"){for(var b in c){this.addEventListener(b,c[b])}}else{c=c.split(",");var b=0,a=c.length,f;for(;b<a;b++){this.addEventListener(baidu.trim(c[b]),d)}}};baidu.lang.createClass=function(b,k){k=k||{};var h=k.superClass||baidu.lang.Class;var j=function(){var o=this;k.decontrolled&&(o.__decontrolled=true);h.apply(o,arguments);for(m in j.options){o[m]=j.options[m]}b.apply(o,arguments);for(var m=0,n=j["\x06r"];n&&m<n.length;m++){n[m].apply(o,arguments)}};j.options=k.options||{};var a=function(){},g=b.prototype;a.prototype=h.prototype;var d=j.prototype=new a();for(var c in g){d[c]=g[c]}var f=k.className||k.type;typeof f=="string"&&(d.__type=f);d.constructor=g.constructor;j.extend=function(n){for(var m in n){j.prototype[m]=n[m]}return j};return j};window[baidu.guid]._instances=window[baidu.guid]._instances||{};baidu.lang.decontrol=function(b){var a=window[baidu.guid];a._instances&&(delete a._instances[b])};baidu.lang.eventCenter=baidu.lang.eventCenter||baidu.lang.createSingle();baidu.lang.getModule=function(b,c){var d=b.split("."),f=c||window,a;for(;a=d.shift();){if(f[a]!=null){f=f[a]}else{return null}}return f};baidu.lang.inherits=function(h,f,d){var c,g,a=h.prototype,b=new Function();b.prototype=f.prototype;g=h.prototype=new b();for(c in a){g[c]=a[c]}h.prototype.constructor=h;h.superClass=f.prototype;typeof d=="string"&&(g.__type=d);h.extend=function(k){for(var j in k){g[j]=k[j]}return h};return h};baidu.inherits=baidu.lang.inherits;baidu.lang.instance=function(a){return window[baidu.guid]._instances[a]||null};baidu.lang.isBoolean=function(a){return typeof a==="boolean"};baidu.lang.isDate=function(a){return{}.toString.call(a)==="[object Date]"&&a.toString()!=="Invalid Date"&&!isNaN(a)};baidu.lang.isElement=function(a){return !!(a&&a.nodeName&&a.nodeType==1)};baidu.lang.isObject=function(a){return"function"==typeof a||!!(a&&"object"==typeof a)};baidu.isObject=baidu.lang.isObject;baidu.lang.module=function(name,module,owner){var packages=name.split("."),len=packages.length-1,packageName,i=0;if(!owner){try{if(!(new RegExp("^[a-zA-Z_\x24][a-zA-Z0-9_\x24]*\x24")).test(packages[0])){throw""}owner=eval(packages[0]);i=1}catch(e){owner=window}}for(;i<len;i++){packageName=packages[i];if(!owner[packageName]){owner[packageName]={}}owner=owner[packageName]}if(!owner[packages[len]]){owner[packages[len]]=module}};baidu.lang.register=function(b,d,a){var c=b["\x06r"]||(b["\x06r"]=[]);c[c.length]=d;for(var f in a){b.prototype[f]=a[f]}};baidu.number.comma=function(b,a){if(!a||a<1){a=3}b=String(b).split(".");b[0]=b[0].replace(new RegExp("(\\d)(?=(\\d{"+a+"})+$)","ig"),"$1,");return b.join(".")};baidu.number.randomInt=function(b,a){return Math.floor(Math.random()*(a-b+1)+b)};baidu.object.isPlain=function(c){var b=Object.prototype.hasOwnProperty,a;if(!c||Object.prototype.toString.call(c)!=="[object Object]"||!("isPrototypeOf" in c)){return false}if(c.constructor&&!b.call(c,"constructor")&&!b.call(c.constructor.prototype,"isPrototypeOf")){return false}for(a in c){}return a===undefined||b.call(c,a)};baidu.object.clone=function(f){var b=f,c,a;if(!f||f instanceof Number||f instanceof String||f instanceof Boolean){return b}else{if(baidu.lang.isArray(f)){b=[];var d=0;for(c=0,a=f.length;c<a;c++){b[d++]=baidu.object.clone(f[c])}}else{if(baidu.object.isPlain(f)){b={};for(c in f){if(f.hasOwnProperty(c)){b[c]=baidu.object.clone(f[c])}}}}}return b};baidu.object.isEmpty=function(b){for(var a in b){return false}return true};baidu.object.keys=function(d){var a=[],c=0,b;for(b in d){if(d.hasOwnProperty(b)){a[c++]=b}}return a};baidu.object.map=function(d,c){var b={};for(var a in d){if(d.hasOwnProperty(a)){b[a]=c(d[a],a)}}return b};(function(){var b=function(c){return baidu.lang.isObject(c)&&!baidu.lang.isFunction(c)};function a(h,g,f,d,c){if(g.hasOwnProperty(f)){if(c&&b(h[f])){baidu.object.merge(h[f],g[f],{overwrite:d,recursive:c})}else{if(d||!(f in h)){h[f]=g[f]}}}}baidu.object.merge=function(j,c,m){var f=0,n=m||{},h=n.overwrite,k=n.whiteList,d=n.recursive,g;if(k&&k.length){g=k.length;for(;f<g;++f){a(j,c,k[f],h,d)}}else{for(f in c){a(j,c,f,h,d)}}return j}})();baidu.page.createStyleSheet=function(a){var g=a||{},d=g.document||document,c;if(baidu.browser.ie){if(!g.url){g.url=""}return d.createStyleSheet(g.url,g.index)}else{c="<style type='text/css'></style>";g.url&&(c="<link type='text/css' rel='stylesheet' href='"+g.url+"'/>");baidu.dom.insertHTML(d.getElementsByTagName("HEAD")[0],"beforeEnd",c);if(g.url){return null}var b=d.styleSheets[d.styleSheets.length-1],f=b.rules||b.cssRules;return{self:b,rules:b.rules||b.cssRules,addRule:function(h,k,j){if(b.addRule){return b.addRule(h,k,j)}else{if(b.insertRule){isNaN(j)&&(j=f.length);return b.insertRule(h+"{"+k+"}",j)}}},removeRule:function(h){if(b.removeRule){b.removeRule(h)}else{if(b.deleteRule){isNaN(h)&&(h=0);b.deleteRule(h)}}}}}};baidu.page.getHeight=function(){var d=document,a=d.body,c=d.documentElement,b=d.compatMode=="BackCompat"?a:d.documentElement;return Math.max(c.scrollHeight,a.scrollHeight,b.clientHeight)};baidu.page.getWidth=function(){var d=document,a=d.body,c=d.documentElement,b=d.compatMode=="BackCompat"?a:d.documentElement;return Math.max(c.scrollWidth,a.scrollWidth,b.clientWidth)};baidu.page.lazyLoadImage=function(a){a=a||{};a.preloadHeight=a.preloadHeight||0;baidu.dom.ready(function(){var f=document.getElementsByTagName("IMG"),g=f,h=f.length,d=0,m=c(),k="data-tangram-ori-src",j;if(a.className){g=[];for(;d<h;++d){if(baidu.dom.hasClass(f[d],a.className)){g.push(f[d])}}}function c(){return baidu.page.getScrollTop()+baidu.page.getViewHeight()+a.preloadHeight}for(d=0,h=g.length;d<h;++d){j=g[d];if(baidu.dom.getPosition(j).top>m){j.setAttribute(k,j.src);a.placeHolder?j.src=a.placeHolder:j.removeAttribute("src")}}var b=function(){var o=c(),q,r=true,p=0,n=g.length;for(;p<n;++p){j=g[p];q=j.getAttribute(k);q&&(r=false);if(baidu.dom.getPosition(j).top<o&&q){j.src=q;j.removeAttribute(k);baidu.lang.isFunction(a.onlazyload)&&a.onlazyload(j)}}r&&baidu.un(window,"scroll",b)};baidu.on(window,"scroll",b)})};baidu.page.load=function(c,m,f){m=m||{};var j=baidu.page.load,a=j._cache=j._cache||{},h=j._loadingCache=j._loadingCache||{},g=m.parallel;function d(){for(var o=0,n=c.length;o<n;++o){if(!a[c[o].url]){setTimeout(arguments.callee,10);return}}m.onload()}function b(p,r){var q,o,n;switch(p.type.toLowerCase()){case"css":q=document.createElement("link");q.setAttribute("rel","stylesheet");q.setAttribute("type","text/css");break;case"js":q=document.createElement("script");q.setAttribute("type","text/javascript");q.setAttribute("charset",p.charset||j.charset);break;case"html":q=document.createElement("iframe");q.frameBorder="none";break;default:return}n=function(){if(!o&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){o=true;baidu.un(q,"load",n);baidu.un(q,"readystatechange",n);r.call(window,q)}};baidu.on(q,"load",n);baidu.on(q,"readystatechange",n);if(p.type=="css"){(function(){if(o){return}try{q.sheet.cssRule}catch(s){setTimeout(arguments.callee,20);return}o=true;r.call(window,q)})()}q.href=q.src=p.url;document.getElementsByTagName("head")[0].appendChild(q)}baidu.lang.isString(c)&&(c=[{url:c}]);if(!(c&&c.length)){return}function k(p){var o=p.url,q=!!g,n,r=function(s){a[p.url]=s;delete h[p.url];if(baidu.lang.isFunction(p.onload)){if(false===p.onload.call(window,s)){return}}!g&&j(c.slice(1),m,true);if((!f)&&baidu.lang.isFunction(m.onload)){d()}};p.type=p.type||o.replace(/^[^\?#]+\.(css|js|html)(\?|#| |$)[^\?#]*/i,"$1");p.requestType=p.requestType||(p.type=="html"?"ajax":"dom");if(n=a[p.url]){r(n);return q}if(!m.refresh&&h[p.url]){setTimeout(function(){k(p)},10);return q}h[p.url]=true;if(p.requestType.toLowerCase()=="dom"){b(p,r)}else{baidu.ajax.get(p.url,function(t,s){r(s)})}return q}baidu.each(c,k)};baidu.page.load.charset="UTF8";baidu.page.loadCssFile=function(b){var a=document.createElement("link");a.setAttribute("rel","stylesheet");a.setAttribute("type","text/css");a.setAttribute("href",b);document.getElementsByTagName("head")[0].appendChild(a)};baidu.page.loadJsFile=function(b){var a=document.createElement("script");a.setAttribute("type","text/javascript");a.setAttribute("src",b);a.setAttribute("defer","defer");document.getElementsByTagName("head")[0].appendChild(a)};baidu.platform=baidu.platform||{};baidu.platform.isAndroid=/android/i.test(navigator.userAgent);baidu.platform.isIpad=/ipad/i.test(navigator.userAgent);baidu.platform.isIphone=/iphone/i.test(navigator.userAgent);baidu.platform.isMacintosh=/macintosh/i.test(navigator.userAgent);baidu.platform.isWindows=/windows/i.test(navigator.userAgent);baidu.platform.isX11=/x11/i.test(navigator.userAgent);baidu.sio=baidu.sio||{};baidu.sio._createScriptTag=function(b,a,c){b.setAttribute("type","text/javascript");c&&b.setAttribute("charset",c);b.setAttribute("src",a);document.getElementsByTagName("head")[0].appendChild(b)};baidu.sio._removeScriptTag=function(b){if(b.clearAttributes){b.clearAttributes()}else{for(var a in b){if(b.hasOwnProperty(a)){delete b[a]}}}if(b&&b.parentNode){b.parentNode.removeChild(b)}b=null};baidu.sio.callByBrowser=function(a,h,k){var d=document.createElement("SCRIPT"),f=0,m=k||{},c=m.charset,j=h||function(){},g=m.timeOut||0,b;d.onload=d.onreadystatechange=function(){if(f){return}var n=d.readyState;if("undefined"==typeof n||n=="loaded"||n=="complete"){f=1;try{j();clearTimeout(b)}finally{d.onload=d.onreadystatechange=null;baidu.sio._removeScriptTag(d)}}};if(g){b=setTimeout(function(){d.onload=d.onreadystatechange=null;baidu.sio._removeScriptTag(d);m.onfailure&&m.onfailure()},g)}baidu.sio._createScriptTag(d,a,c)};baidu.sio.callByServer=function(a,p,q){var k=document.createElement("SCRIPT"),j="bd__cbs__",n,f,r=q||{},d=r.charset,g=r.queryField||"callback",o=r.timeOut||0,b,c=new RegExp("(\\?|&)"+g+"=([^&]*)"),h;if(baidu.lang.isFunction(p)){n=j+Math.floor(Math.random()*2147483648).toString(36);window[n]=m(0)}else{if(baidu.lang.isString(p)){n=p}else{if(h=c.exec(a)){n=h[2]}}}if(o){b=setTimeout(m(1),o)}a=a.replace(c,"\x241"+g+"="+n);if(a.search(c)<0){a+=(a.indexOf("?")<0?"?":"&")+g+"="+n}baidu.sio._createScriptTag(k,a,d);function m(s){return function(){try{if(s){r.onfailure&&r.onfailure()}else{p.apply(window,arguments);clearTimeout(b)}window[n]=null;delete window[n]}catch(t){}finally{baidu.sio._removeScriptTag(k)}}}};baidu.sio.log=function(b){var a=new Image(),c="tangram_sio_log_"+Math.floor(Math.random()*2147483648).toString(36);window[c]=a;a.onload=a.onerror=a.onabort=function(){a.onload=a.onerror=a.onabort=null;window[c]=null;a=null};a.src=b};baidu.string.decodeHTML=function(a){var b=String(a).replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&");return b.replace(/&#([\d]+);/g,function(d,c){return String.fromCharCode(parseInt(c,10))})};baidu.decodeHTML=baidu.string.decodeHTML;baidu.string.encodeHTML=function(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")};baidu.encodeHTML=baidu.string.encodeHTML;baidu.string.filterFormat=function(c,a){var b=Array.prototype.slice.call(arguments,1),d=Object.prototype.toString;if(b.length){b=b.length==1?(a!==null&&(/\[object Array\]|\[object Object\]/.test(d.call(a)))?a:b):b;return c.replace(/#\{(.+?)\}/g,function(g,k){var n,j,h,f,m;if(!b){return""}n=k.split("|");j=b[n[0]];if("[object Function]"==d.call(j)){j=j(n[0])}for(h=1,f=n.length;h<f;++h){m=baidu.string.filterFormat[n[h]];if("[object Function]"==d.call(m)){j=m(j)}}return(("undefined"==typeof j||j===null)?"":j)})}return c};baidu.string.filterFormat.escapeJs=function(f){if(!f||"string"!=typeof f){return f}var d,a,b,c=[];for(d=0,a=f.length;d<a;++d){b=f.charCodeAt(d);if(b>255){c.push(f.charAt(d))}else{c.push("\\x"+b.toString(16))}}return c.join("")};baidu.string.filterFormat.js=baidu.string.filterFormat.escapeJs;baidu.string.filterFormat.escapeString=function(a){if(!a||"string"!=typeof a){return a}return a.replace(/["'<>\\\/`]/g,function(b){return"&#"+b.charCodeAt(0)+";"})};baidu.string.filterFormat.e=baidu.string.filterFormat.escapeString;baidu.string.filterFormat.toInt=function(a){return parseInt(a,10)||0};baidu.string.filterFormat.i=baidu.string.filterFormat.toInt;baidu.string.format=function(c,a){c=String(c);var b=Array.prototype.slice.call(arguments,1),d=Object.prototype.toString;if(b.length){b=b.length==1?(a!==null&&(/\[object Array\]|\[object Object\]/.test(d.call(a)))?a:b):b;return c.replace(/#\{(.+?)\}/g,function(f,h){var g=b[h];if("[object Function]"==d.call(g)){g=g(h)}return("undefined"==typeof g?"":g)})}return c};baidu.format=baidu.string.format;(function(){var c=/^\#[\da-f]{6}$/i,b=/^rgb\((\d+), (\d+), (\d+)\)$/,a={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",green:"#008000",lime:"#00ff00",olive:"#808000",yellow:"#ffff0",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff"};baidu.string.formatColor=function(f){if(c.test(f)){return f}else{if(b.test(f)){for(var k,j=1,f="#";j<4;j++){k=parseInt(RegExp["\x24"+j]).toString(16);f+=("00"+k).substr(k.length)}return f}else{if(/^\#[\da-f]{3}$/.test(f)){var h=f.charAt(1),g=f.charAt(2),d=f.charAt(3);return"#"+h+h+g+g+d+d}else{if(a[f]){return a[f]}}}}return""}})();baidu.string.getByteLength=function(a){return String(a).replace(/[^\x00-\xff]/g,"ci").length};baidu.string.stripTags=function(a){return String(a||"").replace(/<[^>]+>/g,"")};baidu.string.subByte=function(c,b,a){c=String(c);a=a||"";if(b<0||baidu.string.getByteLength(c)<=b){return c+a}c=c.substr(0,b).replace(/([^\x00-\xff])/g,"\x241 ").substr(0,b).replace(/[^\x00-\xff]$/,"").replace(/([^\x00-\xff]) /g,"\x241");return c+a};baidu.string.toHalfWidth=function(a){return String(a).replace(/[\uFF01-\uFF5E]/g,function(b){return String.fromCharCode(b.charCodeAt(0)-65248)}).replace(/\u3000/g," ")};baidu.string.wbr=function(a){return String(a).replace(/(?:<[^>]+>)|(?:&#?[0-9a-z]{2,6};)|(.{1})/gi,"$&<wbr>").replace(/><wbr>/g,">")};baidu.swf=baidu.swf||{};baidu.swf.version=(function(){var h=navigator;if(h.plugins&&h.mimeTypes.length){var d=h.plugins["Shockwave Flash"];if(d&&d.description){return d.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s)+r/,".")+".0"}}else{if(window.ActiveXObject&&!window.opera){for(var b=12;b>=2;b--){try{var g=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+b);if(g){var a=g.GetVariable("$version");return a.replace(/WIN/g,"").replace(/,/g,".")}}catch(f){}}}}})();baidu.swf.createHTML=function(u){u=u||{};var m=baidu.swf.version,h=u.ver||"6.0.0",g,d,f,c,j,t,a={},q=baidu.string.encodeHTML;for(c in u){a[c]=u[c]}u=a;if(m){m=m.split(".");h=h.split(".");for(f=0;f<3;f++){g=parseInt(m[f],10);d=parseInt(h[f],10);if(d<g){break}else{if(d>g){return""}}}}else{return""}var o=u.vars,n=["classid","codebase","id","width","height","align"];u.align=u.align||"middle";u.classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000";u.codebase="http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0";u.movie=u.url||"";delete u.vars;delete u.url;if("string"==typeof o){u.flashvars=o}else{var r=[];for(c in o){t=o[c];r.push(c+"="+encodeURIComponent(t))}u.flashvars=r.join("&")}var p=["<object "];for(f=0,j=n.length;f<j;f++){t=n[f];p.push(" ",t,'="',q(u[t]),'"')}p.push(">");var b={wmode:1,scale:1,quality:1,play:1,loop:1,menu:1,salign:1,bgcolor:1,base:1,allowscriptaccess:1,allownetworking:1,allowfullscreen:1,seamlesstabbing:1,devicefont:1,swliveconnect:1,flashvars:1,movie:1};for(c in u){t=u[c];c=c.toLowerCase();if(b[c]&&(t||t===false||t===0)){p.push('<param name="'+c+'" value="'+q(t)+'" />')}}u.src=u.movie;u.name=u.id;delete u.id;delete u.movie;delete u.classid;delete u.codebase;u.type="application/x-shockwave-flash";u.pluginspage="http://www.macromedia.com/go/getflashplayer";p.push("<embed");var s;for(c in u){t=u[c];if(t||t===false||t===0){if((new RegExp("^salign\x24","i")).test(c)){s=t;continue}p.push(" ",c,'="',q(t),'"')}}if(s){p.push(' salign="',q(s),'"')}p.push("></embed></object>");return p.join("")};baidu.swf.create=function(a,c){a=a||{};var b=baidu.swf.createHTML(a)||a.errorMessage||"";if(c&&"string"==typeof c){c=document.getElementById(c)}baidu.dom.insertHTML(c||document.body,"beforeEnd",b)};baidu.swf.getMovie=function(c){var a=document[c],b;return baidu.browser.ie==9?a&&a.length?(b=baidu.array.remove(baidu.lang.toArray(a),function(d){return d.tagName.toLowerCase()!="embed"})).length==1?b[0]:b:a:a||window[c]};baidu.swf.Proxy=function(g,c,d){var b=this,a=this._flash=baidu.swf.getMovie(g),f;if(!c){return this}f=setInterval(function(){try{if(a[c]){b._initialized=true;clearInterval(f);if(d){d()}}}catch(h){}},100)};baidu.swf.Proxy.prototype.getFlash=function(){return this._flash};baidu.swf.Proxy.prototype.isReady=function(){return !!this._initialized};baidu.swf.Proxy.prototype.call=function(a,f){try{var c=this.getFlash(),b=Array.prototype.slice.call(arguments);b.shift();if(c[a]){c[a].apply(c,b)}}catch(d){}};baidu.url.getQueryValue=function(b,c){var d=new RegExp("(^|&|\\?|#)"+baidu.string.escapeReg(c)+"=([^&#]*)(&|\x24|#)","");var a=b.match(d);if(a){return a[2]}return null};baidu.url.jsonToQuery=function(c,f){var a=[],d,b=f||function(g){return baidu.url.escapeSymbol(g)};baidu.object.each(c,function(h,g){if(baidu.lang.isArray(h)){d=h.length;while(d--){a.push(g+"="+b(h[d],g))}}else{a.push(g+"="+b(h,g))}});return a.join("&")};baidu.url.queryToJson=function(a){var g=a.substr(a.lastIndexOf("?")+1),c=g.split("&"),f=c.length,m={},d=0,j,h,k,b;for(;d<f;d++){if(!c[d]){continue}b=c[d].split("=");j=b[0];h=b[1];k=m[j];if("undefined"==typeof k){m[j]=h}else{if(baidu.lang.isArray(k)){k.push(h)}else{m[j]=[k,h]}}}return m};var T,baidu=T=baidu||{version:"1.5.2"};baidu.guid="$BAIDU$";baidu.$$=window[baidu.guid]=window[baidu.guid]||{global:{}};baidu.ui=baidu.ui||{version:"1.3.9"};baidu.ui.getUI=function(c){var c=c.split("-"),b=baidu.ui,a=c.length,d=0;for(;d<a;d++){b=b[c[d].charAt(0).toUpperCase()+c[d].slice(1)]}return b};baidu.ui.create=function(b,a){if(baidu.lang.isString(b)){b=baidu.ui.getUI(b)}return new b(a)};baidu.ui.Base={id:"",getId:function(a){var c=this,b;b="tangram-"+c.uiType+"--"+(c.id?c.id:c.guid);return a?b+"-"+a:b},getClass:function(b){var d=this,c=d.classPrefix,a=d.skin;if(b){c+="-"+b;a+="-"+b}if(d.skin){c+=" "+a}return c},getMain:function(){return baidu.g(this.mainId)},getBody:function(){return baidu.g(this.getId())},uiType:"",getCallRef:function(){return"window['$BAIDU$']._instances['"+this.guid+"']"},getCallString:function(d){var c=0,b=Array.prototype.slice.call(arguments,1),a=b.length;for(;c<a;c++){if(typeof b[c]=="string"){b[c]="'"+b[c]+"'"}}return this.getCallRef()+"."+d+"("+b.join(",")+");"},on:function(a,b,c){baidu.on(a,b,c);this.addEventListener("ondispose",function(){baidu.un(a,b,c)})},renderMain:function(b){var d=this,c=0,a;if(d.getMain()){return}b=baidu.g(b);if(!b){b=document.createElement("div");document.body.appendChild(b);b.style.position="absolute";b.className=d.getClass("main")}if(!b.id){b.id=d.getId("main")}d.mainId=b.id;b.setAttribute("data-guid",d.guid);return b},dispose:function(){this.dispatchEvent("dispose");baidu.lang.Class.prototype.dispose.call(this)}};baidu.ui.Base.getParent=function(){return this._parent||null};baidu.ui.Base.setParent=function(b){var c=this,a=c._parent;a&&a.dispatchEvent("removechild");if(b.dispatchEvent("appendchild",{child:c})){c._parent=b}};baidu.ui.createUI=function(c,k){k=k||{};var h=k.superClass||baidu.lang.Class,g=h==baidu.lang.Class?1:0,d,b,j=function(n,m){var o=this;n=n||{};h.call(o,!g?n:(n.guid||""),true);baidu.object.extend(o,j.options);baidu.object.extend(o,n);o.classPrefix=o.classPrefix||"tangram-"+o.uiType.toLowerCase();for(d in baidu.ui.behavior){if(typeof o[d]!="undefined"&&o[d]){baidu.object.extend(o,baidu.ui.behavior[d]);if(baidu.lang.isFunction(o[d])){o.addEventListener("onload",function(){baidu.ui.behavior[d].call(o[d].apply(o))})}else{baidu.ui.behavior[d].call(o)}}}c.apply(o,arguments);for(d=0,b=j._addons.length;d<b;d++){j._addons[d](o)}if(n.parent&&o.setParent){o.setParent(n.parent)}if(!m&&n.autoRender){o.render(n.element)}},a=function(){};a.prototype=h.prototype;var f=j.prototype=new a();for(d in baidu.ui.Base){f[d]=baidu.ui.Base[d]}j.extend=function(m){for(d in m){j.prototype[d]=m[d]}return j};j._addons=[];j.register=function(m){if(typeof m=="function"){j._addons.push(m)}};j.options={};return j};baidu.ui.Dialog=baidu.ui.createUI(function(a){var b=this;b._content="initElement";b.content=b.content||null;b._contentText="initText";b.contentText=b.contentText||"";b._titleText="initText";b.titleText=b.titleText||""}).extend({uiType:"dialog",width:"",height:"",top:"auto",left:"auto",zIndex:1000,tplDOM:"<div id='#{id}' class='#{class}' style='position:relative'>#{title}#{content}#{footer}</div>",tplTitle:"<div id='#{id}' class='#{class}'><span id='#{inner-id}' class='#{inner-class}'>#{content}</span></div>",tplContent:"<div id='#{id}' class='#{class}' style='overflow:hidden; position:relative'>#{content}</div>",tplFooter:"<div id='#{id}' class='#{class}'></div>",isShown:function(){return baidu.ui.Dialog.instances[this.guid]=="show"},getString:function(){var c=this,a,f="title",d="title-inner",b="content",g="footer";return baidu.format(c.tplDOM,{id:c.getId(),"class":c.getClass(),title:baidu.format(c.tplTitle,{id:c.getId(f),"class":c.getClass(f),"inner-id":c.getId(d),"inner-class":c.getClass(d),content:c.titleText||""}),content:baidu.format(c.tplContent,{id:c.getId(b),"class":c.getClass(b),content:c.contentText||""}),footer:baidu.format(c.tplFooter,{id:c.getId(g),"class":c.getClass(g)})})},render:function(){var b=this,a;if(b.getMain()){return}a=b.renderMain();a.innerHTML=b.getString();b._update();b._updatePosition();baidu.dom.setStyles(b.getMain(),{position:"absolute",zIndex:b.zIndex,marginLeft:"-100000px"});b.windowResizeHandler=b.getWindowResizeHandler();b.on(window,"resize",b.windowResizeHandler);b.dispatchEvent("onload");return a},_update:function(b){var d=this,c=d.getContent(),b=b||{},f=d.getTitleInner(),a=false;if(typeof b.titleText!="undefined"){f.innerHTML=b.titleText;d.titleText=d._titleText=b.titleText}else{if(d.titleText!=d._titleText){f.innerHTML=d.titleText;d._titleText=d.titleText}}if(typeof b.content!="undefined"){c.innerHTML="";d.content=b.content;if(b.content!==null){c.appendChild(b.content);d.content=d._content=c.firstChild;d.contentText=d._contentText=c.innerHTML;return}a=true}else{if(d.content!==d._content){c.innerHTML="";if(d.content!==null){c.appendChild(d.content);d.content=d._content=c.firstChild;d.contentText=d._contentText=c.innerHTML;return}a=true}}if(typeof b.contentText!="undefined"){c.innerHTML=b.contentText;d.contentText=d._contentText=b.contentText;d.content=d._content=c.firstChild}else{if((d.contentText!=d._contentText)||a){c.innerHTML=d.contentText;d._contentText=d.contentText;d.content=d._content=c.firstChild}}delete (b.content);delete (b.contentText);delete (b.titleText);baidu.extend(d,b)},getWindowResizeHandler:function(){var a=this;return function(){a._updatePosition()}},open:function(){var a=this;a._updatePosition();a.getMain().style.marginLeft="auto";baidu.ui.Dialog.instances[a.guid]="show";a.dispatchEvent("onopen")},close:function(){var a=this;if(a.dispatchEvent("onbeforeclose")){a.getMain().style.marginLeft="-100000px";baidu.ui.Dialog.instances[a.guid]="hide";a.dispatchEvent("onclose")}},update:function(a){var b=this;b._update(a);b._updatePosition();b.dispatchEvent("onupdate")},_getBodyOffset:function(){var g=this,b,c=g.getBody(),f=g.getContent(),j=g.getTitle(),k=g.getFooter();b={width:0,height:0};function d(o,n){var m=parseFloat(baidu.getStyle(o,n));m=isNaN(m)?0:m;m=baidu.lang.isNumber(m)?m:0;return m}baidu.each(["marginLeft","marginRight"],function(n,m){b.width+=d(f,n)});b.height+=j.offsetHeight+d(j,"marginTop");b.height+=k.offsetHeight+d(k,"marginBottom");var a=d(f,"marginTop"),h=d(j,"marginBottom");b.height+=a>=h?a:h;a=d(k,"marginTop"),h=d(f,"marginBottom");b.height+=a>=h?a:h;return b},_updatePosition:function(){var h=this,d,j="",k="",a="",c="",g=h.getContent(),f=h.getBody(),b,m;b=parseFloat(h.width);m=parseFloat(h.height);d=h._getBodyOffset();baidu.lang.isNumber(b)&&baidu.dom.setOuterWidth(g,b);baidu.lang.isNumber(m)&&baidu.dom.setOuterHeight(g,m);d.width+=g.offsetWidth;d.height+=g.offsetHeight;h.width&&baidu.setStyle(f,"width",d.width);h.height&&baidu.setStyle(f,"height",d.height);if((h.left&&h.left!="auto")||(h.right&&h.right!="auto")){c=h.left||"";k=h.right||""}else{c=Math.max((baidu.page.getViewWidth()-parseFloat(h.getMain().offsetWidth))/2+baidu.page.getScrollLeft(),0)}if((h.top&&h.top!="auto")||(h.bottom&&h.bottom!="auto")){j=h.top||"";a=h.bottom||""}else{j=Math.max((baidu.page.getViewHeight()-parseFloat(h.getMain().offsetHeight))/2+baidu.page.getScrollTop(),0)}baidu.dom.setStyles(h.getMain(),{top:j,right:k,bottom:a,left:c})},getTitle:function(){return baidu.g(this.getId("title"))},getTitleInner:function(){return baidu.g(this.getId("title-inner"))},getContent:function(){return baidu.g(this.getId("content"))},getFooter:function(){return baidu.g(this.getId("footer"))},dispose:function(){var a=this;delete baidu.ui.Dialog.instances[a.guid];a.dispatchEvent("dispose");baidu.dom.remove(a.getMain());baidu.lang.Class.prototype.dispose.call(a)}});baidu.ui.Dialog.instances=baidu.ui.Dialog.instances||{};baidu.extend(baidu.ui.Dialog.prototype,{autoDispose:true});baidu.ui.Dialog.register(function(a){if(a.autoDispose){a.addEventListener("onload",function(){if(typeof a.autoDispose=="undefined"||a.autoDispose){a.addEventListener("onclose",function(){a.dispose()})}})}});baidu.ui.behavior=baidu.ui.behavior||{};(function(){var a=baidu.ui.behavior.statable=function(){var b=this;b.addEventListeners("ondisable,onenable",function(f,c){var d,g;c=c||{};elementId=(c.element||b.getMain()).id;g=c.group;if(f.type=="ondisable"&&!b.getState(elementId,g)["disabled"]){b.removeState("press",elementId,g);b.removeState("hover",elementId,g);b.setState("disabled",elementId,g)}else{if(f.type=="onenable"&&b.getState(elementId,g)["disabled"]){b.removeState("disabled",elementId,g)}}})};a._states={};a._allStates=["hover","press","disabled"];a._allEventsName=["mouseover","mouseout","mousedown","mouseup"];a._eventsHandler={mouseover:function(d,c){var b=this;if(!b.getState(d,c)["disabled"]){b.setState("hover",d,c);return true}},mouseout:function(d,c){var b=this;if(!b.getState(d,c)["disabled"]){b.removeState("hover",d,c);b.removeState("press",d,c);return true}},mousedown:function(d,c){var b=this;if(!b.getState(d,c)["disabled"]){b.setState("press",d,c);return true}},mouseup:function(d,c){var b=this;if(!b.getState(d,c)["disabled"]){b.removeState("press",d,c);return true}}};a._getStateHandlerString=function(j,g){var h=this,f=0,b=h._allEventsName.length,c=[],d;if(typeof j=="undefined"){j=g=""}for(;f<b;f++){d=h._allEventsName[f];c[f]="on"+d+'="'+h.getCallRef()+"._fireEvent('"+d+"', '"+j+"', '"+g+"', event)\""}return c.join(" ")};a._fireEvent=function(c,g,b,f){var d=this,h=d.getId(g+b);if(d._eventsHandler[c].call(d,h,g)){d.dispatchEvent(c,{element:h,group:g,key:b,DOMEvent:f})}};a.addState=function(f,b,c){var d=this;d._allStates.push(f);if(b){d._allEventsName.push(b);if(!c){c=function(){return true}}d._eventsHandler[b]=c}};a.getState=function(b,f){var d=this,c;f=f?f+"-":"";b=b?b:d.getId();c=d._states[f+b];return c?c:{}};a.setState=function(f,b,g){var d=this,h,c;g=g?g+"-":"";b=b?b:d.getId();h=g+b;d._states[h]=d._states[h]||{};c=d._states[h][f];if(!c){d._states[h][f]=1;baidu.addClass(b,d.getClass(g+f))}};a.removeState=function(d,b,f){var c=this,g;f=f?f+"-":"";b=b?b:c.getId();g=f+b;if(c._states[g]){c._states[g][d]=0;baidu.removeClass(b,c.getClass(f+d))}}})();baidu.ui.Button=baidu.ui.createUI(new Function).extend({uiType:"button",tplBody:'<div id="#{id}" #{statable} class="#{class}">#{content}</div>',disabled:false,statable:true,_getString:function(){var a=this;return baidu.format(a.tplBody,{id:a.getId(),statable:a._getStateHandlerString(),"class":a.getClass(),content:a.content})},render:function(c){var b=this,a;b.addState("click","click",function(g,f){var d=this;if(!d.getState(g,f)["disabled"]){return true}});baidu.dom.insertHTML(b.renderMain(c),"beforeEnd",b._getString());a=baidu.g(c).lastChild;if(b.title){a.title=b.title}b.disabled&&b.setState("disabled");b.dispatchEvent("onload")},isDisabled:function(){var a=this,b=a.getId();return a.getState()["disabled"]},dispose:function(){var b=this,a=b.getBody();b.dispatchEvent("dispose");baidu.each(b._allEventsName,function(d,c){a["on"+d]=null});baidu.dom.remove(a);b.dispatchEvent("ondispose");baidu.lang.Class.prototype.dispose.call(b)},disable:function(){var b=this,a=b.getBody();b.dispatchEvent("ondisable",{element:a})},enable:function(){var a=this;body=a.getBody();a.dispatchEvent("onenable",{element:body})},fire:function(a,c){var b=this,a=a.toLowerCase();if(b.getState()["disabled"]){return}b._fireEvent(a,null,null,c)},update:function(a){var b=this;baidu.extend(b,a);a.content&&(b.getBody().innerHTML=a.content);b.dispatchEvent("onupdate")}});baidu.i18n=baidu.i18n||{};baidu.i18n.string=baidu.i18n.string||{trim:function(c,a){var b=baidu.i18n.cultures[a||baidu.i18n.currentLocale].whitespace;return String(c).replace(b,"")},translation:function(c,a){var b=baidu.i18n.cultures[a||baidu.i18n.currentLocale].language;return b[c]||""}};baidu.i18n.cultures=baidu.i18n.cultures||{};baidu.i18n.cultures["zh-CN"]=baidu.object.extend(baidu.i18n.cultures["zh-CN"]||{},{calendar:{dateFormat:"yyyy-MM-dd",titleNames:"#{yyyy}年&nbsp;#{MM}月",monthNames:["一","二","三","四","五","六","七","八","九","十","十一","十二"],dayNames:{mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六",sun:"日"}},timeZone:8,whitespace:new RegExp("(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+\x24)","g"),number:{group:",",groupLength:3,decimal:".",positive:"",negative:"-",_format:function(b,a){return baidu.i18n.number._format(b,{group:this.group,groupLength:this.groupLength,decimal:this.decimal,symbol:a?this.negative:this.positive})}},currency:{symbol:"￥"},language:{ok:"确定",cancel:"取消",signin:"注册",signup:"登录"}});baidu.i18n.currentLocale=baidu.i18n.currentLocale||"zh-CN";baidu.extend(baidu.ui.Dialog.prototype,{createButton:function(c,a){var d=this;baidu.extend(c,{classPrefix:d.classPrefix+"-"+a,skin:d.skin?d.skin+"-"+a:"",element:d.getFooter(),autoRender:true,parent:d});var b=new baidu.ui.Button(c);d.buttonInstances[a]=b},removeButton:function(a){var c=this,b=c.buttonInstances[a];if(b){b.dispose();delete (c.buttonInstances[a]);delete (c.buttons[a])}}});baidu.ui.Dialog.register(function(d){d.buttonInstances={};d.language=d.language||"zh-CN";var b,c,a={},f=baidu.i18n.cultures[d.language].language;b={content:f.ok,onclick:function(){var h=this,g=h.getParent();g.dispatchEvent("onaccept")&&g.close()}};c={content:f.cancel,onclick:function(){var h=this,g=h.getParent();g.dispatchEvent("oncancel")&&g.close()}};d.addEventListener("onload",function(){switch(d.type){case"alert":d.submitOnEnter=d.submitOnEnter||true;a={accept:b};break;case"confirm":d.submitOnEnter=d.submitOnEnter||true;a={accept:b,cancel:c};break;default:}d.buttons=baidu.extend(a,d.buttons||{});baidu.object.each(d.buttons,function(h,g){d.createButton(h,g)});d.submitOnEnter&&d.addEventListener("onenter",function(g){d.buttonInstances.accept.fire("click",g)})});d.addEventListener("ondispose",function(){baidu.object.each(d.buttons,function(h,g){d.removeButton(g)})});d.addEventListener("onupdate",function(){baidu.object.each(d.buttons,function(h,g){d.buttonInstances[g]?d.buttonInstances[g].update(h):d.createButton(h,g)})})});baidu.extend(baidu.ui.Dialog.prototype,{closeText:"",closeButton:true});baidu.ui.Dialog.register(function(a){a.closeButton&&a.addEventListener("onload",function(){var b=new baidu.ui.Button({parent:a,classPrefix:a.classPrefix+"-close",skin:a.skin?a.skin+"-close":"",onclick:function(){a.close()},onmousedown:function(c){baidu.event.stopPropagation(c.DOMEvent)},element:a.getTitle(),autoRender:true});a.closeButtonInstance=b;a.addEventListener("ondispose",function(){b.dispose()})})});(function(){var a=baidu.ui.behavior.coverable=function(){};a.Coverable_isShowing=false;a.Coverable_iframe;a.Coverable_container;a.Coverable_iframeContainer;a.Coverable_show=function(){var j=this;if(j.Coverable_iframe){j.Coverable_update();baidu.setStyle(j.Coverable_iframe,"display","block");return}var g=j.coverableOptions||{},c=j.Coverable_container=g.container||j.getMain(),f=g.opacity||"0",d=g.color||"",h=j.Coverable_iframe=document.createElement("iframe"),b=j.Coverable_iframeContainer=document.createElement("div");baidu.dom.children(c).length>0?baidu.dom.insertBefore(b,c.firstChild):c.appendChild(b);baidu.setStyles(b,{position:"absolute",top:"0px",left:"0px"});baidu.dom.setBorderBoxSize(b,{width:c.offsetWidth,height:c.offsetHeight});baidu.dom.setBorderBoxSize(h,{width:b.offsetWidth});baidu.dom.setStyles(h,{zIndex:-1,display:"block",border:0,backgroundColor:d,filter:"progid:DXImageTransform.Microsoft.Alpha(style=0,opacity="+f+")"});b.appendChild(h);h.src="javascript:void(0)";h.frameBorder="0";h.scrolling="no";h.height="97%";j.Coverable_isShowing=true};a.Coverable_hide=function(){var c=this,b=c.Coverable_iframe;if(!c.Coverable_isShowing){return}baidu.setStyle(b,"display","none");c.Coverable_isShowing=false};a.Coverable_update=function(d){var g=this,d=d||{},c=g.Coverable_container,b=g.Coverable_iframeContainer,f=g.Coverable_iframe;baidu.dom.setBorderBoxSize(b,{width:c.offsetWidth,height:c.offsetHeight});baidu.dom.setBorderBoxSize(f,baidu.extend({width:baidu.getStyle(b,"width")},d))}})();baidu.extend(baidu.ui.Dialog.prototype,{coverable:true,coverableOptions:{}});baidu.ui.Dialog.register(function(a){if(a.coverable){a.addEventListeners("onopen,onload",function(){a.Coverable_show()});a.addEventListener("onclose",function(){a.Coverable_hide()});a.addEventListener("onupdate",function(){a.Coverable_update()})}});(function(){var a=baidu.ui.behavior.draggable=function(){this.addEventListener("onload",function(){var b=this;b.dragUpdate()});this.addEventListener("ondispose",function(){var b=this;baidu.un(b._dragOption.handler,"mousedown",b._dragFn);b._dragOption.handler=b.dragHandler=b._lastDragHandler=null})};a.dragUpdate=function(b){var c=this;b=b||{};if(!c.draggable){return}if(c._lastDragHandler&&c._dragFn){baidu.event.un(c._lastDragHandler,"onmousedown",c._dragFn)}baidu.object.extend(c,b);c._dragOption={ondragstart:function(){c.dispatchEvent("ondragstart")},ondrag:function(){c.dispatchEvent("ondrag")},ondragend:function(){c.dispatchEvent("ondragend")},autoStop:true};c._dragOption.range=c.dragRange||[];c._dragOption.handler=c._lastDragHandler=c.dragHandler||c.getMain();if(c._dragOption.handler){baidu.event.on(c._dragOption.handler,"onmousedown",c._dragFn=function(){baidu.dom.drag(c.dragTarget||c.getMain(),c._dragOption)})}}})();baidu.ui.Dialog.prototype.draggable=true;baidu.ui.Dialog.register(function(b){if(b.draggable){function a(){b.dragRange=[0,baidu.page.getWidth(),baidu.page.getHeight(),0];b.dragUpdate()}b.addEventListener("onload",function(){b.dragHandler=b.dragHandler||b.getTitle();if(!b.dragRange){a();b.on(window,"resize",a)}else{b.dragUpdate()}});b.addEventListener("ondragend",function(){b.left=baidu.dom.getStyle(b.getMain(),"left");b.top=baidu.dom.getStyle(b.getMain(),"top")})}});baidu.ui.Dialog.register(function(c){if(c.type=="iframe"){baidu.extend(c,{autoRender:true,tplIframe:"<iframe width='100%' height='97%' frameborder='0' scrolling='no' name='#{name}' id='#{id}' class='#{class}'></iframe>",getIframe:function(){return baidu.g(this.getId("iframe"))},updateIframe:function(h){baidu.setStyles(this.getId("iframe"),h);c._updatePosition();c.dispatchEvent("onupdate")}});var b,g=c.getId("iframe"),d=c.iframeName||g,f,a,b=baidu.format(c.tplIframe,{name:d,id:g,"class":c.getClass("iframe")});c.addEventListener("onload",function(){c._update({contentText:b});c._updatePosition();f=baidu.g(g);c.on(f,"onload",function(){c._updatePosition();c.dispatchEvent("onupdate")});f.src=c.iframeSrc})}});baidu.extend(baidu.ui.Dialog.prototype,{enableKeyboard:true,closeOnEscape:true});baidu.ui.Dialog.register(function(a){baidu.ui.Dialog.keyboardHandler=baidu.ui.Dialog.keyboardHandler||function(d){d=window.event||d;var c=d.keyCode||d.which,f,b;baidu.object.each(baidu.ui.Dialog.instances,function(h,g){if(h=="show"){b=baidu.lang.instance(g);if(!f||b.zIndex>f.zIndex){f=b}}});if(f){switch(c){case 27:f.closeOnEscape&&f.close();break;case 13:f.dispatchEvent("onenter");break;default:}}};if(a.enableKeyboard&&!baidu.ui.Dialog.keyboardEventReady){baidu.on(document,"keyup",baidu.ui.Dialog.keyboardHandler);baidu.ui.Dialog.keyboardEventReady=true}a.addEventListener("ondispose",function(){var b=true;baidu.object.each(baidu.ui.Dialog.instances,function(d,c){b=false;return false});if(b){baidu.event.un(document,"keyup",baidu.ui.Dialog.keyboardHandler);baidu.ui.Dialog.keyboardEventReady=false}})});baidu.ui.Modal=baidu.ui.createUI(function(b){var c=this,a=(b&&b.container)?baidu.g(b.container):null;!a&&(a=document.body);if(!a.id){a.id=c.getId("container")}c.containerId=a.id;c.styles={color:"#000000",opacity:0.6,zIndex:1000}}).extend({uiType:"modal",_showing:false,getContainer:function(){var a=this;return baidu.g(a.containerId)},render:function(){var g=this,b,d,f,a,h=g.containerId,c=baidu.g(g.containerId);if(b=baidu.ui.Modal.collection[h]){g.mainId=b.mainId;a=g.getMain()}else{a=g.renderMain();if(c!==document.body){c.appendChild(a)}else{d=baidu.dom.fixable(a,{autofix:false,vertival:"top",horizontal:"left",offset:{x:0,y:0}})}baidu.ui.Modal.collection[h]={mainId:g.mainId,instance:[],flash:{},fixableInstance:d}}g.dispatchEvent("onload")},show:function(k){var h=this,b=h.getContainer(),f=h.getMain(),g=h.containerId,c=baidu.ui.Modal.collection[g],a=c.fixableInstance,d=c.instance.length,j;if(h._showing){return}if(d>0){j=baidu.lang.instance(c.instance[d-1]);j&&j._removeHandler()}k=k||{};h._show(k.styles||{});if(a){a.render()}f.style.display="block";c.flash[h.guid]=h._hideFlash();c.instance.push(h.guid);h._showing=true;h.dispatchEvent("onshow")},_show:function(b){var a=this;a._getModalStyles(b||{});a._update();if(a.getContainer()===document.body&&baidu.browser.ie&&baidu.browser.ie<=7){a.windowHandler=a.getWindowHandle();baidu.on(window,"resize",a.windowHandler)}},hide:function(){var a=this;a._hide();a.dispatchEvent("onhide")},_hide:function(){var h=this,b=h.containerId,j=baidu.ui.Modal.collection[b],c=j.flash[h.guid],a=h.getMain(),g=j.instance.length,f;if(!h._showing){return}for(var d=0;d<g;d++){if(j.instance[d]==h.guid){j.instance.splice(d,1);break}}g=j.instance.length;if(d==g){h._removeHandler();if(g>0){f=baidu.lang.instance(j.instance[g-1]);f&&f._show()}else{a.style.display="none"}h._restoreFlash(c)}else{f=baidu.lang.instance(j.instance[g-1]);j.flash[f.guid]=j.flash[f.guid].concat(c)}j.flash[h.guid]=[];h._showing=false},_removeHandler:function(){var a=this;if(a.getContainer()===document.body&&baidu.browser.ie&&baidu.browser.ie<=7){baidu.un(window,"resize",a.windowHandler)}},getWindowHandle:function(){var b=this,a=b.getMain();return function(){baidu.setStyles(a,{width:baidu.page.getViewWidth(),height:baidu.page.getViewHeight()});if(b.getContainer()===document.body&&baidu.browser.ie&&baidu.browser.ie<=7){window.top!==window.self&&setTimeout(function(){b._getModalStyles({});b._update()},16)}}},update:function(b){b=b||{};var c=this,a=c.getMain(),d=baidu.ui.Modal.collection[c.containerId];b=b||{};baidu.extend(c,b);c._getModalStyles(b.styles||{});c._update();delete (b.styles);baidu.extend(c,b);c.dispatchEvent("onupdate")},_update:function(){var b=this,a=b.getMain();baidu.dom.setStyles(a,b.styles)},_getModalStyles:function(g){var f=this,a=f.getMain(),b=f.getContainer(),c,j,d;function h(n,m){var k=parseInt(baidu.getStyle(n,m));k=isNaN(k)?0:k;k=baidu.lang.isNumber(k)?k:0;return k}if(b!==document.body){g.width=b.offsetWidth;g.height=b.offsetHeight;if(baidu.getStyle(b,"position")=="static"){d=a.offsetParent||document.body;c=baidu.dom.getPosition(d);j=baidu.dom.getPosition(b);g.top=j.top-c.top+h(d,"marginTop");g.left=j.left-c.left+h(d,"marginLeft")}}else{if(baidu.browser.ie>7||!baidu.browser.ie){g.width="100%";g.height="100%"}else{g.width=baidu.page.getViewWidth();g.height=baidu.page.getViewHeight()}}baidu.extend(f.styles,g);f.styles.backgroundColor=f.styles.color||f.styles.backgroundColor;delete (f.styles.color)},_hideFlash:function(){var c=this,b=c.getContainer(),d=b.getElementsByTagName("object"),a=[];baidu.each(d,function(g){var f=true;if(baidu.dom.getAncestorBy(g,function(h){if(baidu.getStyle(h,"zIndex")>c.styles.zIndex){return true}return false})){return}baidu.each(baidu.dom.children(g),function(h){if(baidu.getAttr(h,"name")=="wmode"&&baidu.getAttr(h,"value")!="window"){f=false}});if(f){a.push([g,baidu.getStyle(g,"visibility")]);g.style.visibility="hidden"}});return a},_restoreFlash:function(a){baidu.each(a,function(b){if(b[0]!=null){b[0].style.visibility=b[1]}})},dispose:function(){var a=this;a._hide();a.dispatchEvent("ondispose");baidu.lang.Class.prototype.dispose.call(a)}});baidu.ui.Modal.collection={};baidu.extend(baidu.ui.Modal.prototype,{coverable:true,coverableOptions:{}});baidu.ui.Modal.register(function(a){if(a.coverable){if(!baidu.browser.isWebkit&&!baidu.browser.isGecko){a.addEventListener("onload",function(){a.Coverable_show()});a.addEventListeners("onshow,onupdate",function(){a.Coverable_update()});a.addEventListener("onhide",function(){a.Coverable_hide()})}}});baidu.extend(baidu.ui.Dialog.prototype,{modal:true,modalColor:"#000000",modalOpacity:0.4,hideModal:function(){var a=this;(a.modal&&a.modalInstance)&&a.modalInstance.hide()}});baidu.ui.Dialog.register(function(a){if(a.modal){a.addEventListener("onopen",function(){if(!a.modalInstance){a.modalInstance=new baidu.ui.Modal({autoRender:true})}a.modalInstance.show({targetUI:a,styles:{color:a.modalColor,opacity:a.modalOpacity,zIndex:a.modalZIndex?a.modalZIndex:a.zIndex-1}})});a.addEventListener("onclose",a.hideModal);a.addEventListener("ondispose",a.hideModal)}});(function(){var a=baidu.ui.behavior.resizable=function(){};a.resizeableHandle=null;a.resizeCreate=function(b){var c=this,d;b=b||{};if(!c.resizable){return}baidu.object.extend(c,b);c._resizeOption={onresizestart:function(){c.dispatchEvent("onresizestart")},onresize:function(f){c.dispatchEvent("onresize",f)},onresizeend:function(){c.dispatchEvent("onresizeend")}};baidu.each(["minWidth","minHeight","maxWidth","maxHeight"],function(g,f){c[g]&&(c._resizeOption[g]=c[g])});c._resizeOption.classPrefix=b.classPrefix||c.classPrefix;d=b.target||c.getBody();c.direction&&(c._resizeOption.direction=c.direction);c.resizeableHandle=baidu.dom.resizable(d,c._resizeOption)};a.resizeUpdate=function(b){this.resizeableHandle.update(b)};a.resizeCancel=function(){this.resizeableHandle.cancel()};a.resizeEnable=function(){this.resizeableHandle.enable()}})();baidu.extend(baidu.ui.Dialog.prototype,{resizable:true,minWidth:100,minHeight:100,direction:["s","e","se"]});baidu.ui.Dialog.register(function(g){if(g.resizable){var d,f,b,a,j,h,k;function c(){h=d.offsetWidth;k=d.offsetHeight;a=f.offsetWidth;j=f.offsetHeight}g.addEventListener("onload",function(){d=g.getBody();b=g.getMain();f=g.getContent();c();g.resizeCreate({target:b,classPrefix:g.classPrefix})});g.addEventListener("onresize",function(m){baidu.dom.setOuterWidth(f,a+m.current.width-m.original.width);baidu.dom.setOuterHeight(f,j+m.current.height-m.original.height);baidu.dom.setOuterWidth(d,h+m.current.width-m.original.width);baidu.dom.setOuterHeight(d,k+m.current.height-m.original.height);g.coverable&&g.Coverable_update()});g.addEventListener("onresizeend",function(){c();g.width=a;g.height=j;baidu.setStyles(b,{height:"",width:""})});g.addEventListener("onupdate",function(){c();g.resizeUpdate()});g.addEventListener("onopen",function(){c();g.resizeUpdate()})}});baidu.ui.Pager=baidu.ui.createUI(function(a){this._init.apply(this,arguments)}).extend({uiType:"pager",id:"pager",tplHref:"##{page}",tplLabel:"[#{page}]",specialLabelMap:{first:"首页",last:"尾页",previous:"上一页",next:"下一页"},tplCurrentLabel:"#{page}",tplItem:'<a class="#{class}" page="#{page}" target="_self" href="#{href}">#{label}</a>',tplBody:'<div onclick="#{onclick}" id="#{id}" class="#{class}">#{items}</div>',beginPage:1,endPage:100,itemCount:10,leftItemCount:4,_init:function(a){var b=this;b.update()},update:function(a){var b=this;a=a||{};if(b.checkOptions(a)){if(a.hasOwnProperty("currentPage")&&a.currentPage!=b.currentPage){if(!b._notifyGotoPage(a.currentPage,false)){delete a.currentPage}}b._updateNoCheck(a);return true}return false},_updateNoCheck:function(a){var b=this;baidu.object.extend(b,a);if(b.getMain()){b._refresh()}},checkOptions:function(b){var d=this;var c=b.beginPage||d.beginPage;var a=b.endPage||d.endPage;if(a<=c){return false}if(b.hasOwnProperty("beginPage")&&d.currentPage<c){d.currentPage=c}if(b.hasOwnProperty("endPage")&&d.currentPage>=a){d.currentPage=a-1}var f=b.currentPage||d.currentPage;if(f<c||f>=a){return false}return true},_genItem:function(c,a){var b=this;return baidu.string.format(b.tplItem,{"class":a?b.getClass(a):"",page:c,href:baidu.string.format(b.tplHref,{page:c}),label:function(){return(a?(a=="current"?baidu.string.format(b.tplCurrentLabel,{page:c}):b.specialLabelMap[a]):baidu.string.format(b.tplLabel,{page:c}))}})},_genBody:function(){var j=this,a=j.beginPage,c=j.endPage,g=j.currentPage,m=Math.min(Math.max(c-a+1,1),j.itemCount),k=Math.min(g-a,j.leftItemCount),k=Math.max(m-(c+1-g),k),f=g-k,b={first:a,last:c,previous:g-1,next:g+1},n={};baidu.object.each(b,function(q,p){n[p]=j._genItem(q,p)});n.previous=b.previous<a?"":n.previous;n.next=b.next>c?"":n.next;n.first=f==a?"":n.first;n.last=f+m>c?"":n.last;var o=[];for(var d=0;d<m;d++){var h=f+d;o[d]=j._genItem(h,h==g?"current":null)}return baidu.string.format(j.tplBody,{id:j.getId(),"class":j.getClass(),items:n.first+n.previous+o.join("")+n.next+n.last,onclick:j.getCallRef()+"._handleOnClick(event, this);"})},_refresh:function(){var a=this;a.getMain().innerHTML=a.getString()},_handleOnClick:function(a){a=baidu.event.get(a);var c=this,b=a.target,d=Number(b.getAttribute("page"));if(d&&c._notifyGotoPage(d,true)){c._updateNoCheck({currentPage:d})}else{a.preventDefault()}},_notifyGotoPage:function(a,b){return this.dispatchEvent("ongotopage",{page:a,fromClick:b})},ongotopage:function(a){},getString:function(){var a=this;if(a.currentPage===undefined){a.currentPage=a.beginPage}return a._genBody()},render:function(a){var b=this;b.renderMain(a);b.getMain().innerHTML=b.getString();b.update();b.dispatchEvent("onload")},dispose:function(){var c=this;c.dispatchEvent("ondispose");if(c.getMain()){var a=c.getMain();baidu.event.un(a,"click",c._handleOnClick);if(a.parentNode&&a.parentNode.nodeType==1){a.parentNode.removeChild(a)}c.dispose=null;a=null;baidu.lang.Class.prototype.dispose.call(c)}else{c.addEventListener("onload",function b(){c.removeEventListener("onload",b);c.dispose()})}}});baidu.ui.get=function(a){var b;if(baidu.lang.isString(a)){return baidu.lang.instance(a)}else{do{if(!a||a.nodeType==9){return null}if(b=baidu.dom.getAttr(a,"data-guid")){return baidu.lang.instance(b)}}while((a=a.parentNode)!=document.body)}};baidu.ui.Suggestion=baidu.ui.createUI(function(a){var b=this;b.addEventListener("onload",function(){b.on(document,"mousedown",b.documentMousedownHandler);b.on(window,"blur",b.windowBlurHandler)});b.documentMousedownHandler=b._getDocumentMousedownHandler();b.windowBlurHandler=b._getWindowBlurHandler();b.enableIndex=[];b.currentIndex=-1}).extend({uiType:"suggestion",onbeforepick:new Function,onpick:new Function,onconfirm:new Function,onhighlight:new Function,onshow:new Function,onhide:new Function,getData:function(){return[]},prependHTML:"",appendHTML:"",currentData:{},tplDOM:"<div id='#{0}' class='#{1}' style='position:relative; top:0px; left:0px'></div>",tplPrependAppend:"<div id='#{0}' class='#{1}'>#{2}</div>",tplBody:'<table cellspacing="0" cellpadding="2"><tbody>#{0}</tbody></table>',tplRow:'<tr><td id="#{0}" onmouseover="#{2}" onmouseout="#{3}" onmousedown="#{4}" onclick="#{5}" class="#{6}">#{1}</td></tr>',getString:function(){var a=this;return baidu.format(a.tplDOM,a.getId(),a.getClass(),a.guid)},render:function(c){var b=this,a,c=baidu.g(c);if(b.getMain()||!c){return}if(c.id){b.targetId=c.id}else{b.targetId=c.id=b.getId("input")}a=b.renderMain();a.style.display="none";a.innerHTML=b.getString();this.dispatchEvent("onload")},_isShowing:function(){var b=this,a=b.getMain();return a&&a.style.display!="none"},pick:function(a){var d=this,b=d.currentData,f=b&&typeof a=="number"&&typeof b[a]!="undefined"?b[a].value:a,c={data:{item:f==a?{value:a,content:a}:b[a],index:a}};if(d.dispatchEvent("onbeforepick",c)){d.dispatchEvent("onpick",c)}},show:function(g,f,c){var b=0,a=f.length,d=this;d.enableIndex=[];d.currentIndex=-1;if(a==0&&!c){d.hide()}else{d.currentData=[];for(;b<a;b++){if(typeof f[b].value!="undefined"){d.currentData.push(f[b])}else{d.currentData.push({value:f[b],content:f[b]})}if(typeof f[b]["disable"]=="undefined"||f[b]["disable"]==false){d.enableIndex.push(b)}}d.getBody().innerHTML=d._getBodyString();d.getMain().style.display="block";d.dispatchEvent("onshow")}},hide:function(){var f=this;if(!f._isShowing()){return}if(f.currentIndex>=0&&f.holdHighLight){var d=f.currentData,b=-1;for(var c=0,a=d.length;c<a;c++){if(typeof d[c].disable=="undefined"||d[c].disable==false){b++;if(b==f.currentIndex){f.pick(c)}}}}f.getMain().style.display="none";f.dispatchEvent("onhide")},highLight:function(a){var c=this,d=c.enableIndex,b=null;if(!c._isEnable(a)){return}c.currentIndex>=0&&c._clearHighLight();b=c._getItem(a);baidu.addClass(b,c.getClass("current"));c.currentIndex=baidu.array.indexOf(d,a);c.dispatchEvent("onhighlight",{index:a,data:c.getDataByIndex(a)})},clearHighLight:function(){var c=this,a=c.currentIndex,b=c.enableIndex[a];c._clearHighLight()&&c.dispatchEvent("onclearhighlight",{index:b,data:c.getDataByIndex(b)})},_clearHighLight:function(){var c=this,a=c.currentIndex,d=c.enableIndex,b=null;if(a>=0){b=c._getItem(d[a]);baidu.removeClass(b,c.getClass("current"));c.currentIndex=-1;return true}return false},confirm:function(a,c){var b=this;if(c!="keyboard"){if(!b._isEnable(a)){return}}b.pick(a);b.dispatchEvent("onconfirm",{data:b.getDataByIndex(a)||a,source:c});b.currentIndex=-1;b.hide()},getDataByIndex:function(a){return{item:this.currentData[a],index:a}},getTargetValue:function(){return this.getTarget().value},getTarget:function(){return baidu.g(this.targetId)},_getItem:function(a){return baidu.g(this.getId("item"+a))},_getBodyString:function(){var g=this,f="",d=[],h=g.currentData,a=h.length,c=0;function b(j){return baidu.format(g.tplPrependAppend,g.getId(j),g.getClass(j),g[j+"HTML"])}f+=b("prepend");for(;c<a;c++){d.push(baidu.format(g.tplRow,g.getId("item"+c),h[c].content,g.getCallRef()+"._itemOver(event, "+c+")",g.getCallRef()+"._itemOut(event, "+c+")",g.getCallRef()+"._itemDown(event, "+c+")",g.getCallRef()+"._itemClick(event, "+c+")",(typeof h[c]["disable"]=="undefined"||h[c]["disable"]==false)?"":g.getClass("disable")))}f+=baidu.format(g.tplBody,d.join(""));f+=b("append");return f},_itemOver:function(c,a){var b=this;baidu.event.stop(c||window.event);b._isEnable(a)&&b.highLight(a);b.dispatchEvent("onmouseoveritem",{index:a,data:b.getDataByIndex(a)})},_itemOut:function(c,a){var b=this;baidu.event.stop(c||window.event);if(!b.holdHighLight){b._isEnable(a)&&b.clearHighLight()}b.dispatchEvent("onmouseoutitem",{index:a,data:b.getDataByIndex(a)})},_itemDown:function(c,a){var b=this;baidu.event.stop(c||window.event);b.dispatchEvent("onmousedownitem",{index:a,data:b.getDataByIndex(a)})},_itemClick:function(c,a){var b=this;baidu.event.stop(c||window.event);b.dispatchEvent("onitemclick",{index:a,data:b.getDataByIndex(a)});b._isEnable(a)&&b.confirm(a,"mouse")},_isEnable:function(a){var b=this;return baidu.array.contains(b.enableIndex,a)},_getDocumentMousedownHandler:function(){var a=this;return function(d){d=d||window.event;var b=d.target||d.srcElement,c=baidu.ui.get(b);if(b==a.getTarget()||(c&&c.uiType==a.uiType)){return}a.hide()}},_getWindowBlurHandler:function(){var a=this;return function(){a.hide()}},dispose:function(){var a=this;a.dispatchEvent("dispose");baidu.dom.remove(a.mainId);baidu.lang.Class.prototype.dispose.call(this)}});baidu.extend(baidu.ui.Suggestion.prototype,{coverable:true,coverableOptions:{}});baidu.ui.Suggestion.register(function(a){if(a.coverable){a.addEventListener("onshow",function(){a.Coverable_show()});a.addEventListener("onhide",function(){a.Coverable_hide()})}});baidu.ui.Suggestion.extend({setData:function(d,c,b){var a=this;a.dataCache[d]=c;if(!b){a.show(d,a.dataCache[d])}}});baidu.ui.Suggestion.register(function(a){a.dataCache={},a.addEventListener("onneeddata",function(c,d){var b=a.dataCache;if(typeof b[d]=="undefined"){a.getData(d)}else{a.show(d,b[d])}})});(function(){var b=baidu.ui.behavior.posable=function(){};b.setPosition=function(h,f,d){f=baidu.g(f)||this.getMain();d=d||{};var g=this,c=[f,h,d];g.__execPosFn(f,"_positionByCoordinate",d.once,c)};b._positionByCoordinate=function(c,t,u,f){t=t||[0,0];u=u||{};var q=this,r={},o=baidu.page.getViewHeight(),s=baidu.page.getViewWidth(),k=baidu.page.getScrollLeft(),h=baidu.page.getScrollTop(),g=c.offsetWidth,j=c.offsetHeight,d=c.offsetParent,p=(!d||d==document.body)?{left:0,top:0}:baidu.dom.getPosition(d);u.position=(typeof u.position!=="undefined")?u.position.toLowerCase():"bottomright";t=a(t||[0,0]);u.offset=a(u.offset||[0,0]);t.x+=(u.position.indexOf("right")>=0?(t.width||0):0);t.y+=(u.position.indexOf("bottom")>=0?(t.height||0):0);r.left=t.x+u.offset.x-p.left;r.top=t.y+u.offset.y-p.top;switch(u.insideScreen){case"surround":r.left+=r.left<k?g+(t.width||0):((r.left+g)>(k+s)?-g-(t.width||0):0);r.top+=r.top<h?j+(t.height||0):((r.top+j)>(h+o)?-j-(t.height||0):0);break;case"fix":r.left=Math.max(0-parseFloat(baidu.dom.getStyle(c,"marginLeft"))||0,Math.min(r.left,baidu.page.getViewWidth()-g-p.left));r.top=Math.max(0-parseFloat(baidu.dom.getStyle(c,"marginTop"))||0,Math.min(r.top,baidu.page.getViewHeight()-j-p.top));break;case"verge":var n={width:(u.position.indexOf("right")>-1?t.width:0),height:(u.position.indexOf("bottom")>-1?t.height:0)},m={width:(u.position.indexOf("bottom")>-1?t.width:0),height:(u.position.indexOf("right")>-1?t.height:0)};r.left-=(u.position.indexOf("right")>=0?(t.width||0):0);r.top-=(u.position.indexOf("bottom")>=0?(t.height||0):0);r.left+=r.left+n.width+g-k>s-p.left?m.width-g:n.width;r.top+=r.top+n.height+j-h>o-p.top?m.height-j:n.height;break}baidu.dom.setPosition(c,r);if(!f&&(o!=baidu.page.getViewHeight()||s!=baidu.page.getViewWidth())){q._positionByCoordinate(c,t,{},true)}f||q.dispatchEvent("onpositionupdate")};b.__execPosFn=function(d,h,f,c){var g=this;if(typeof f=="undefined"||!f){baidu.event.on(baidu.dom.getWindow(d),"resize",baidu.fn.bind.apply(g,[h,g].concat([].slice.call(c))))}g[h].apply(g,c)};function a(c){c.x=c[0]||c.x||c.left||0;c.y=c[1]||c.y||c.top||0;return c}})();baidu.ui.Suggestion.extend({posable:true,fixWidth:true,getWindowResizeHandler:function(){var a=this;return function(){a.adjustPosition(true)}},adjustPosition:function(b){var d=this,f=d.getTarget(),c,a=d.getMain(),g;if(!d._isShowing()&&b){return}c=baidu.dom.getPosition(f),g={top:(c.top+f.offsetHeight-1),left:c.left,width:f.offsetWidth};g=typeof d.view=="function"?d.view(g):g;d.setPosition([g.left,g.top],null,{once:true});baidu.dom.setOuterWidth(a,g.width)}});baidu.ui.Suggestion.register(function(a){a.windowResizeHandler=a.getWindowResizeHandler();a.addEventListener("onload",function(){a.adjustPosition();if(a.fixWidth){a.fixWidthTimer=setInterval(function(){var b=a.getMain(),c=a.getTarget();if(b.offsetWidth!=0&&c&&c.offsetWidth!=b.offsetWidth){a.adjustPosition();b.style.display="block"}},100)}a.on(window,"resize",a.windowResizeHandler)});a.addEventListener("onshow",function(){a.adjustPosition()});a.addEventListener("ondispose",function(){clearInterval(a.fixWidthTimer)})});baidu.ui.Suggestion.register(function(f){var j,c="",h,d,b=false,g=false;function a(){setTimeout(function(){h=f.getTarget().value},20)}f.addEventListener("onload",function(){j=this.getTarget();a();f.on(window,"onload",a);f.targetKeydownHandler=f.getTargetKeydownHandler();f.on(j,"keydown",f.targetKeydownHandler);j.setAttribute("autocomplete","off");f.circleTimer=setInterval(function(){if(g){return}if(baidu.g(j)==null){f.dispose()}var k=j.value;if(k==c&&k!=""&&k!=h&&k!=d){if(f.requestTimer==0){f.requestTimer=setTimeout(function(){f.dispatchEvent("onneeddata",k)},100)}}else{clearTimeout(f.requestTimer);f.requestTimer=0;if(k==""&&c!=""){d="";f.hide()}c=k;if(k!=d){f.defaultIptValue=k}if(h!=j.value){h=""}}},10);f.on(j,"beforedeactivate",f.beforedeactivateHandler)});f.addEventListener("onitemclick",function(){g=false;f.defaultIptValue=c=f.getTargetValue()});f.addEventListener("onpick",function(k){if(b){j.blur()}j.value=d=k.data.item.value;if(b){j.focus()}});f.addEventListener("onmousedownitem",function(k){b=true;g=true;setTimeout(function(){g=false;b=false},500)});f.addEventListener("ondispose",function(){clearInterval(f.circleTimer)})});baidu.ui.Suggestion.extend({beforedeactivateHandler:function(){return function(){if(mousedownView){window.event.cancelBubble=true;window.event.returnValue=false}}},getTargetKeydownHandler:function(){var b=this;function a(c){if(!b._isShowing()){b.dispatchEvent("onneeddata",b.getTargetValue());return}var f=b.enableIndex,d=b.currentIndex;if(f.length==0){return}if(c){switch(d){case -1:d=f.length-1;b.pick(f[d]);b.highLight(f[d]);break;case 0:d=-1;b.pick(b.defaultIptValue);b.clearHighLight();break;default:d--;b.pick(f[d]);b.highLight(f[d]);break}}else{switch(d){case -1:d=0;b.pick(f[d]);b.highLight(f[d]);break;case f.length-1:d=-1;b.pick(b.defaultIptValue);b.clearHighLight();break;default:d++;b.pick(f[d]);b.highLight(f[d]);break}}b.currentIndex=d}return function(f){var c=false,d;f=f||window.event;switch(f.keyCode){case 9:case 27:b.hide();break;case 13:baidu.event.stop(f);b.confirm(b.currentIndex==-1?b.getTarget().value:b.enableIndex[b.currentIndex],"keyboard");break;case 38:c=true;case 40:baidu.event.stop(f);a(c);break;default:b.currentIndex=-1}}},defaultIptValue:""});baidu.ui.Tree=baidu.ui.createUI(function(a){this._treeNodes={}});baidu.ui.Tree.TreeNode=function(a){var b=this;baidu.object.extend(b,a);b.id=b.id||baidu.lang.guid();b.childNodes=[];b._children=[];window["$BAIDU$"]._instances[b.id]=b;b._tree={};b._stringArray=[]};baidu.ui.Tree.TreeNode.prototype={uiType:"tree-node",text:"",type:"leaf",isToggle:true,_getId:function(a){return this.id+"-"+a},_getClass:function(a){var c=this,b="tangram-tree-node-"+a;if(c.skin){b+=" "+c.skin+"-"+a}return b},_getCallRef:function(){return"window['$BAIDU$']._instances['"+this.id+"']"},getString:function(){var c=this,a=c._stringArray,b="";a.push('<dl id="',c.id,'">');c._createBodyStringArray();b=c.isExpand?"display:''":"display:none";a.push('<dd  style="'+b+'" id="',c.id,'-subNodeId"></dd></dl>');return a.join("")},getParentNode:function(){return this.parentNode},setParentNode:function(a){var b=this;b.parentNode=a;b._level=a._level+1},getChildNodes:function(){return this.childNodes},setTree:function(a){var b=this;b._tree=a;b._tree._treeNodes[b.id]=b},getTree:function(){return this._tree},appendData:function(b){var a=this;baidu.dom.insertHTML(a._getSubNodesContainer(),"beforeEnd",a._getSubNodeString(b));a._isRenderChildren=true},_getSubNodeString:function(h){var f=this,g,a,b=[],c=0,d,a=h.length;for(;c<a;c++){d=h[c];g=new baidu.ui.Tree.TreeNode(d);if(c==(a-1)){g._isLast=true}f._appendChildData(g,a-1);b.push(g.getString())}return b.join("")},isParent:function(c){var b=this,a=c;while(!a.isRoot&&(a=a.getParentNode())){if(a==b){return true}}return false},appendTo:function(a){var b=this;b.getParentNode()._removeChildData(b);a.appendChild(b);b.dispatchEvent("appendto")},moveTo:function(f){var d=this,b=d.getParentNode(),c,a;if(b==null){return false}if(f.isExpand&&f.getChildNodes().length>0){c=f}else{c=f.getParentNode()}b._removeChildData(d);a=(c==f)?-1:f.getIndex();c.appendChild(d,a);d.dispatchEvent("moveto")},_appendChildData:function(f,c,a){var d=this,b=d.getChildNodes();f.parentNode=d;f.setTree(d.getTree());if(a){b.splice(c+1,0,f);d._children.splice(c+1,0,f.json)}else{b.push(f);d._children.push(f.json)}},appendChild:function(h,d){var g=this,f,c,j,a=h._getContainer(),b=g._getSubNodesContainer();if(d==null){d=g.getChildNodes().length-1}g._appendChildData(h,d,true);j=g.getChildNodes();f=h.getParentNode();c=h.getString();if(a){if(d==-1){if(j.length==1){b.appendChild(a)}else{baidu.dom.insertBefore(a,j[1]._getContainer())}}else{baidu.dom.insertAfter(a,j[d]._getContainer())}}else{if(d==-1){if(j.length==1){baidu.dom.insertHTML(b,"beforeEnd",c)}else{baidu.dom.insertHTML(j[1]._getContainer(),"beforeBegin",c)}}else{baidu.dom.insertHTML(j[d]._getContainer(),"afterEnd",c)}}h._updateAll();h._updateOldParent(f);if(g.type=="leaf"){g.type="trunk";g._getIconElement().className=g._getClass("trunk")}g._getSpanElement().innerHTML=g._getImagesString();return h},_updateOldParent:function(a){var b=this;if(!a){return false}if(a.getLastChild()){a.getLastChild()._update()}else{if(b.getTree().expandable){a._getIconElement().className=b._getClass("leaf");a.type="leaf"}a._update()}},_removeChildData:function(c,a){var b=this;baidu.array.remove(b._children,c.json);baidu.array.remove(b.childNodes,c);delete b.getTree().getTreeNodes()[c.id];if(a){while(c.childNodes[0]){c._removeChildData(c.childNodes[0])}}},removeAllChildren:function(){var a=this,b=a.getChildNodes();while(b[0]){a.removeChild(b[0],true)}},removeChild:function(c){if(c.getParentNode()==null){return false}var b=this,a=b.getChildNodes();b._removeChildData(c,true);delete b.getTree().getTreeNodes()[c.id];baidu.dom.remove(c._getContainer());b.getTree().setCurrentNode(null);if(a.length<=0&&!b.isRoot){b._getSubNodesContainer().style.display="none";if(b.getTree().expandable){b._getIconElement().className=b._getClass("leaf");b.type="leaf"}}b._updateAll()},_updateAll:function(){var b=this,a=b.getPrevious();a&&a._update();b._update()},_update:function(){var a=this;a._getSpanElement().innerHTML=a._getImagesString();baidu.array.each(a.childNodes,function(b){b._update()})},update:function(c){var d=this,b=d._getHrefElement(),a=d._getTextElement();baidu.extend(d,c);(b?b:a).innerHTML=d.text},_switchToggleState:function(g,c,d,a){var f=this,b=f._getToggleElement();if(f.type=="leaf"){return false}f.isExpand=a;if(b){b.className=f._getClass(f.isLastNode()?c:d)}if(f.getChildNodes()&&f.getChildNodes().length>0){f._getSubNodesContainer().style.display=g}},expand:function(){var a=this;if(!a._isRenderChildren){a.appendData(a.children)}a._switchToggleState("block","Lminus","Tminus",true)},collapse:function(){this._switchToggleState("none","Lplus","Tplus",false)},toggle:function(){var a=this;if(a.type=="leaf"){return false}a.isExpand?a.collapse():a.expand()},_switchFocusState:function(c,a,b){var d=this;baidu.dom[b](d._getNodeElement(),d._getClass("current"));if(d.type!="leaf"){d._getIconElement().className=d._getClass(c);d.isOpen=a}},blur:function(){var a=this;a._switchFocusState("trunk",false,"removeClass");a.getTree().setCurrentNode(null)},focus:function(){var a=this,b=a.getTree().getCurrentNode();if(b!=null){b.blur()}a._switchFocusState("open-trunk",true,"addClass");a.getTree().setCurrentNode(a);baidu.dom.removeClass(a._getNodeElement(),a._getClass("over"))},_onMouseOver:function(b){var a=this;if(a!=a.getTree().getCurrentNode()){baidu.dom.addClass(a._getNodeElement(),a._getClass("over"))}a.dispatchEvent("draghover",{event:b});a.dispatchEvent("sorthover",{event:b})},_onMouseOut:function(){var a=this;baidu.dom.removeClass(a._getNodeElement(),a._getClass("over"));a.getTree().dispatchEvent("mouseout",{treeNode:a})},_onClick:function(a){var b=this;b.focus();b.getTree().dispatchEvent("click",{treeNode:b})},_onMouseDown:function(b){var a=this;a.dispatchEvent("dragdown",{event:b})},_onDblClick:function(b){var a=this;a.focus();a.isToggle&&a.toggle();a.getTree().dispatchEvent("dblclick",{treeNode:a,event:b})},_onContextmenu:function(b){var a=this;return a.getTree().dispatchEvent("contextmenu",{treeNode:a,event:b})},_onToggleClick:function(b){var a=this;a.isToggle&&a.toggle();a.getTree().dispatchEvent("toggle",{treeNode:a});baidu.event.stopPropagation(b)},_createBodyStringArray:function(){var b=this,a=b._stringArray;a.push('<dt id="',b.id,'-node" class="tangram-tree-node-node"');if(b.skin){a.push(" ",b.skin,"-node")}a.push(' onclick="',b._getCallRef()+("._onClick(event)"),'"> <span id="',b.id,'-span">',b._getImagesString(true),"</span>");b._createIconStringArray();b._createTextStringArray();a.push("</dt>")},_getImagesString:function(c){var b=this,a="";a+=b._getIdentString(c);if(b.type=="leaf"){a+=b._getTLString(c)}else{if(b.type=="trunk"){if(b.children&&b.children.length>0){a+=b._getToggleString(c)}else{a+=b._getTLString(c)}}}return a},_getIdentString:function(d){var c=this,a="",b;while(c.getParentNode()&&c.getParentNode().type!="root"){c=c.getParentNode();b=(c.isLastNode(d)?"blank":"I");className="tangram-tree-node-"+b;if(c.skin){className+=" "+c.skin+"-"+b}a='<span   class="'+className+'"></span>'+a}return a},_getTLString:function(c){var b=this,a=(b.isLastNode(c)?"L":"T");className="tangram-tree-node-"+a;if(b.skin){className+=" "+b.skin+"-"+a}return'<span   class="'+className+'" ></span>'},_getToggleString:function(f){var d=this,b=d.isExpand?"minus":"plus",c=(d.isLastNode(f)?"L":"T")+b,a="tangram-tree-node-"+c;if(d.skin){a+=" "+d.skin+"-"+c}return['<span onclick="',d._getCallRef(),'._onToggleClick(event)" class="',a,'" id="',d.id,'-toggle"></span>'].join("")},_createIconStringArray:function(){var c=this,b=(c.type=="leaf"?"leaf":"trunk"),a=c._stringArray;if(c.isOpen){b="open-trunk"}a.push('<span  class="tangram-tree-node-',b);if(c.skin){a.push(" ",c.skin,"-",b)}a.push('" style="',c.icon?"background-image:url("+c.icon+")":"",'" id="',c.id,'-icon"></span>')},_createTextStringArray:function(){var b=this,c=(b.href?b._createHrefStringArray():b.text),a=b._stringArray;a.push('<span title="',b.title||b.text,'" id="',b.id,'-text" >',c,"</span></span>")},_createHrefStringArray:function(){var b=this,a=b._stringArray;a.push('<a id="',b.id,"-link",(b.target?"target='"+b.target+"'":""),' hidefocus="on" " href="',b.href,'" >',b.text,"</a>")},_getSpanElement:function(){return baidu.g(this._getId("span"))},_getIconElement:function(){return baidu.g(this._getId("icon"))},_getTextContainer:function(){return baidu.g(this._getId("textContainer"))},_getTextElement:function(){return baidu.g(this._getId("text"))},_getToggleElement:function(){return baidu.g(this._getId("toggle"))},_getSubNodesContainer:function(){return baidu.g(this._getId("subNodeId"))},_getHrefElement:function(){return baidu.g(this._getId("link"))},_getNodeElement:function(){return baidu.g(this._getId("node"))},_getContainer:function(){return baidu.g(this.id)},hide:function(){baidu.dom.hide(this._getNodeElement())},show:function(){baidu.dom.show(this._getNodeElement())},expandAll:function(){var a=this;if(a.children){a.expand()}baidu.array.each(a.getChildNodes(),function(b){b.expandAll()})},collapseAll:function(){var a=this;if(a.getChildNodes().length>0){a.collapse()}baidu.array.each(a.getChildNodes(),function(b){b.collapseAll()})},getIndex:function(){var f=this,b=f.isRoot?[]:f.getParentNode().getChildNodes(),c=-1;for(var d=0,a=b.length;d<a;d++){if(b[d]==f){return d}}return c},getNext:function(){var c=this,b=c.getIndex(),a;if(c.isRoot){return c}a=c.getParentNode().getChildNodes();return(b+1>=a.length)?c:a[b+1]},getPrevious:function(){var c=this,b=c.getIndex(),a;if(c.isRoot){return c}a=c.getParentNode().getChildNodes();return(b-1<0)?c:a[b-1]},getFirstChild:function(){var b=this,a=b.getChildNodes();return(a.length<=0)?null:a[0]},getLastChild:function(){var b=this,a=b.getChildNodes();return a.length<=0?null:a[a.length-1]},isLastNode:function(b){var a=this;if(b){return a._isLast}if(a.isRoot){return true}return a.getIndex()==(a.parentNode.childNodes.length-1)}};baidu.object.extend(baidu.ui.Tree.TreeNode.prototype,baidu.lang.Class.prototype);baidu.ui.Tree.extend({uiType:"tree",tplDOM:"<div class='#{class}'>#{body}</div>",getString:function(){var a=this;return baidu.format(a.tplDOM,{"class":a.getClass(),body:a._getBodyString()})},render:function(a){var b=this;b.renderMain(a).innerHTML=b.getString();b.dispatchEvent("onload")},_getBodyString:function(){var a="",b=this;if(b.data){b._rootNode=new baidu.ui.Tree.TreeNode(b.data);b._rootNode.isRoot=true;b._rootNode.type="root";b._rootNode._level=0;b._rootNode.setTree(b);a=b._rootNode.getString()}return a},getTreeNodes:function(){return this._treeNodes},getRootNode:function(){return this._rootNode},getTreeNodeById:function(a){return this.getTreeNodes()[a]},getCurrentNode:function(){return this._currentNode},setCurrentNode:function(a){this._currentNode=a},dispose:function(){var a=this;a.dispatchEvent("dispose");baidu.dom.remove(a.getMain());baidu.lang.Class.prototype.dispose.call(a)}});baidu.ui.Decorator=baidu.ui.createUI(function(a){}).extend({uiType:"decorator",type:"box",tpl:{box:"<table cellspacing='0' cellpadding='0' border='0' id='#{id}'><tr><td #{class}></td><td #{class}></td><td #{class}></td></tr><tr><td #{class}><i style='visibility:hidden'>&nbsp;</i></td><td #{class} id='#{innerWrapId}' valign='top'></td><td #{class}><i style='visibility:hidden'>&nbsp;</i></td></tr><tr><td #{class}></td><td #{class}></td><td #{class}></td></tr></table>"},tplClass:{box:["lt","ct","rt","lc","cc","rc","lb","cb","rb"]},getInner:function(){return baidu.g(this.innerId)},getBox:function(){return baidu.g(this.getId("table"))},_getBodyWrap:function(){return baidu.g(this.getId("body-wrap"))},render:function(){var d=this,c=document.createElement("div"),b=d.ui.getMain(),a=b.style,f=0;document.body.appendChild(c);d.renderMain(c),c.className=d.getClass(d.type+"-main");c.innerHTML=baidu.format(d.tpl[d.type],{id:d.getId("table"),"class":function(g){return"class='"+d.getClass(d.type+"-"+d.tplClass[d.type][f++])+"'"},innerWrapId:d.getId("body-wrap")});baidu.each(baidu.dom.children(b),function(g){d._getBodyWrap().appendChild(g)});b.appendChild(c);d.innerId=b.id;b.getBodyHolder=d._getBodyWrap()}});(function(){var a=baidu.ui.behavior.decorator=function(){this.addEventListener("onload",function(){var c=this,b;baidu.each(c.decorator,function(f,d){b={ui:c,skin:c.skin};if(baidu.lang.isString(f)){b.type=f}else{baidu.extend(b,f)}c._decoratorInstance[d]=new baidu.ui.Decorator(b);c._decoratorInstance[d].render()})});this.addEventListener("ondispose",function(){this._decoratorInstance=[];baidu.each(this._decoratorInstance,function(b){b.dispose()})})};a._decoratorInstance=[];a.getDecorator=function(){var b=this._decoratorInstance;return b.length>0?b:b[0]}})();(function(){var a=baidu.ui.behavior.droppable=function(){var b=this;b.dropOptions=baidu.extend({ondropover:function(c){b.dispatchEvent("ondropover",c)},ondropout:function(c){b.dispatchEvent("ondropout",c)},ondrop:function(c){b.dispatchEvent("ondrop",c)}},b.dropOptions);b.addEventListener("onload",function(){b.dropHandler=b.dropHandler||b.getBody();b.dropUpdate(b)})};a.dropUpdate=function(b){var c=this;b&&baidu.extend(c,b);c._theDroppable&&c._theDroppable.cancel();if(!(c.droppable)){return}c._theDroppable=baidu.dom.droppable(c.dropHandler,c.dropOptions)}})();baidu.ui.behavior.posable.setPositionByElement=function(c,b,a){c=baidu.g(c);b=baidu.g(b)||this.getMain();a=a||{};this.__execPosFn(b,"_setPositionByElement",a.once,arguments)};baidu.ui.behavior.posable._setPositionByElement=function(d,b,a){var c=baidu.dom.getPosition(d);a.once=false;a.insideScreen=a.insideScreen||"verge";c.width=d.offsetWidth;c.height=d.offsetHeight;this._positionByCoordinate(b,c,a,true)};baidu.ui.behavior.posable.setPositionByMouse=function(b,a){var c=this;b=baidu.g(b)||c.getMain();c._positionByCoordinate(b,baidu.page.getMousePosition(),a)};(function(){var b=baidu.ui.behavior.sortable=function(){this.addEventListener("dispose",function(){baidu.event.un(me.element,"onmousedown",handlerMouseDown)})};b.sortUpdate=function(r,k,m){var j,n,o,p=this,q,m=m||{};if(p.sortDisabled){return false}m.sortElements=r;baidu.object.extend(p,m);p.sortHandlers=p.sortHandlers||p.sortElements;p.element=k;p.sortRangeElement=baidu.g(p.sortRangeElement)||document.body;q=baidu.dom.getPosition(p.sortRangeElement);if(p.sortElements){p._sortPosition=baidu.dom.getStyle(p.sortElements[0],"position")}if(!p.sortRange){p.sortRange=[q.top,q.left+p.sortRangeElement.offsetWidth,q.top+p.sortRangeElement.offsetHeight,q.left]}baidu.event.on(p.element,"onmousedown",a)};function g(n,m){var j=n.length,k=0;for(;k<j;k++){if(n[k]==m){return true}}}function a(n){var k=baidu.event.getTarget(n),j=baidu.dom.getPosition(k),m=k.offsetParent,o=(m.tagName=="BODY")?{left:0,top:0}:baidu.dom.getPosition(m);if(!g(me.sortElements,k)){return false}baidu.dom.setStyles(k,{left:(j.left-o.left)+"px",top:(j.top-o.top)+"px",position:"absolute"});me._sortBlankDivId=me._sortBlankDivId||c(k,me).id;baidu.dom.drag(k,{range:me.sortRange,ondragstart:function(p){me.sortElementsMap=d(me.sortHandlers);me.dispatchEvent("sortstart",{trigger:p})},ondrag:function(r){var t=me.sortHandlers,s=0,q=t.length,u,p=baidu.dom.getPosition(r);u=h(p.left,p.top,r.offsetWidth,r.offsetHeight,me.sortElementsMap);if(u!=null){me._sortTarget=u;baidu.dom.insertAfter(f(me),u)}me.dispatchEvent("sort",{trigger:r})},ondragend:function(p){if(me._sortTarget){baidu.dom.insertAfter(p,me._sortTarget);me.dispatchEvent("sortend",{trigger:p,reciever:me._sortTarget})}baidu.dom.remove(f(me));me._sortBlankDivId=null;baidu.dom.setStyles(p,{position:me._sortPosition,left:"0px",top:"0px"})}})}function h(m,t,k,u,j){var q,p,n,w,v,r,s=Math.max,o=Math.min;for(q in j){r=q.split("-");w=+r[0];v=+r[1];n=+r[2];p=+r[3];if(s(w,m)<=o(w+n,m+k)&&s(v,t)<=o(v+p,t+u)){return j[q]}}return null}function d(k){var m={},j;baidu.each(k,function(n){j=baidu.dom.getPosition(n);m[j.left+"-"+j.top+"-"+n.offsetWidth+"-"+n.offsetHeight]=n});return m}function f(j){return baidu.g(j.getId("sortBlankDiv"))}function c(j,k){var m=baidu.dom.create("div",{id:k.getId("sortBlankDiv"),className:j.className});baidu.dom.setStyles(m,{width:j.offsetWidth+"px",height:j.offsetHeight+"px",borderWidth:"0px"});baidu.dom.insertBefore(m,j);return m}})();baidu.extend(baidu.ui.behavior.statable,{_statableMouseHandler:function(b,c,a,d){this._fireEvent(b,c,a,d)},setStateHandler:function(b,f,a){var d=this,c={};if(typeof a=="undefined"){f=a=""}baidu.array.each(d._allEventsName,function(g){c[g]=baidu.fn.bind("_statableMouseHandler",d,g,f,a);baidu.event.on(b,g,c[g])});d.addEventListener("dispose",function(){baidu.object.each(c,function(h,g){baidu.event.un(b,g,h)})})}});baidu.ui.Tooltip=baidu.ui.createUI(function(a){var b=this;b.target=b.getTarget();b.offset=a.offset||[0,0];b.positionElement=null;baidu.ui.Tooltip.showing[b.guid]=b}).extend({uiType:"tooltip",width:"",height:"",zIndex:3000,currentTarget:null,type:"click",posable:true,positionBy:"element",offsetPosition:"bottomright",isShowing:false,tplBody:'<div id="#{id}" class="#{class}"></div>',getString:function(){var a=this;return baidu.format(a.tplBody,{id:a.getId(),"class":a.getClass()})},toggle:function(){return true},render:function(){var b=this,a,c;a=b.renderMain();baidu.each(b.target,function(f,d){if((c=baidu.getAttr(f,"title"))&&c!=""){baidu.setAttr(f,"tangram-tooltip-title",c);baidu.setAttr(f,"title","")}});baidu.dom.insertHTML(a,"beforeend",b.getString());b._update();b._close();b.dispatchEvent("onload")},open:function(d){var b=this,g=baidu.ui.Tooltip.showing,f=baidu.ui.Tooltip.isSingleton,d=d||b.target[0],c=b.currentTarget,a=b.getBody();if(c===d){return}b.isShowing&&b.close(c);if(f){baidu.object.each(g,function(j,h){if(h!=b.guid&&j.isShowing){j.close()}})}if(typeof b.toggle=="function"&&!b.toggle()){return}b.currentTarget=d;b._updateBodyByTitle();b._setPosition();b.isShowing=true;if(b.dispatchEvent("onbeforeopen")){b.dispatchEvent("open");return}},_updateBody:function(b){var c=this,b=b||{},a=c.getBody(),d;if(c.contentElement&&c.contentElement!==a.firstChild){a.innerHTML="";a.appendChild(c.contentElement);c.contentElement=a.firstChild}else{if(typeof b.contentElement!="undefined"){a.innerHTML="";b.contentElement!=null&&a.appendChild(b.contentElement)}}if(!b.contentElement){if(typeof b.content=="string"){a.innerHTML="";a.innerHTML=b.content}else{if(typeof c.content=="string"&&baidu.dom.children(a).length==0){a.innerHTML=c.content}}}},_updateBodyByTitle:function(){var b=this,a=b.getBody();if(!b.contentElement&&!b.content&&b.currentTarget){if((title=baidu.getAttr(b.currentTarget,"tangram-tooltip-title"))&&title!=""){a.innerHTML=title}else{a.innerHTML=""}}},_update:function(c){var d=this,c=c||{},b=d.getMain(),a=d.getBody();d._updateBody(c);baidu.object.extend(d,c);d.contentElement=baidu.dom.children(a).length>0?a.firstChild:null;d._updateBodyByTitle();baidu.dom.setStyles(b,{zIndex:d.zIndex,width:d.width,height:d.height,display:""})},update:function(a){var b=this;b._update(a);b._setPosition();b.dispatchEvent("onupdate")},_setPosition:function(){var c=this,a=typeof c.insideScreen=="string"?c.insideScreen:"surround",b={once:true,offset:c.offset,position:c.offsetPosition,insideScreen:a};switch(c.positionBy){case"element":c.setPositionByElement(c.positionElement||c.currentTarget,c.getMain(),b);break;case"mouse":c.setPositionByMouse(c.getMain(),b);break;default:break}},close:function(){var a=this;if(!a.isShowing){return}a.isShowing=false;if(a.dispatchEvent("onbeforeclose")){a._close();a.dispatchEvent("onclose")}a.currentTarget=null},_close:function(){var a=this;a.getMain().style.left="-100000px"},dispose:function(){var a=this;a.dispatchEvent("ondispose");if(a.getMain()){baidu.dom.remove(a.getMain())}delete (baidu.ui.Tooltip.showing[a.guid]);baidu.lang.Class.prototype.dispose.call(a)},getTarget:function(){var a=this,b=[];baidu.each(baidu.lang.toArray(a.target),function(c){b.push(baidu.G(c))});return b}});baidu.ui.Tooltip.isSingleton=false;baidu.ui.Tooltip.showing={};baidu.ui.Tooltip.register(function(b){if(b.type=="click"){b.addEventListener("onload",function(){baidu.each(b.target,function(d){baidu.on(d,"click",a)})});b.addEventListener("ondispose",function(){baidu.each(b.target,function(d){baidu.un(d,"click",a)});baidu.un(document,"click",c)});b.addEventListener("onopen",function(){baidu.un(b.currentTarget,"click",a);baidu.on(b.currentTarget,"click",c);baidu.on(document,"click",c)});b.addEventListener("onclose",function(){baidu.on(b.currentTarget,"click",a);baidu.un(b.currentTarget,"click",c);baidu.un(document,"click",c)});function a(d){b.open(this);baidu.event.stop(d||window.event)}function c(g){var f=baidu.event.getTarget(g||window.event),d=function(h){return b.getBody()==h};if(d(f)||baidu.dom.getAncestorBy(f,d)||baidu.ui.get(f)==b){return}b.close();baidu.event.stop(g||window.event)}}});baidu.ui.Tooltip.extend({headContent:"",tplhead:'<div class="#{headClass}" id="#{id}">#{headContent}</div>'});baidu.ui.Tooltip.register(function(a){a.addEventListener("onload",function(){var c=this,b;baidu.dom.insertHTML(c.getBody(),"afterBegin",baidu.format(c.tplhead,{headClass:c.getClass("head"),id:c.getId("head")}));b=new baidu.ui.Button({content:c.headContent,onclick:function(){c.close()}});b.render(c.getId("head"))})});baidu.fx=baidu.fx||{};baidu.fx.Timeline=function(a){baidu.lang.Class.call(this);this.interval=16;this.duration=500;this.dynamic=true;baidu.object.extend(this,a)};baidu.lang.inherits(baidu.fx.Timeline,baidu.lang.Class,"baidu.fx.Timeline").extend({launch:function(){var a=this;a.dispatchEvent("onbeforestart");typeof a.initialize=="function"&&a.initialize();a["\x06btime"]=new Date().getTime();a["\x06etime"]=a["\x06btime"]+(a.dynamic?a.duration:0);a["\x06pulsed"]();return a},"\x06pulsed":function(){var b=this;var a=new Date().getTime();b.percent=(a-b["\x06btime"])/b.duration;b.dispatchEvent("onbeforeupdate");if(a>=b["\x06etime"]){typeof b.render=="function"&&b.render(b.transition(b.percent=1));typeof b.finish=="function"&&b.finish();b.dispatchEvent("onafterfinish");b.dispose();return}typeof b.render=="function"&&b.render(b.transition(b.percent));b.dispatchEvent("onafterupdate");b["\x06timer"]=setTimeout(function(){b["\x06pulsed"]()},b.interval)},transition:function(a){return a},cancel:function(){this["\x06timer"]&&clearTimeout(this["\x06timer"]);this["\x06etime"]=this["\x06btime"];typeof this.restore=="function"&&this.restore();this.dispatchEvent("oncancel");this.dispose()},end:function(){this["\x06timer"]&&clearTimeout(this["\x06timer"]);this["\x06etime"]=this["\x06btime"];this["\x06pulsed"]()}});baidu.fx.create=function(d,b,c){var f=new baidu.fx.Timeline(b);f.element=d;f.__type=c||f.__type;f["\x06original"]={};var a="baidu_current_effect";f.addEventListener("onbeforestart",function(){var h=this,g;h.attribName="att_"+h.__type.replace(/\W/g,"_");g=h.element.getAttribute(a);h.element.setAttribute(a,(g||"")+"|"+h.guid+"|",0);if(!h.overlapping){(g=h.element.getAttribute(h.attribName))&&window[baidu.guid]._instances[g].cancel();h.element.setAttribute(h.attribName,h.guid,0)}});f["\x06clean"]=function(j){var h=this,g;if(j=h.element){j.removeAttribute(h.attribName);g=j.getAttribute(a);g=g.replace("|"+h.guid+"|","");if(!g){j.removeAttribute(a)}else{j.setAttribute(a,g,0)}}};f.addEventListener("oncancel",function(){this["\x06clean"]();this["\x06restore"]()});f.addEventListener("onafterfinish",function(){this["\x06clean"]();this.restoreAfterFinish&&this["\x06restore"]()});f.protect=function(g){this["\x06original"][g]=this.element.style[g]};f["\x06restore"]=function(){var k=this["\x06original"],j=this.element.style,g;for(var h in k){g=k[h];if(typeof g=="undefined"){continue}j[h]=g;if(!g&&j.removeAttribute){j.removeAttribute(h)}else{if(!g&&j.removeProperty){j.removeProperty(h)}}}};return f};baidu.fx.opacity=function(b,a){if(!(b=baidu.dom.g(b))){return null}a=baidu.object.extend({from:0,to:1},a||{});var d=b;var c=baidu.fx.create(d,baidu.object.extend({initialize:function(){baidu.dom.show(b);if(baidu.browser.ie){this.protect("filter")}else{this.protect("opacity");this.protect("KHTMLOpacity")}this.distance=this.to-this.from},render:function(f){var g=this.distance*f+this.from;if(!baidu.browser.ie){d.style.opacity=g;d.style.KHTMLOpacity=g}else{d.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity:"+Math.floor(g*100)+")"}}},a),"baidu.fx.opacity");return c.launch()};baidu.fx.fadeIn=function(b,a){if(!(b=baidu.dom.g(b))){return null}var c=baidu.fx.opacity(b,baidu.object.extend({from:0,to:1,restoreAfterFinish:true},a||{}));c.__type="baidu.fx.fadeIn";return c};baidu.fx.fadeOut=function(b,a){if(!(b=baidu.dom.g(b))){return null}var c=baidu.fx.opacity(b,baidu.object.extend({from:1,to:0,restoreAfterFinish:true},a||{}));c.addEventListener("onafterfinish",function(){baidu.dom.hide(this.element)});c.__type="baidu.fx.fadeOut";return c};baidu.ui.Tooltip.extend({enableFx:true,showFx:baidu.fx.fadeIn,showFxOptions:{duration:500},hideFx:baidu.fx.fadeOut,hideFxOptions:{duration:500}});baidu.ui.Tooltip.register(function(a){if(a.enableFx){var b=null;a.addEventListener("beforeopen",function(c){a.dispatchEvent("onopen");"function"==typeof a.showFx&&a.showFx(a.getMain(),a.showFxOptions);c.returnValue=false});a.addEventListener("beforeclose",function(c){a.dispatchEvent("onclose");b=a.hideFx(a.getMain(),a.hideFxOptions);b.addEventListener("onafterfinish",function(){a._close()});c.returnValue=false});a.addEventListener("ondispose",function(){b&&b.end()})}});baidu.ui.Tooltip.extend({hideDelay:500});baidu.ui.Tooltip.register(function(c){if(c.type!="hover"){return}var a=null,f=false;c.addEventListener("onload",function(){baidu.each(c.target,function(h){c.on(h,"mouseenter",b);c.on(h,"mouseleave",d)});c.on(c.getBody(),"mouseover",g);c.on(c.getBody(),"mouseout",g)});function g(h){f=(h.type.toLowerCase()=="mouseover");!f&&d(h)}function b(h){a&&clearTimeout(a);c.open(this)}function d(h){a=setTimeout(function(){!f&&c.close()},c.hideDelay)}});T.undope=true;var nuit=nuit||(nuit={});nuit.Tab||(nuit.Tab=baidu.ui.createUI(function(a){if(a.element){this.element=baidu.g(a.element);this.render(this.element)}}).extend({items:[],uiType:"nuit-tab",classPrefix:"nuit-tab",speed:50,maxCharacters:15,_initUL:'<div class="wrapper"><ul class="clearfix"></ul></div>',render:function(b){var c=this,a=baidu.dom.query("ul",c.element)[0];(!baidu.dom.hasClass(c.element,"nuit-tab"))&&(baidu.dom.addClass(c.element,"nuit-tab"));if(!a){baidu.dom.empty(c.element);c.element.innerHTML=c._initUL;a=baidu.dom.query("ul",c.element)[0]}c.head=T.dom.getParent(T.dom.query("ul",c.element)[0]);baidu.event.on(a,"click",function(m){var h=m.originalTarget||m.srcElement,f=h.tagName.toLowerCase(),d=-1,k=null,n=null;if(f=="a"||f=="b"){k=h.parentNode;n=baidu.dom.query(">li",k.parentNode);for(var j=0,g=n.length;j<g;j++){if(k==n[j]){d=j;break}}if(d!=-1){c[{a:"switchTab",b:"removeTab"}[f]](d)}}});baidu.event.on(c.element,"click",function(f){var d=f.originalTarget||f.srcElement;if(baidu.dom.hasClass(d,"scroller")){c._scroll(d)}});baidu.array.each(c.items,function(d){c.addTab(d)});c.dispatchEvent("load")},getTabLength:function(){return baidu.dom.query(">ul>li",this.head).length},getActiveIndex:function(){var g=this,a=-1,d=baidu.dom.query(">ul>li",g.head);for(var c=0,b=d.length;c<b;c++){var f=d[c];if(f.className.indexOf("active")!=-1){a=c;break}}return a},switchTab:function(c){var f=this,b=f.getActiveIndex(),a=null,g=null,d=baidu.dom.query(">ul>li:eq("+c+")",f.head);if(d.length==0){return false}if(c==b){return false}a=d[0];g=baidu.dom.query(">div:eq("+(c+1)+")",f.element)[0];if(!f.dispatchEvent("beforeswitch",{tabhead:a,tabIndex:c,tabbody:g,activeIndex:b})){return false}baidu.array.each(baidu.dom.query("ul>li",f.element),function(h){if(h==a){baidu.dom.addClass(h,"active")}else{baidu.dom.removeClass(h,"active")}});baidu.array.each(baidu.dom.query(">div",f.element),function(h){if(h==g){baidu.dom.addClass(h,"active")}else{baidu.dom.removeClass(h,"active")}});f.dispatchEvent("switch",{tabhead:a,tabIndex:c,tabbody:g,activeIndex:b});return true},removeTab:function(c){var f=this,b=f.getActiveIndex(),a=null,g=null,d=baidu.dom.query(">ul>li:eq("+c+")",f.head);if(!d.length){return false}a=d[0];g=baidu.dom.query(">div:eq("+(c+1)+")",f.element)[0];if(!f.dispatchEvent("beforeremove",{tabhead:a,tabIndex:c,tabbody:g})){return false}baidu.dom.remove(a);baidu.dom.remove(g);if(b==c){f.switchTab(0)}f.resize();f.dispatchEvent("remove",{tabIndex:c})},addTab:function(g,b){var j=this,d=baidu.dom.query("ul",j.element)[0],f=document.createElement("li"),a=document.createElement("div"),h=d?baidu.dom.query(">li",d):[];if(!d){baidu.dom.empty(j.element);j.element.innerHTML=j._initUL;d=baidu.dom.query("ul",j.element)[0]}j.head=T.dom.getParent(T.dom.query("ul",j.element)[0]);if(typeof(g.id)!="undefined"){var c=j.getTabIndexById(g.id);if(c!=-1){j.switchTab(c);return false}}if(typeof(g.id)!="undefined"){f.setAttribute("data-tabid",g.id)}b=typeof(b)=="undefined"?(h.length):parseInt(b,10);f.innerHTML=("<a href='javascript:void(0)'>"+(g.head||"&nbsp;")+"</a>"+(g.closable?"<b>☒</b>":""));f.className=(g.closable?"closable":"");a.innerHTML=(g.body||"");if(b==h.length){d.appendChild(f);j.element.appendChild(a)}else{d.insertBefore(f,h[b]);j.element.insertBefore(a,baidu.dom.query(">div:eq("+(b+1)+")",j.element)[0])}j.resize();if(g.active){j.switchTab(b)}j.dispatchEvent("add",{newhead:f,newbody:a})},getTabIndexById:function(b){var c=this,a=-1;baidu.array.each(baidu.dom.query(">ul>li",c.head),function(f,d){if(f.getAttribute("data-tabid")==b){a=d;return false}});return a},_getHeaderInfo:function(){var d=this,a=baidu.dom.query(">ul",d.head)[0];var g=T.dom.getStyle(a,"margin-left");g=parseInt(g,10);var f=T.dom.query("li",a);var c=0;T.array.each(f,function(j,h){c+=j.offsetWidth+parseInt(T.dom.getStyle(j,"margin-left"))+parseInt(T.dom.getStyle(j,"margin-right"))});var b=d.head.offsetWidth-d._getScrollWidth();return{headerWidth:b,width:c,ml:g}},_getScrollWidth:function(){var b=this,a=baidu.dom.query(">.scroller-left",b.element)[0],c=baidu.dom.query(">.scroller-right",b.element)[0];if(a){return a.offsetWidth+c.offsetWidth}return 0},resize:function(){var j=this,b=false,k=false,d=baidu.dom.query(">ul",j.head)[0],o=[],q=j.getActiveIndex();if(!d){return}o=baidu.dom.query(">li",d);if(o.length==0){return}var c=j._getHeaderInfo();var a=c.width,p=c.headerWidth,f=c.ml;if(a>p){k=baidu.dom.query(">.scroller",j.element).length>0;if(!k){var g=baidu.dom.create("a",{"class":"scroller scroller-left",href:"javascript:void(0)"}),r=baidu.dom.create("a",{"class":"scroller scroller-right",href:"javascript:void(0)"});g.innerHTML="<";r.innerHTML=">";j.element.insertBefore(g,j.element.childNodes[0]);j.element.insertBefore(r,j.element.childNodes[0])}if(!T.dom.hasClass(j.element,"nuit-tab-scroll")){baidu.dom.addClass(j.element,"nuit-tab-scroll");p=j._getHeaderInfo().headerWidth}var n=a-p;T.dom.setStyle(d,"margin-left",-1*n);var m=baidu.dom.query(">.scroller-right",j.element)[0],h=baidu.dom.query(">.scroller-left",j.element)[0];baidu.dom.addClass(m,"scroller-disabled");baidu.dom.removeClass(h,"scroller-disabled")}else{baidu.dom.removeClass(j.element,"nuit-tab-scroll");T.dom.setStyle(d,"margin-left",0)}},_scroll:function(g){var j=this,c=baidu.dom.hasClass(g,"scroller-left"),m=baidu.dom.query(">ul>li",j.head),h=baidu.dom.query(">.scroller-left",j.element)[0],k=baidu.dom.query(">.scroller-right",j.element)[0],o=j.getActiveIndex();if(baidu.dom.hasClass(g,"scroller-disabled")){return}var d=baidu.dom.query(">ul",j.head)[0];var b=j._getHeaderInfo();var f=b.ml,n=b.headerWidth,a=b.width;if(c){if(f+j.speed<0){T.dom.setStyle(d,"margin-left",f+j.speed)}else{T.dom.setStyle(d,"margin-left",0)}}else{if(a+f-j.speed<n){T.dom.setStyle(d,"margin-left",n-(a+f))}else{T.dom.setStyle(d,"margin-left",f-j.speed)}}b=j._getHeaderInfo();f=b.ml,n=b.headerWidth,a=b.width;if(f<0){baidu.dom.removeClass(h,"scroller-disabled")}else{baidu.dom.addClass(h,"scroller-disabled")}if(a+f>n){baidu.dom.removeClass(k,"scroller-disabled")}else{baidu.dom.addClass(k,"scroller-disabled")}},dispose:function(){var a=this;a.dispatchEvent("ondispose");baidu.dom.remove(a.getMain());baidu.lang.Class.prototype.dispose.call(a)}}));baidu.ui.Grid=baidu.ui.createUI(function(a){a.autoRender=true;this.element=baidu.g(a.element)}).extend({uiType:"grid",setSize:function(a){if(a&&a.width){if(isNaN(a.width)){baidu.dom.setStyle(this.element,"width",a.width)}else{baidu.dom.setStyle(this.element,"width",a.width)}}if(a&&a.height){this._setHeight(a.height)}else{this._setHeight(this.height)}this._fixColWidth();this._sizeScroller();this.dispatchEvent("resize",{})},resize:function(){this.setSize()},_fixColWidth:function(){var b=this,m=b.fixColIndex,n=baidu.dom.query(".gridtable",b.ref.gbody),f=parseInt(baidu.dom.getStyle(b.ref.gbody.parentNode,"height"),10)||b.ref.gbody.parentNode.clientHeight,p=b.ref.gheader.style,a=null,o=b.ref.gheader.parentNode.offsetWidth-parseInt(baidu.dom.getStyle(b.ref.gheader,"border-left-width"),10)-parseInt(baidu.dom.getStyle(b.ref.gheader,"border-right-width"),10),j=o;if(m!=-1){var n=baidu.dom.query(".gridtable",b.ref.gbody);for(i=0,l=b.ref.ghcells.length;i<l;i++){var d=b.ref.ghcells[i],h=d.getAttribute("refcol");if((!b.columns[h].fix)||(!h)){j-=d.offsetWidth}else{a=d}}if(a&&j>20){j=j-parseInt(baidu.dom.getStyle(a,"border-left-width"),10)-parseInt(baidu.dom.getStyle(a,"border-right-width"),10);if(n.length>0&&n[0].offsetHeight>f&&(!b.autoHeight)){j=j-17}baidu.dom.setBorderBoxWidth(a,j);b.columns[b.fixColIndex].width=j;if(b.ref.gbody){var k=baidu.dom.query("[refcol="+b.fixColIndex+"]",b.ref.gbody);baidu.array.each(k,function(g){baidu.dom.setBorderBoxWidth(k[0],j)})}}}},_sizeScroller:function(){var m=this,u=baidu.dom.query(".gridtable",m.ref.gbody);m.ref.yscroller.style.top=m.ref.gheader.offsetHeight+"px";if(u.length>0&&m.ref.gbody){u[0].style.width=m.ref.gheader.childNodes[0].clientWidth+"px";var u=u[0],q=u.offsetHeight,k=u.offsetWidth,r=m.ref.gbody.parentNode.childNodes,o=parseInt(baidu.dom.getStyle(m.ref.gbody.parentNode,"height"),10)||m.ref.gbody.parentNode.clientHeight,v=m.ref.gheader.style,p=m.ref.gheader.parentNode.offsetWidth-parseInt(baidu.dom.getStyle(m.ref.gheader,"border-left-width"),10)-parseInt(baidu.dom.getStyle(m.ref.gheader,"border-right-width"),10);for(var f=0,d=r.length;f<d;f++){if((baidu.dom.getStyle(r[f],"position")=="static"||baidu.dom.getStyle(r[f],"position")=="relative")&&r[f]!=m.ref.gbody){o-=r[f].offsetHeight}}var c=p<k,n=o<q;m.ref.xscroller.style.display=(c?"block":"none");m.ref.yscroller.style.display=(n?"block":"none");m.ref.rbcorner.style.display=((c&&n)?"block":"none");baidu.dom.setStyle(m.ref.xscroller,"width",(n?(p-17):p));baidu.dom.setStyle(m.ref.xstrecher,"width",k);baidu.dom.setStyle(m.ref.yscroller,"height",(c?(o-17):o));baidu.dom.setStyle(m.ref.ystrecher,"height",q);baidu.dom.setStyle(m.ref.gbody,"width",(n?(p-17):p));baidu.dom.setStyle(m.ref.gbody,"height",(c?(o-17):o));m.ref.xscroller.scrollLeft=0;m.ref.yscroller.scrollTop=0;if(m.ref.gbody.childNodes.length>0){m.ref.gbody.childNodes[0].style.marginLeft="0px"}m.ref.gheader.childNodes[0].style.marginLeft="0px";u.style.marginBottom="0px";if(m.autoHeight){var b=baidu.dom.query("> .tangramgridcontainer",m.element);if(n){m.ref.xscroller.style.display=(c?"block":"none");m.ref.yscroller.style.display="none";m.ref.rbcorner.style.display="none";baidu.dom.setStyle(m.ref.xscroller,"width",p);baidu.dom.setStyle(m.ref.xstrecher,"width",k);baidu.dom.setStyle(m.ref.gbody,"width",p);baidu.dom.setStyle(m.ref.gbody,"height","auto");if(b.length){baidu.dom.setStyle(b[0],"height","auto")}}if(c){u.style.marginBottom="17px";baidu.dom.setStyle(m.ref.gbody,"height","auto")}var j=0,a=m.element.childNodes;for(var f=0,d=a.length;f<d;f++){if((baidu.dom.getStyle(a[f],"position")=="static"||baidu.dom.getStyle(a[f],"position")=="relative")){j+=a[f].offsetHeight}}baidu.dom.setStyle(m.element,"height",j)}}},_bindScroller:function(){var b=this;function c(){var f=this.scrollLeft;b.ref.gbody.childNodes[0].style.marginLeft="-"+f+"px";b.ref.gheader.childNodes[0].style.marginLeft="-"+f+"px"}function d(){var f=this.scrollTop;b.ref.gbody.scrollTop=f}baidu.event.on(b.ref.xscroller,"scroll",c);baidu.event.on(b.ref.yscroller,"scroll",d);function a(f){var g=f.wheelDelta?(f.wheelDelta/120):(-f.detail/3);b.ref.yscroller.scrollTop=b.ref.yscroller.scrollTop-(g*20);b.ref.gbody.scrollTop=b.ref.yscroller.scrollTop}if(!baidu.browser.isGecko){baidu.event.on(b.ref.gbody,"mousewheel",a)}else{baidu.event.on(b.ref.gbody,"DOMMouseScroll",a)}},_setHeight:function(j){var k=this;k.height=j;k.element.style.height=j+"px";var f=k.element.childNodes,a=baidu.dom.query(".tangramgridcontainer",k.element)[0],c=a.childNodes;for(var d=0,b=f.length;d<b;d++){if(f[d]!=a&&(baidu.dom.getStyle(f[d],"position")=="static"||baidu.dom.getStyle(f[d],"position")=="relative")){j-=f[d].offsetHeight}}baidu.dom.setBorderBoxHeight(a,j);for(var d=0,b=c.length;d<b;d++){if((baidu.dom.getStyle(c[d],"position")=="static"||baidu.dom.getStyle(c[d],"position")=="relative")&&c[d]!=k.ref.gbody){j-=c[d].offsetHeight}}baidu.dom.setBorderBoxHeight(k.ref.gbody,j)},showMask:function(){var b=this,a=baidu.dom.query("> .gridloadmask",b.element),c=baidu.dom.query("> .gridloadmessge",b.element);if(a.length){a[0].style.height=b.element.clientHeight+"px";a[0].style.display="block"}if(c.length){c[0].style.display="block"}},hideMask:function(){var b=this,a=baidu.dom.query("> .gridloadmask",b.element),c=baidu.dom.query("> .gridloadmessge",b.element);if(a.length){a[0].style.display="none"}if(c.length){c[0].style.display="none"}},request:function(h){var b=this,a=b.ajaxOption||{},c=a.data||"",h=h||{},f=b.orderBy||"",d=b._getCol(f);if(baidu.lang.isString(h)){h=baidu.url.queryToJson(h)}c=baidu.url.queryToJson(c);c.curPage=b.page.curPage;c.perPage=b.page.perPage;(d&&d.field)&&(c.orderBy=d.field);c.order=b.order||"";c=baidu.object.extend(c,h);a.onsuccess=function(k,j){if(b.loadMask){b.hideMask()}var g=baidu.json.parse(j);b.dispatchEvent("datafilter",g);b.loadData(g)};if(b.page===false){delete c.curPage;delete c.perPage}a.data=c;if(!b.dispatchEvent("beforerequest",a)){return}if(typeof(b.onBeforeRequest)=="function"&&b.onBeforeRequest({},a)===false){return}a.data=baidu.url.jsonToQuery(a.data,function(g){return g});b.ajaxOption=a;b.page.curPage=c.curPage;if(b.loadMask){b.showMask()}if(b.url){baidu.ajax.request(b.url,a)}},loadData:function(D){var z=this;if(!z.dispatchEvent("beforeload",D)){return}if(typeof(z.onBeforeLoad)=="function"){z.onBeforeLoad({},D)}var k=D.data.list||[],a=[" border='0' cellspacing='0' cellpadding='0' ><tbody>"],q=z.columns,t=0;z.data=D;z.selectedRows=[];a.push("<tr>");for(var x=0,o=q.length;x<o;x++){var f=q[x],n=f.width;if(!f.columns){a.push("<td refcol='"+x+"' style='width:"+n+"px;height:0px; border-bottom-width:0px;"+(f.hide?"display:none;":"")+"' ></td>");t++}else{for(var C=0,B=f.columns.length;C<B;C++){t++;var d=f.columns[C],n=d.width;a.push("<td refcol='"+x+"-"+C+"' style='width:"+n+"px;height:0px; border-bottom-width:0px;"+(d.hide?"display:none;":"")+"' ></td>")}}}a.push("</tr>");for(var y=0,u=k.length;y<u;y++){var h=k[y],s=((!!z.selectMode)&&(!!z.selectBy));if(s){if(baidu.lang.isString(z.selectBy)){s=(h[z.selectBy]=="1"||h[z.selectBy]==true)}if(baidu.lang.isFunction(z.selectBy)){s=z.selectBy({rowdata:h,rowIndex:y});s=(s=="1"||s==true)}}if(s){if(z.selectedRows.length>=1&&z.selectMode==1){s=false}else{z.selectedRows.push(y)}}z.dispatchEvent("beginrowjoin",{realColumnsLength:t,rowdata:h,rowIndex:y,joinedArray:a});a.push("<tr rowindex="+y+"   class=' gridrow "+(z.strip===false?"":(y%2?"even":"odd"))+" "+(s?"selected":"")+" '>");for(var x=0,o=q.length;x<o;x++){var f=q[x];if(!f.columns){a.push("<td class='gridcell' nowrap='nowrap' style='"+(f.hide?"display:none;":"")+"'><span class='cellcontent' style='text-align:"+(f.align||"left")+";' > "+z._getCellContent(f,y,{select:s})+"</span></td>")}else{for(var C=0,B=f.columns.length;C<B;C++){var d=f.columns[C];a.push("<td class='gridcell' nowrap='nowrap' style='"+(d.hide?"display:none;":"")+"'><span class='cellcontent' style='text-align:"+(d.align||"left")+";' > "+z._getCellContent(d,y,{select:s})+"</span></td>")}}}a.push("</tr>");z.dispatchEvent("endrowjoin",{realColumnsLength:t,rowdata:h,rowIndex:y,joinedArray:a})}z.dispatchEvent("endrowsjoin",{joinedArray:a});a.push("</tbody></table></div>");a.unshift("<div class='grid-tablecontainer'><table class='gridtable' style='width:"+z.ref.gheader.childNodes[0].clientWidth+"px' ");z.ref.gbody.innerHTML=a.join("");this.setSize();if(z.page&&z._useDefaultPager){if(!D.data.page){D.data.page={}}D.data.page.total=parseInt(D.data.page.total,10);z.page.total=parseInt(D.data.page.total||Math.max(k.length,z.page.total,10));var r=z.ref.pager,A=z.page.curPage,m=parseInt((D.data.page.total-1)/z.page.perPage,10)+1,v=Math.max((z.page.curPage-1)*z.page.perPage+1,1),b=Math.min((z.page.curPage)*z.page.perPage,D.data.page.total);r.first.disabled=(A<=1||m<=1);r.prev.disabled=(A<=1||m<=1);r.curPage.value=A;r.pages.innerHTML=m;r.next.disabled=(A>=m||m<=1);r.last.disabled=(A>=m||m<=1);r.from.innerHTML=v;r.to.innerHTML=b;r.total.innerHTML=D.data.page.total;z.page.pages=m;z.page.from=v;z.page.to=b;z.page.total=D.data.page.total}z.dispatchEvent("afterload",D);if(typeof(z.onAfterLoad)=="function"){z.onAfterLoad({},D)}},_getCellContent:function(b,k,a){var c=this,h=c.getData().data.list[k]||{},d=h[(b.field||"")],d=(d=="0"?d:(d||"")),j=baidu.ui.Grid.ext.coltype[b.renderer||""],f={cellvalue:d,colopts:b,rowdata:h,rowIndex:k};if(baidu.lang.isObject(a)){baidu.object.extend(f,a)}if(baidu.lang.isObject(j)&&j&&baidu.lang.isFunction(j.format)){d=j.format.call(c,f)||""}if(baidu.lang.isFunction(b.renderer)){d=b.renderer.call(c,f)||""}return d},getData:function(){return this.data},selectRow:function(f,d,c){var b=this,f=parseInt(f,10),a=(baidu.array.indexOf(b.selectedRows,f)!=-1);if(!c){c={rowIndex:f,row:b.data.data.list[f]}}if(b.selectMode){if(b.selectMode==1){baidu.array.each(b.selectedRows,function(h){baidu.array.each(baidu.dom.query("[rowindex="+h+"]",b.ref.gbody),function(j){baidu.dom.removeClass(j,"selected")});var g={rowIndex:h,row:b.data.data.list[h]};b.dispatchEvent("unselect",g);if(typeof(b.onUnSelect)=="function"){b.onUnSelect(d,g)}});b.selectedRows=[]}if(b.selectMode==2&&a){return true}baidu.array.each(baidu.dom.query("[rowindex="+f+"]",b.ref.gbody),function(g){baidu.dom.addClass(g,"selected")});b.selectedRows.push(f);b.selectedRows.sort();b.dispatchEvent("select",c);if(typeof(b.onSelect)=="function"){b.onSelect(d,c)}}return true},unSelectRow:function(f,d,c){var b=this,f=parseInt(f,10),a=(baidu.array.indexOf(b.selectedRows,f)!=-1);if(!c){c={rowIndex:f,row:b.data.data.list[f]}}if(a){baidu.array.each(baidu.dom.query("[rowindex="+f+"]",b.ref.gbody),function(g){baidu.dom.removeClass(g,"selected")});baidu.array.remove(b.selectedRows,f);b.dispatchEvent("unselect",c);if(typeof(b.onUnSelect)=="function"){b.onUnSelect(d,c)}}},toggleSelectRow:function(f,d,c){var b=this,f=parseInt(f,10),a=(baidu.array.indexOf(b.selectedRows,f)!=-1);if(!c){c={rowIndex:f,row:b.data.data.list[f]}}if(a){b.unSelectRow(f,d,c)}else{b.selectRow(f,d,c)}},getSelected:function(a){var b=this.getSelections();if(b.length>0){return b[0]}else{return null}},getSelections:function(b){var a=[],c=this;baidu.array.each(c.selectedRows,function(d){var g={},f=c.data.data.list[d];if(baidu.lang.isString(b)){g[b]=f[b]}else{if(baidu.lang.isArray(b)){baidu.array.each(b,function(h){g[h]=f[h]})}else{g=f}}a.push(g)});return a},reOrder:function(k,b,f){var d=this,n=d._getSrc(f),a=d._getCol(k),c={orderBy:a.field,order:b,curPage:1,colIndex:k},h=(b=="asc"),j=n.cell?[n.cell]:[];if(a.sortable===false||a.columns){return}if(!j.length){j=baidu.dom.query("[refcol="+k.toString()+"]",d.ref.gheader)}if(j.length==0){return}if(!d.dispatchEvent("beforesort",c)){return}if(typeof(d.onBeforeSort)=="function"&&d.onBeforeSort(f,c)===false){return}d.order=b;d.orderBy=k;baidu.array.each(baidu.dom.query(".sorter",d.ref.gheader),function(g){baidu.dom.remove(g)});var m=baidu.dom.create("span",{className:"sorter "+(h?"sort-asc":"sort-desc")});m.innerHTML=(h?"▲":"▼");baidu.array.each(j,function(g){g.childNodes[0].appendChild(m)});delete c.colIndex;d.request(c)},hideColumn:function(f){var j=this,f=f.toString(),c=baidu.dom.query(".gridtable",j.ref.gbody),d=j._getCol(f);d.hide=true;if(f.indexOf("-")!=-1){var a=f.substr(0,f.indexOf("-")),b=j._getCol(a),k=true;for(var h=b.columns.length-1;h>=0;h--){if(!b.columns[h].hide){k=false}}b.hide=k}else{if(d.columns){for(var h=d.columns.length-1;h>=0;h--){d.columns[h].hide=true}}}j.render(j.element);j.dispatchEvent("hidecolumn",{colIndex:f})},showColumn:function(f){var j=this,c=baidu.dom.query(".gridtable",j.ref.gbody),f=f.toString(),d=j._getCol(f);d.hide=false;if(f.indexOf("-")!=-1){var a=f.substr(0,f.indexOf("-")),b=j._getCol(a);b.hide=false}if(d.columns){for(var h=d.columns.length-1;h>=0;h--){d.columns[h].hide=false}}j.render(j.element);j.dispatchEvent("showcolumn",{colIndex:f})},addRow:function(a,b){if(typeof(b)=="undefined"){b=this.data.data.list.length}this.data.data.list.splice(b,0,a);if(this.data.data.page&&typeof(this.data.data.page.total)!="undefined"){this.data.data.page.total++}this.loadData(this.data);this.dispatchEvent("addrow",{row:a,rowIndex:b})},updateRow:function(a,b){this.data.data.list[b]=a;this.loadData(this.data);this.dispatchEvent("updaterow",{row:a,rowIndex:b})},deleteRow:function(a){baidu.array.remove(this.selectedRows,a);this.data.data.list.splice(a,1);if(this.data.data.page&&typeof(this.data.data.page.total)!="undefined"){this.data.data.page.total--}this.loadData(this.data);this.dispatchEvent("deleterow",{rowIndex:a})},addDOMRow:function(f,d){var c=this,b=baidu.dom.query(".gridtable",c.ref.gbody);if(typeof(d)=="undefined"){d=c.getData().data.list.length}c.getData().data.list.push(f);var a=c.getData().data.list.length-1;baidu.array.each(b,function(q){var p=q.rows[0],r=p.cells,v=baidu.dom.query(".gridrow[rowindex="+d+"]",q),u=v.length>0?v[0]:baidu.dom.query("tr:last",q)[0],m=v.length>0?u:u.nextSibling;if(!u){return true}var s=document.createElement("tr");s.className="gridrow";s.setAttribute("rowindex",a);for(var k=0,j=r.length;k<j;k++){var n=r[k],o=n.getAttribute("refcol"),g=c._getCol(o);var h=document.createElement("td");h.className="gridcell";h.setAttribute("nowrap","nowrap");h.setAttribute("noWrap","noWrap");if(g.hide){h.style.display="none"}h.innerHTML="<span class='cellcontent' style='text-align:"+(g.align||"left")+";' >"+c._getCellContent(g,a)+"</span>";s.appendChild(h)}if(m){m.parentNode.insertBefore(s,m)}else{u.parentNode.appendChild(s)}});c.resize();this.dispatchEvent("addomrow",{rowIndex:d,newRowIndex:a,rowdata:f});return a},updateDOMRow:function(d,c){var b=this,a=baidu.dom.query(".gridtable",b.ref.gbody);b.getData().data.list[c]=d;baidu.array.each(a,function(o){var n=o.rows[0],p=n.cells,r=(baidu.dom.query(".gridrow[rowindex="+c+"]",o)[0]);if(!r){return true}var q=document.createElement("tr");q.className="gridrow";q.setAttribute("rowindex",c);for(var j=0,h=p.length;j<h;j++){var k=p[j],m=k.getAttribute("refcol"),f=b._getCol(m);var g=document.createElement("td");g.className="gridcell";g.setAttribute("nowrap","nowrap");g.setAttribute("noWrap","noWrap");if(f.hide){g.style.display="none"}g.innerHTML="<span class='cellcontent' style='text-align:"+(f.align||"left")+";' >"+b._getCellContent(f,c)+"</span>";q.appendChild(g)}r.parentNode.replaceChild(q,r)});b.resize();this.dispatchEvent("updatedomrow",{rowIndex:c,rowdata:d})},deleteDOMRow:function(c){var b=this,a=baidu.dom.query(".gridtable",b.ref.gbody);baidu.array.remove(b.selectedRows,c);baidu.array.each(a,function(d){var f=(baidu.dom.query(".gridrow[rowindex="+c+"]",d)[0]);if(!f){return true}f.parentNode.removeChild(f)});b.resize();this.dispatchEvent("deletedomrow",{rowIndex:c})},cellIterator:function(j){var t=this,h=baidu.dom.query("table",t.ref.gbody);for(var d=0,b=h.length;d<b;d++){var u=h[d],k=u.rows,w=k[0].cells;for(var s=1,q=k.length;s<q;s++){var f=k[s],m=f.getAttribute("rowindex");if(typeof(m)=="undefined"||(!baidu.dom.hasClass(f,"gridrow"))){continue}m=parseInt(m,10);for(var p=0,n=w.length;p<n;p++){var a=f.cells[p],r=w[p].getAttribute("refcol"),c=t._getCol(r),o=t.getData().data.list[m][c.field||""];param={column:c,cell:a,row:f,colIndex:r,rowIndex:m,rowdata:t.getData().data.list[m]};o=(o=="0"?o:(o||""));param.cellvalue=o;if(c){var v=j.call(t,param);if(v===false){return}}}}}},_getSrc:function(d){if(!d){return{}}var c=this,j=d.srcElement||d.target,a=null,h=null,b=null,f=j,k=-1;while(f.parentNode&&f!=c.element){if(baidu.dom.hasClass(f,"gridcell")){a=f}if(f.className.indexOf("gridrow")!=-1){h=f;k=f.getAttribute("rowindex");if(typeof(k)!="undefined"){k=parseInt(k,10)}}if(f.className.indexOf("gridtable")!=-1){b=f}if(a&&h&&b){break}f=f.parentNode}if(b&&(b.parentNode.parentNode==c.ref.gbody||b.parentNode==c.ref.gbody||b.parentNode==c.ref.gheader)){return{cell:a,row:h,table:b,rowIndex:k,src:j}}else{return{}}},_getCol:function(a){if(!this._originColumns){this._originColumns=baidu.object.clone(this.columns)}a=a.toString();if(a.indexOf("-")==-1){return this.columns[a]}else{return this.columns[a.substr(0,a.indexOf("-"))].columns[a.substr(a.indexOf("-")+1)]}},_bindEvents:function(){var f=this;function q(x,v){var u=f._getSrc(x);if(u.cell){var t=-1,y=u.cell.parentNode.childNodes,w=-1;for(var r=0,g=y.length;r<g;r++){if(y[r]==u.cell){t=r;break}}w=parseInt(u.table.rows[0].cells[t].getAttribute("refcol"),10);var v={columnIndex:t,refIndex:w,rowIndex:u.rowIndex,ref:u,column:f._getCol(w)};f.dispatchEvent("cellclick",v);if(typeof(f.onCellClick)=="function"){f.onCellClick(x,v)}}if(u.row){var v={rowIndex:u.rowIndex,row:f.data.data.list[u.rowIndex],ref:u};f.dispatchEvent("rowclick",v);if(typeof(f.onRowClick)=="function"){f.onRowClick(x,v)}if(f.clickToSelect!==false){f.toggleSelectRow(u.rowIndex,x)}}}baidu.event.on(f.ref.gbody,"click",q);function k(t,r){var g=f._getSrc(t);if(g.row){var r={rowIndex:g.rowIndex,row:f.data.data.list[g.rowIndex],ref:g};f.dispatchEvent("dblrowclick",r);if(typeof(f.onRowDblClick)=="function"){f.onRowDblClick(t,r)}}}baidu.event.on(f.ref.gbody,"dblclick",k);function h(r){var g=f._getSrc(r);if(g.row){p();baidu.dom.addClass(g.row,"hover");f.highLightedRow=g.rowIndex}}function p(){baidu.array.each(baidu.dom.query(".hover",f.ref.gbody),function(g){baidu.dom.removeClass(g,"hover")});f.highLightedRow=-1}if(f.hoverhighlight!==false){baidu.event.on(f.ref.gbody,"mousemove",h);baidu.event.on(f.ref.gbody,"mouseout",p)}function m(u,t){var z=f._getSrc(u),y=z.cell;if(y){if(baidu.dom.hasClass(y,"header-sortable-col")&&baidu.dom.hasClass(z.src,"headercoltext")){var w=y.getAttribute("refcol"),g=f._getCol(w),v=g.field,x=(baidu.dom.query(".sort-desc",y).length>0||baidu.dom.query(".sorter",y).length==0),r=x?"asc":"desc";f.reOrder(w,r,u)}f.dispatchEvent("headercellclick",{ref:z})}}baidu.event.on(f.ref.gheader,"click",m);var n=baidu.dom.getPosition(f.ref.gheader).left,c=false,o=null,b=0;function j(r){if(c){var g=baidu.event.getPageX(r);f.ref.resizerproxy.style.left=(g-n)+"px"}}function a(w){if(c){var z=baidu.event.getPageX(w),r=baidu.dom.getPosition(o).left,u=(z-r),y=o.getAttribute("refcol"),g=f._getCol(y),v=baidu.dom.query("[refcol="+y+"]",f.ref.gbody),A=baidu.dom.query(".gridtable",f.ref.gbody),s=f._getCol(y).width-u;o.style.width=u+"px";baidu.array.each(baidu.dom.query("[refcol="+y+"]",f.ref.gheader),function(t){t.style.width=u+"px"});g.width=u;baidu.array.each(v,function(t){t.style.width=u+"px"});baidu.array.each(A,function(t){var x=parseInt(baidu.dom.getStyle(t,"width"),10);t.style.width=(x-s)+"px"});f.ref.resizerproxy.style.display="none";f._sizeScroller();f.dispatchEvent("columnresize",{column:g})}c=false;o==null}function d(t){var r=f._getSrc(t),u=r.src,t=baidu.event.get(t);n=baidu.dom.getPosition(f.ref.gheader).left;if(u&&baidu.dom.hasClass(u,"header-col-resizer")){o=r.cell;b=baidu.dom.getPosition(o).left;var g=baidu.event.getPageX(t);f.ref.resizerproxy.style.left=(g-n)+"px";f.ref.resizerproxy.style.height=f.element.clientHeight+"px";f.ref.resizerproxy.style.display="block";c=true;f.clearSelection();t.stopPropagation()}}baidu.event.on(f.ref.gheader,"mousedown",d);baidu.event.on(f.ref.gheader,"mousemove",j);baidu.event.on(f.element,"mouseup",a)},tplFrame:'#{loadmask}#{docktop}<div class="tangramgridcontainer"><div class="gridheader" id="#{element}-gridheader"><table border="0" cellspacing="0" cellpadding="0" class="gridtable"><tbody>#{hcols}</tbody></table></div><div class="gridbody"  id="#{element}-gridbody"><div class="grid-tablecontainer"></div></div><div class="grid-yscroller"><div class="grid-y-strecher" ></div></div><div class="grid-xscroller"><div class="grid-x-strecher"></div></div><div class="grid-rb-corner"></div><div class="grid-resizer-proxy"></div></div>#{dockbottom}',tplPager:"<div class='tgpager'><span class='tgpager-info'><span class='tgpager-from'>#{from}</span>-<span class='tgpager-to'>#{to}</span> of <span class='tgpager-total'>#{total}</span></span><select class='tgpager-pagenumbers'>#{pnoptions}</select><button class='tgpager-first' disabled='disabled'>|◄</button><button class='tgpager-prev'  disabled='disabled'>◄</button><span class='tgpager-sep'></span><input type='text' class='tgpager-curPage' value='#{curPage}' />/<span class='tgpager-pages'>#{pages}</span><span class='tgpager-sep'></span><button class='tgpager-next'  disabled='disabled'>►</button><button class='tgpager-last'  disabled='disabled'>►|</button>#{tools}</div>",render:function(f){if(!baidu.g(f)){return}this.fixColIndex=-1;var c=this,a=baidu.format(c.tplFrame,{element:c.element.id,dockbottom:(function(){if(c.page===false){return""}if(c.page===true){c.page={}}if(baidu.lang.isString(c.page)){c._useDefaultPager=false;return c.page}else{c._useDefaultPager=true;c.page=baidu.object.merge(c.page||{},{perPage:10,pagenumbers:[10,20,50,100],curPage:1,pages:0,from:0,to:0,total:0});return baidu.format(c.tplPager,baidu.object.extend(c.page,{pnoptions:(function(){var g=[];baidu.array.each(c.page.pagenumbers,function(h){g.push("<option value='"+h+"' "+(h==c.page.perPage?" selected='selected' ":"")+">"+h+"</option>")});return g.join("")})()}))}})(),docktop:c.docktop||"",loadmask:'<div class="gridloadmask"></div><div class="gridloadmessge">'+(c.loadMessage||"正在加载...")+"</div>",hcols:(function(){var p=["<tr class='gridrow'>"],q=false,r=["<tr class='gridrow'>"];for(i=0,l=c.columns.length;i<l;i++){if(c.columns[i].columns&&c.columns[i].columns.length){q=true;break}}c.grouped=q;for(i=0,l=c.columns.length;i<l;i++){var u=isNaN(parseInt(c.columns[i].width,10))?"200px":(parseInt(c.columns[i].width,10)+"px"),k=c.columns[i];if(k.fix&&(!k.columns)){c.fixColIndex=i}if(k.columns){u="auto"}if(!k.width){k.width=200}var o=(k.header||"");var g=baidu.ui.Grid.ext.coltype[k.renderer||""];if(baidu.lang.isObject(g)&&g){if(baidu.lang.isFunction(g.headerformat)){o=g.headerformat.call(c,o,k,i)||""}if(baidu.lang.isFunction(g.init)){g.init.call(c,k)}}var n=((c.orderBy==i&&(!k.columns))?"<span class='sorter sort-"+c.order+"'>"+(c.order=="desc"?"▼":"▲")+"</span>":"");if(c.orderBy==i){c.orderBy=i}var v=(((k.resizable!==false)&&(!k.columns))?"<span class='header-col-resizer'></span>":"");var h=(k.columns?(" colspan='"+k.columns.length+"' "):"");p.push('<td valign="middle" '+((q&&(!k.columns))?" rowspan='2' ":"")+h+'  class="headercol gridcell '+((k.sortable!==false&&(!k.columns))?" header-sortable-col ":"")+((q&&(!k.columns))?" header-rowspan2 ":"")+(k.columns?" header-colspan ":"")+'" unselectable="on" onselectstart="return false;" refcol="'+i+'"  style="width:'+u+";"+(k.hide?"display:none;":"")+'" ><div class="header-col"><span class="headercoltext">'+o+"</span>"+n+v+"</div></td>");if(baidu.lang.isArray(k.columns)){for(var m=0,t=k.columns.length;m<t;m++){var s=k.columns[m];if(!s.width){s.width=200}var u=isNaN(parseInt(s.width,10))?"200px":(parseInt(s.width,10)+"px");var o=(s.header||"");var g=baidu.ui.Grid.ext.coltype[s.renderer||""];if(baidu.lang.isObject(g)&&g){if(baidu.lang.isFunction(g.headerformat)){o=g.headerformat.call(c,o,s,i)||""}if(baidu.lang.isFunction(g.init)){g.init.call(c,s)}}var v=((s.resizable!==false)?"<span class='header-col-resizer'></span>":"");var n=((c.orderBy==(i+"-"+m))?"<span class='sorter sort-"+c.order+"'>"+(c.order=="desc"?"▼":"▲")+"</span>":"");if(c.orderBy==(i+"-"+m)){c.orderBy=(i+"-"+m)}r.push('<td   class="headercol gridcell '+((s.sortable!==false)?" header-sortable-col ":"")+'" unselectable="on" onselectstart="return false;" refcol="'+(i+"-"+m)+'"  style="width:'+u+";"+(s.hide?"display:none;":"")+'" ><div class="header-col"><span class="headercoltext">'+o+"</span>"+n+v+"</div></td>")}}}p.push("</tr>");r.push("</tr>");return p.join("")+(q?r.join(""):"")})()});c._clearBindings();baidu.dom.addClass(c.element,"tangramgrid");c.renderMain(f);c.element.innerHTML=a;c.height=c.height||200;c.ref={};c.selectedRows=[];c.highLightedRow=-1;c.grouped=false;c.ref.gheader=baidu.g(this.element.id+"-gridheader");c.ref.gbody=baidu.g(this.element.id+"-gridbody");c.ref.ghcells=baidu.dom.query("table tr:eq(0) td",c.ref.gheader);c.ref.yscroller=baidu.dom.query(".grid-yscroller",c.element)[0];c.ref.ystrecher=baidu.dom.query(".grid-y-strecher",c.element)[0];c.ref.xscroller=baidu.dom.query(".grid-xscroller",c.element)[0];c.ref.xstrecher=baidu.dom.query(".grid-x-strecher",c.element)[0];c.ref.rbcorner=baidu.dom.query(".grid-rb-corner",c.element)[0];c.ref.resizerproxy=baidu.dom.query(".grid-resizer-proxy",c.element)[0];if(c.page&&c._useDefaultPager){c.ref.pager={pagenumbers:baidu.dom.query(".tgpager-pagenumbers",c.element)[0],first:baidu.dom.query(".tgpager-first",c.element)[0],prev:baidu.dom.query(".tgpager-prev",c.element)[0],curPage:baidu.dom.query(".tgpager-curPage",c.element)[0],pages:baidu.dom.query(".tgpager-pages",c.element)[0],next:baidu.dom.query(".tgpager-next",c.element)[0],last:baidu.dom.query(".tgpager-last",c.element)[0],from:baidu.dom.query(".tgpager-from",c.element)[0],to:baidu.dom.query(".tgpager-to",c.element)[0],total:baidu.dom.query(".tgpager-total",c.element)[0]};var d=c.ref.pager,b=baidu.fn.bind(c._handlePager,c);baidu.event.on(d.pagenumbers,"change",b);baidu.event.on(d.first,"click",b);baidu.event.on(d.prev,"click",b);baidu.event.on(d.curPage,"keydown",b);baidu.event.on(d.curPage,"blur",b);baidu.event.on(d.next,"click",b);baidu.event.on(d.last,"click",b)}this._fixColWidth();this._setHeight(c.height);this._bindScroller();this._bindEvents();this.dispatchEvent("initialized",{});if(this.data){this.loadData(this.getData())}},_handlePager:function(c){var b=this,a=b.ref.pager,c=baidu.event.get(c),h=a.pagenumbers.options[a.pagenumbers.selectedIndex].value,d=parseInt(b.page.curPage,10),m=c.target,f=false;if(m==a.first||m==a.pagenumbers){d=1}if(m==a.prev){d=Math.max(1,d-1)}if(m==a.next){d=Math.min(b.page.pages,d+1)}if(m==a.last){d=b.page.pages}if(m==a.curPage){var j=a.curPage.value;if(c.type=="keydown"){var k=baidu.event.getKeyCode(c);if(k==13){if(isNaN(j)){f=true}else{d=~~j;if(d<1){d=1;f=true}if(d>b.page.pages){d=b.page.pages;f=true}}a.curPage.value=d}else{return true}}if(c.type=="blur"){if(isNaN(j)){a.curPage.value=d;f=true}else{d=~~j}}}if(f){c.preventDefault();return false}else{b.page.curPage=d;b.page.perPage=h;b.request({curPage:d,perPage:h})}},clearSelection:function(){if(window.getSelection){if(window.getSelection().empty){window.getSelection().empty()}else{if(window.getSelection().removeAllRanges){window.getSelection().removeAllRanges()}}}else{if(document.selection){document.selection.empty()}}},_clearBindings:function(){var d=this;if(!d.ref){return}var b=["click","dblclick","mousemove","mousedown","change","keydown","blur","dommousescroll","mouseup","mouseout","scroll"];d.ref.element=d.element;for(var c in d.ref){var f=d.ref[c];if(f.nodeType){baidu.array.each(b,function(g){baidu.event.un(f,g)})}else{for(var a in f){if(f[a].nodeType){baidu.array.each(b,function(g){baidu.event.un(f[a],g)})}}}}delete d.ref},dispose:function(){var a=this;a._clearBindings();baidu.dom.empty(a.element);a.dispatchEvent("dispose",{});baidu.lang.Class.prototype.dispose.call(a)}});baidu.ui.Grid.ext={coltype:{}};baidu.ui.Grid.ext.coltype.checkbox={headerformat:function(c,b,a){b.resizable=false;b.sortable=false;return(this.selectMode==2)?"<input type='checkbox' class='tg-cball' />":"&nbsp;"},format:function(c){if(!this.selectMode){return""}var b=c.colopts.field||"",a=c.rowdata[b],a=(a=="0"?a:(a||""));var g=((typeof(c.colopts.disableBy)=="function")&&c.colopts.disableBy(c)===false)?" disabled='disabled' ":"";return"<input type='checkbox' class='tg-cb' name='"+b+"' value='"+a+"' "+(c.select?" checked='checked' ":"")+" "+g+" />"},init:function(){var a=this;a.addEventListener("select",function(d,c){var b=baidu.dom.query("[rowindex="+c.rowIndex+"] .tg-cb",a.ref.gbody);baidu.array.each(b,function(f){f.checked=true})});a.addEventListener("unselect",function(d,c){var b=baidu.dom.query("[rowindex="+c.rowIndex+"] .tg-cb",a.ref.gbody);baidu.array.each(b,function(f){f.checked=false})});a.addEventListener("headercellclick",function(h,f){var c=this,b=f.ref.src;if(b&&baidu.dom.hasClass(b,"tg-cball")){var d=baidu.dom.query("[rowindex]",c.ref.gbody);if(b.checked){baidu.array.each(d,function(g){var j=parseInt(g.getAttribute("rowindex"),10);c.selectRow(j,h)})}else{baidu.array.each(d,function(g){var j=parseInt(g.getAttribute("rowindex"),10);c.unSelectRow(j,h)})}}});if(a.clickToSelect===false){a.addEventListener("cellclick",function(d,c){var b=this,d=baidu.event.get(d);if(baidu.dom.hasClass(c.ref.src,"tg-cb")){if(c.ref.row){b.toggleSelectRow(c.ref.row.getAttribute("rowindex"))}d.stopPropagation()}})}}};baidu.ui.Grid.register(function(a){if(a.columndraggable){a.addEventListener("initialized",function(){if(!a.ref.columndragproxy){var b=document.createElement("div");b.className="columndragproxy";a.ref.gheader.appendChild(b);b.innerHTML="<span class='headercoltext'></span>";a.ref.columndragproxy=b}if(!a._cds_dragstart_bind){a._cds_dragstart_bind=baidu.fn.bind(a._cds_dragstart,a)}baidu.event.on(a.ref.gheader,"mousedown",a._cds_dragstart_bind);if(!a._cds_dragging_bind){a._cds_dragging_bind=baidu.fn.bind(a._cds_dragging,a)}baidu.event.on(a.ref.gheader,"mousemove",a._cds_dragging_bind);if(!a._cds_dragend_bind){a._cds_dragend_bind=baidu.fn.bind(a._cds_dragend,a)}baidu.event.un(document.body,"mouseup",a._cds_dragend_bind);baidu.event.on(document.body,"mouseup",a._cds_dragend_bind)})}});baidu.ui.Grid.extend({_cds_dragstart:function(f){var d=this,c=d._getSrc(f),f=baidu.event.get(f);if(c.cell&&(baidu.dom.hasClass(c.src,"headercol")||baidu.dom.hasClass(c.src,"header-col"))){var b=c.cell.getAttribute("refcol"),a=d._getCol(b);d.ref.columndragproxy.innerHTML="<span class='headercoltext'>"+(a.header||"")+"</span>";baidu.dom.setStyles(d.ref.columndragproxy,{display:"block",top:(b.indexOf("-")==-1?"-1px":((c.cell.offsetHeight-1)+"px")),left:(c.cell.offsetLeft-1+"px"),width:(c.cell.clientWidth+"px"),height:(c.cell.clientHeight+"px")});d._cd={dragx:f.clientX,dragy:f.clientY,originleft:c.cell.offsetLeft-1,colIndex:b,originwidth:c.cell.clientWidth};f.stopPropagation();d.clearSelection()}},_cds_dragging:function(A){var y=this,o=y._cd;if(o){var q=o.originleft+(A.clientX-o.dragx),p=y.ref.columndragproxy.style.zIndex;y.ref.columndragproxy.style.zIndex="-1";var B=document.elementFromPoint(A.clientX,A.clientY),j=B;while((!baidu.dom.hasClass(j,"headercol"))&&j!=y.element){j=j.parentNode}y.ref.columndragproxy.style.zIndex=p;var b=j.getAttribute("refcol");if(b!=null){if(o.colIndex.toString().indexOf("-")==-1&&b.indexOf("-")!=-1){b=b.replace(/\-\d{1,}$/gi,"");j=baidu.dom.query("[refcol="+b+"]",y.ref.gheader)[0]}var d=y._getCol(b),s=baidu.dom.getPosition(j).left,m=j.offsetWidth,a=(A.clientX<=(s+m/2)),f=a?(j.offsetLeft-1):(j.offsetLeft+j.clientWidth),x="block";if(o.colIndex.toString().indexOf("-")!=-1){var z=parseInt(o.colIndex.replace(/\-\d{1,}$/gi,""),10),v=parseInt(o.colIndex.replace(/^\d{1,}\-/gi,""),10),c=(y._getCol(z).columns||[]).length,u=b.indexOf("-")==-1,k=parseInt(b.replace(/\-\d{1,}$/gi,""),10),h=parseInt(b.replace(/^\d{1,}\-/gi,""),10),t=(y._getCol(k).columns||[]).count,n=(k==z+1)&&(u?a:(h=="0"&&a)),r=(k==z-1)&&(u?(!a):(h==t-1&&(!a)));if(z!=k&&(!n)&&(!r)){x="none"}if(r){a=true;b=z+"-0"}if(n){a=false;b=z+"-"+h}}else{}if(Math.abs(f-o.originleft)<=1||Math.abs(o.originleft+o.originwidth-f)<=1){x="none"}if(x=="none"){delete o.isleft;delete o.targetColIndex}else{o.isleft=a;o.targetColIndex=b}baidu.dom.setStyles(y.ref.resizerproxy,{display:x,height:(y.element.clientHeight+"px"),top:y.ref.columndragproxy.style.top,left:(f+"px")})}y.ref.columndragproxy.style.left=(q+"px")}},_cds_dragend:function(){var m=this,a=m._cd;if(a){m.ref.columndragproxy.style.display="none";m.ref.resizerproxy.style.display="none";if(typeof(a.targetColIndex)!="undefined"){var f=m._getCol(m.orderBy);if(f){f._ordered=true}var k=baidu.object.clone(m._getCol(a.colIndex));if(a.targetColIndex.toString().indexOf("-")==-1&&a.colIndex.toString().indexOf("-")==-1){if(!a.isleft){a.targetColIndex++}if(a.targetColIndex>a.colIndex){m.columns.splice(a.targetColIndex,0,k);m.columns.splice(a.colIndex,1)}else{m.columns.splice(a.targetColIndex,0,k);m.columns.splice(++a.colIndex,1)}}else{var d=parseInt(a.colIndex.toString().replace(/\-\d{1,}$/gi,""),10),n=parseInt(a.targetColIndex.toString().replace(/^\d{1,}\-/gi,""),10),c=parseInt(a.colIndex.toString().replace(/^\d{1,}\-/gi,""),10);if(!a.isleft){n++}if(n>c){m.columns[d].columns.splice(n,0,k);m.columns[d].columns.splice(c,1)}else{m.columns[d].columns.splice(n,0,k);m.columns[d].columns.splice(++c,1)}}}delete m._cd;for(i=0,l=m.columns.length;i<l;i++){var b=m.columns[i];if(b._ordered){m.orderBy=i;delete b._ordered;break}if(baidu.lang.isArray(b.columns)){for(var h=0,p=b.columns.length;h<p;h++){var o=b.columns[h];if(o._ordered){m.orderBy=i+"-"+h;delete o._ordered;break}}}}m.render(m.element)}},getOriginColumns:function(){return this._originColumns}});baidu.ui.Grid.register(function(a){if(a.freeze){a.addEventListener("initialized",function(f,c){if(a.fixColIndex!=-1){return}var d=baidu.dom.query("table",a.ref.gheader)[0].cloneNode(true);baidu.array.each(d.rows,function(n){var m=n.cells,h=m.length;while(h--){var g=m[h],k=g.getAttribute("refcol"),j=k.indexOf("-")==-1?parseInt(k):parseInt(k.substr(0,k.indexOf("-")));if(j>=a.freeze){g.parentNode.removeChild(g)}}});baidu.dom.addClass(d,"fixedheadertable");a.ref.gheader.appendChild(d);a.addEventListener("afterload",function(){var k=baidu.dom.query(".fixedbodytable",a.ref.gbody);if(k.length){k[0].parentNode.removeChild(k[0])}k=baidu.dom.query("table",a.ref.gbody)[0].cloneNode(true);baidu.dom.addClass(k,"fixedbodytable");k.style.width="auto";var r=k.rows,n=k.rows[0],o=a.freeze,h=n.cells;baidu.array.each(h,function(s,v){var u=s.getAttribute("refcol"),t=u.indexOf("-")==-1?parseInt(u):parseInt(u.substr(0,u.indexOf("-")));if(t==a.freeze){o=v;return false}});for(var j=0,g=r.length;j<g;j++){var q=r[j].cells,m=q.length;while(m--){if(m>=o){q[m].parentNode.removeChild(q[m])}}}var p=baidu.dom.query(".fixedheadertable",a.ref.gheader)[0];baidu.dom.setBorderBoxWidth(k,p.offsetWidth);a.ref.gbody.appendChild(k)});function b(){var g=baidu.dom.query(".fixedbodytable",a.ref.gbody);if(g.length){var h=baidu.dom.query(".fixedheadertable",a.ref.gheader)[0];baidu.dom.setBorderBoxWidth(g[0],h.offsetWidth)}}a.addEventListener("hidecolumn",b);a.addEventListener("showcolumn",b);a.addEventListener("columnresize",b)})}});baidu.ui.Grid.register(function(b){var a=b.columns;if(b.editMode==2){baidu.dom.addClass(b.element,"tangramgrid-editable");baidu.array.each(a,function(f,d){f.sortable=false;if(f.editable&&f.editOption&&baidu.lang.isFunction(f.editOption.editRenderer)){f.renderer=f.editOption.editRenderer;f.resizable=false}if(f.columns){baidu.array.each(f.columns,function(c){c.sortable=false;if(c.editable&&c.editOption&&baidu.lang.isFunction(c.editOption.editRenderer)){c.renderer=c.editOption.editRenderer;c.resizable=false}})}});b.addEventListener("afterload",function(d,c){b.cellIterator(function(f){if(!baidu.dom.hasClass(f.row,"editing")){baidu.dom.addClass(f.row,"editing")}if(f.column.editable&&f.column.editOption&&baidu.lang.isFunction(f.column.editOption.onBeginEdit)){f.column.editOption.onBeginEdit.call(b,f)}})})}if(b.editMode=="3"){b.addEventListener("cellclick",function(m,k){if(baidu.dom.hasClass(k.ref.cell,"editingcell")){return}var q=k.ref.cell,s=baidu.dom.query(".editingcell",b.ref.gbody);s=s.length>0?s[0]:null;if(s){var n=-1,r=-1,t=s.parentNode,p=t.childNodes,o=parseInt(t.getAttribute("rowindex"),10);for(var j=0,g=p.length;j<g;j++){if(p[j]==s){n=j;break}}r=k.ref.table.rows[0].cells[n].getAttribute("refcol");var f=b._getCol(r),d=b._getCellFieldValue(s,f.field);b.getData().data.list[o][f.field]=d;var h={columnIndex:n,refIndex:r,rowIndex:o,column:b._getCol(r),cell:s,fieldValue:d};if(!b.dispatchEvent("endedit",h)){return}if(typeof(b.onEndEdit)=="function"&&b.onEndEdit(m,h)===false){return}s.childNodes[0].innerHTML=b._getCellContent(f,o);baidu.dom.removeClass(s,"editingcell")}if(k.column&&k.column.editable&&k.column.editOption){if(baidu.lang.isFunction(k.column.editOption.editRenderer)){k.rowdata=b.getData().data.list[k.rowIndex];k.cellvalue=k.rowdata[k.column.field];k.colopts=k.column;k.select=baidu.array.contains(b.selectedRows,o);k.cell=k.ref.cell;k.row=k.ref.row;k.colIndex=k.refIndex;var c=k.column.editOption.editRenderer.call(b,k)||"";k.ref.cell.childNodes[0].innerHTML=c}baidu.dom.addClass(k.ref.cell,"editingcell");if(baidu.lang.isFunction(k.column.editOption.onBeginEdit)){k.column.editOption.onBeginEdit.call(b,k)}}b.resize()})}});baidu.ui.Grid.extend({getValidateErrors:function(){return this._validateErrors},_getCellFieldValue:function(b,d){var c=baidu.dom.query("[name="+d+"]",b),a=[];baidu.array.each(c,function(f){if(f.tagName.toLowerCase()=="input"||f.tagName.toLowerCase()=="textarea"){if(f.type=="radio"||f.type=="checkbox"){if(f.checked){a.push(f.value)}}else{a.push(f.value)}}if(f.tagName.toLowerCase()=="select"){a.push(f.options[f.selectedIndex].value)}});return a.join(",")},validate:function(c){var b=this,a=false;if(!b._validateErrors){b._validateErrors=[]}b._validateErrors.length=0;b.cellIterator(function(g){if(typeof(c)=="number"&&g.rowIndex!=c){return true}if(baidu.lang.isArray(c)&&(!baidu.array.contains(parseInt(c,10),g.rowIndex))){return true}if(b.editMode=="2"&&(!baidu.dom.hasClass(g.row,"editing"))){return true}if(b.editMode=="3"&&(!baidu.dom.hasClass(g.cell,"editingcell"))){return true}var d=g.column;if(d.editable&&d.editOption){if(baidu.lang.isFunction(d.editOption.getFieldValue)){g.fieldValue=d.editOption.getFieldValue.call(b,g)}else{g.fieldValue=b._getCellFieldValue(g.cell,d.field)}}if(d.editable&&d.editOption&&baidu.lang.isFunction(d.editOption.validate)){var f=d.editOption.validate.call(b,g);if(f===false){a=true;return false}if(baidu.lang.isString(f)){b._validateErrors.push(f)}}});return b._validateErrors.length==0&&(!a)},getCurrentData:function(f,j){var d=this,m=[],a={},h=d.getData().data.list.slice();for(var c=h.length-1;c>=0;c--){var k=d.getData().data.list[c];if(typeof(j)=="number"&&c!=j){continue}if(baidu.lang.isArray(j)&&(!baidu.array.contains(j,c))){continue}if(!f){m.push(k)}if(baidu.lang.isString(f)){var b={};b[f]=k[f]=="0"?"0":(k[f]||"");m.push(b)}if(baidu.lang.isArray(f)){var b={};baidu.array.each(f,function(g){b[g]=k[g]=="0"?"0":(k[g]||"")});m.push(b)}if((d._deletedRowIndexes&&baidu.array.contains(d._deletedRowIndexes,c))){h.splice(c,1)}else{a[c]=m.length-1}}d.cellIterator(function(r){if(typeof(a[r.rowIndex])=="undefined"){return true}var q=r.row,g=r.column,p=m[a[r.rowIndex]],o=g.field;if(baidu.dom.hasClass(q,"editing")&&g.editable&&(typeof(p[o])!="undefined")){var n=null;if(g.editOption&&baidu.lang.isFunction(g.editOption.getFieldValue)){n=g.editOption.getFieldValue.call(d,r)}else{n=d._getCellFieldValue(r.cell,g.field)}p[o]=n}});return m},getEditingRowIndexes:function(){var c=this,b=baidu.dom.query("table:eq(0) .editing",c.ref.gbody),a=[];if(c.editMode!="1"){return a}baidu.array.each(b,function(d){a.push(parseInt(d.getAttribute("rowindex"),10))});return a},beginEditRow:function(b){if(typeof(b)=="undefined"){return}if(typeof(b)=="number"){b=[b]}if(typeof(b)=="string"&&(!isNaN(b))){b=[parseInt(b,10)]}if(!b.length){return}var a=this;if(a.editMode!="1"){return}a.cellIterator(function(g){var f=g.row,d=g.column;if(d.editable&&d.editOption&&baidu.array.contains(b,g.rowIndex)){if(!baidu.dom.hasClass(f,"editing")){baidu.dom.addClass(f,"editing")}if(baidu.lang.isFunction(d.editOption.editRenderer)){var c=d.editOption.editRenderer.call(a,g)||"";g.cell.childNodes[0].innerHTML=c}if(baidu.lang.isFunction(d.editOption.onBeginEdit)){d.editOption.onBeginEdit.call(a,g)}}});a.resize()},endEditRow:function(b){if(typeof(b)=="undefined"){return}if(typeof(b)=="number"){b=[b]}if(typeof(b)=="string"&&(!isNaN(b))){b=[parseInt(b,10)]}if(!b.length){return}var a=this;if(a.editMode!="1"){return}a.cellIterator(function(f){var d=f.row,c=f.column;if(c.editable&&c.editOption&&baidu.array.contains(b,f.rowIndex)){if(baidu.dom.hasClass(d,"editing")){baidu.dom.removeClass(d,"editing")}f.cell.childNodes[0].innerHTML=a._getCellContent(c,f.rowIndex)}});a.resize()},deleteEditRow:function(b){var a=this;if(a.editMode!="1"){return}if(baidu.dom.query("[rowindex="+b+"]",a.ref.gbody).length==0||isNaN(b)){return}window.setTimeout(function(){a.deleteDOMRow(b);if(!a._deletedRowIndexes){a._deletedRowIndexes=[]}a._deletedRowIndexes.push(parseInt(b,10))},50)}});baidu.ui.Grid.ext.summarytype={count:function(c,a,d,b){return d+1},sum:function(b,a,c){if(c==0){return parseFloat(a)}else{return(b+parseFloat(a))}},avg:function(f,b,h,c){var d=this,a={};if(h==0){a={times:1,value:b}}else{a={times:(f.times+1),value:(f.value+b)}}if(a.times==c){a=(a.value/a.times)}return a},max:function(b,a,c){if(c==0){return a}if(a>b){return a}else{return b}},min:function(b,a,c){if(c==0){return a}if(a<b){return a}else{return b}},maxnumber:function(b,a,c){if(c==0){return a}b=parseFloat(b);a=parseFloat(a);if(a>b){return a}else{return b}},minnumber:function(b,a,c){if(c==0){return a}b=parseFloat(b);a=parseFloat(a);if(a<b){return a}else{return b}}};baidu.ui.Grid.register(function(b){b.addEventListener("beforeload",function(z,q){var w=this,y=q.data.list,C=[],v=[],n=w.columns;w.groupdata={};w.summarydata={};var h=w.groupdata;for(var u=0,r=y.length;u<r;u++){var m=y[u],s=m[w.groupBy];if(!h[s]){h[s]={rows:[],summary:{}};v.push(s)}h[s].rows.push(u);if(w.summary){for(var t=0,o=n.length;t<o;t++){var k=n[t],x=k.field;if(!k.columns){if(k.summay&&typeof(baidu.ui.Grid.ext.summarytype[k.summay])=="function"){w.summarydata[x]=baidu.ui.Grid.ext.summarytype[k.summay](w.summarydata[x],m[x],u,r)}}else{for(var E=0,B=k.columns.length;E<B;E++){var c=k.columns[E];if(c.summay&&typeof(baidu.ui.Grid.ext.summarytype[c.summay])=="function"){w.summarydata[x]=baidu.ui.Grid.ext.summarytype[c.summay](w.summarydata[x],m[x],u,r)}}}}}}for(var u=0,r=v.length;u<r;u++){var s=v[u],D=h[s],n=w.columns;for(var p=0,o=D.rows.length;p<o;p++){var A=y[D.rows[p]];if(!A){}C.push(A);if(w.groupSummary){for(var t=0,d=n.length;t<d;t++){var k=n[t],x=k.field;if(!k.columns){if(k.groupSummary&&typeof(baidu.ui.Grid.ext.summarytype[k.groupSummary])=="function"){D.summary[x]=baidu.ui.Grid.ext.summarytype[k.groupSummary](D.summary[x],A[x],p,o)}}else{for(var E=0,B=k.columns.length;E<B;E++){var c=k.columns[E];if(c.groupSummary&&typeof(baidu.ui.Grid.ext.summarytype[c.groupSummary])=="function"){D.summary[x]=baidu.ui.Grid.ext.summarytype[c.groupSummary](D.summary[x],A[x],p,o)}}}}}}}q.data.list=C});var a=null;b.addEventListener("beginrowjoin",function(o,g){var c=g.rowdata[b.groupBy],u=c,m=g.joinedArray,s=b.columns;if(typeof(b.groupHeader)=="function"){u=b.groupHeader({groupValue:c,groupData:b.groupdata})||""}if(a!=c){if(a!=null&&b.groupSummary){m.push("<tr class='groupsummaryrow' groupfieldvalue='"+c+"'>");for(var k=0,h=s.length;k<h;k++){var d=s[k];if(!d.columns){var n=d.field||"",r=b.groupdata[a].summary[n];r=(r=="0"?0:(r||""));var v=typeof(d.groupSummaryFormat)=="string"?baidu.string.format(d.groupSummaryFormat,{groupSummaryValue:r}):r;if(typeof(d.groupSummaryFormat)=="function"){v=d.groupSummaryFormat.call(b,{groupSummaryValue:r})}m.push("<td  nowrap='nowrap' style='"+(d.hide?"display:none;":"")+"'><span class='cellcontent' style='text-align:"+(d.align||"left")+";' > "+v+"</span></td>")}else{for(var t=0,p=d.columns.length;t<p;t++){var q=d.columns[t],n=q.field||"",r=b.groupdata[a].summary[n];r=(r=="0"?0:(r||""));var v=typeof(q.groupSummaryFormat)=="string"?baidu.string.format(q.groupSummaryFormat,{groupSummaryValue:r}):r;if(typeof(q.groupSummaryFormat)=="function"){v=q.groupSummaryFormat.call(b,{groupSummaryValue:r})}m.push("<td  nowrap='nowrap' style='"+(q.hide?"display:none;":"")+"'><span class='cellcontent' style='text-align:"+(q.align||"left")+";' > "+v+"</span></td>")}}}m.push("</tr>")}g.joinedArray.push("<tr class='groupheaderrow' groupfieldvalue='"+c+"'><td colspan='"+g.realColumnsLength+"' class='gridcell'><span class='groupheadertoggler expanded '>－</span>"+u+"</td></tr>")}a=c});b.addEventListener("endrowjoin",function(o,g){if(g.rowIndex+1==b.getData().data.list.length){var u=b.groupdata,m=g.joinedArray,c=g.rowdata[b.groupBy],s=b.columns;if(c&&b.groupSummary&&u[c]){m.push("<tr class='groupsummaryrow' groupfieldvalue='"+c+"'>");for(var k=0,h=s.length;k<h;k++){var d=s[k];if(!d.columns){var n=d.field||"",r=b.groupdata[c].summary[n];r=(r=="0"?0:(r||""));var v=typeof(d.groupSummaryFormat)=="string"?baidu.string.format(d.groupSummaryFormat,{groupSummaryValue:r}):r;if(typeof(d.groupSummaryFormat)=="function"){v=d.groupSummaryFormat.call(b,{groupSummaryValue:r})}m.push("<td  nowrap='nowrap' style='"+(d.hide?"display:none;":"")+"'><span class='cellcontent' style='text-align:"+(d.align||"left")+";' > "+v+"</span></td>")}else{for(var t=0,p=d.columns.length;t<p;t++){var q=d.columns[t],n=q.field||"",r=b.groupdata[c].summary[n];r=(r=="0"?0:(r||""));var v=typeof(q.groupSummaryFormat)=="string"?baidu.string.format(q.groupSummaryFormat,{groupSummaryValue:r}):r;if(typeof(q.groupSummaryFormat)=="function"){v=q.groupSummaryFormat.call(b,{groupSummaryValue:r})}m.push("<td  nowrap='nowrap' style='"+(q.hide?"display:none;":"")+"'><span class='cellcontent' style='text-align:"+(q.align||"left")+";' > "+v+"</span></td>")}}}m.push("</tr>")}}});b.addEventListener("endrowsjoin",function(o,g){var t=b.groupdata,m=g.joinedArray,r=b.columns;if(b.summary){m.push("<tr class='summaryrow'>");for(var k=0,h=r.length;k<h;k++){var d=r[k];if(!d.columns){var n=d.field||"",c=b.summarydata[n];c=(c=="0"?0:(c||""));var u=typeof(d.summaryFormat)=="string"?baidu.string.format(d.summaryFormat,{summaryValue:c}):c;if(typeof(d.summaryFormat)=="function"){u=d.summaryFormat.call(b,{summaryValue:c})}m.push("<td  nowrap='nowrap' style='"+(d.hide?"display:none;":"")+"'><span class='cellcontent' style='text-align:"+(d.align||"left")+";' > "+u+"</span></td>")}else{for(var s=0,p=d.columns.length;s<p;s++){var q=d.columns[s],n=q.field||"",c=b.summarydata[n];c=(c=="0"?0:(c||""));var u=typeof(q.summaryFormat)=="string"?baidu.string.format(q.summaryFormat,{summaryValue:c}):c;if(typeof(q.summaryFormat)=="function"){u=q.summaryFormat.call(b,{summaryValue:c})}m.push("<td  nowrap='nowrap' style='"+(q.hide?"display:none;":"")+"'><span class='cellcontent' style='text-align:"+(q.align||"left")+";' > "+u+"</span></td>")}}}m.push("</tr>")}});b.addEventListener("cellclick",function(h,f){var k=f.ref.cell,n=k.parentNode;if(baidu.dom.hasClass(n,"groupheaderrow")){var g=n.getAttribute("groupfieldvalue"),j=b.groupdata[g].rows,m=baidu.dom.query(".groupheadertoggler",k)[0],c=baidu.dom.hasClass(m,"expanded");if(c){m.innerHTML="＋";baidu.dom.removeClass(m,"expanded")}else{m.innerHTML="－";baidu.dom.addClass(m,"expanded")}var d=n.nextSibling;while(d&&d.getAttribute("rowindex")){d.style.display=(c?"none":"");d=d.nextSibling}}})});baidu.ui.Grid.register(function(a){if(!a.keyboard){return}if(!a.keysrc){a.keysrc=document}baidu.on(a.element,"click",function(b){b=baidu.event.get(b);if(!baidu.dom.hasClass(a.element,"tangram-focused")){a.focus();b.stopPropagation()}});baidu.on(document.body,"click",function(c){var b=baidu.event.getTarget(c);if(!baidu.dom.contains(a.element,b)){a.blur()}});baidu.on(a.keysrc,"keydown",function(k){k=baidu.event.get(k);var h=false;if(!baidu.dom.hasClass(a.element,"tangram-focused")){return true}if(k.keyCode==40&&a.selectMode==1){var m=-1,n=null;if(a.selectedRows.length==0){m=a.getData().data.list.length>0?0:-1}else{var c=baidu.dom.query(".gridrow[rowindex="+a.selectedRows[0]+"]",a.ref.gbody)[0];n=c.nextSibling;while(n&&((!n.getAttribute("rowindex"))||(n.style.display=="none")||(!baidu.dom.hasClass(n,"gridrow")))){n=n.nextSibling}n&&(m=parseInt(n.getAttribute("rowindex"),10))}if(m!=-1){a.selectRow(m);if(n){n.scrollIntoView();a.ref.yscroller.scrollTop=a.ref.gbody.scrollTop}h=true}}if(k.keyCode==38&&a.selectMode==1){var m=-1,b=null;if(a.selectedRows.length==0){m=a.getData().data.list.length>0?0:-1}else{var c=baidu.dom.query(".gridrow[rowindex="+a.selectedRows[0]+"]",a.ref.gbody)[0];b=c.previousSibling;while(b&&((!b.getAttribute("rowindex"))||(b.style.display=="none")||(!baidu.dom.hasClass(b,"gridrow")))){b=b.previousSibling}b&&(m=parseInt(b.getAttribute("rowindex"),10))}if(m!=-1){a.selectRow(m);if(b){b.scrollIntoView();a.ref.yscroller.scrollTop=a.ref.gbody.scrollTop}h=true}}if(k.keyCode==13&&a.selectMode==1&&a.selectedRows.length>0){var c=baidu.dom.query(".gridrow[rowindex="+a.selectedRows[0]+"]",a.ref.gbody)[0];baidu.event.fire(c,"dblclick",{});h=true}if(k.keyCode==33||((!a.treeoption)&&k.keyCode==37)){if(!k.ctrlKey){if(a.ref.pager&&a.ref.pager.prev&&(!a.ref.pager.prev.disabled)){baidu.event.fire(a.ref.pager.prev,"click",{});h=true}}else{if(a.ref.pager&&a.ref.pager.first&&(!a.ref.pager.first.disabled)){baidu.event.fire(a.ref.pager.first,"click",{});h=true}}}if(k.keyCode==34||((!a.treeoption)&&k.keyCode==39)){if(!k.ctrlKey){if(a.ref.pager&&a.ref.pager.next&&(!a.ref.pager.next.disabled)){baidu.event.fire(a.ref.pager.next,"click",{});h=true}}else{if(a.ref.pager&&a.ref.pager.last&&(!a.ref.pager.last.disabled)){baidu.event.fire(a.ref.pager.last,"click",{});h=true}}}if(k.keyCode==39&&a.treeoption&&a.selectMode=="1"&&a.selectedRows.length>0){var g=null,o=baidu.dom.query("[rowindex="+a.selectedRows[0]+"] .expander[refidv]",a.ref.gbody);if(o.length>0){g=o[0].getAttribute("refidv")}if(null!=g){a.expandNode(g);h=true}}if(k.keyCode==37&&a.treeoption&&a.selectMode=="1"&&a.selectedRows.length>0){var g=null,o=baidu.dom.query("[rowindex="+a.selectedRows[0]+"] .expander[refidv]",a.ref.gbody);if(o.length>0){g=o[0].getAttribute("refidv")}if(null!=g){a.unExpandNode(g);h=true}}if(k.keyCode==9){if(a.editMode==3){if(!k.shiftKey){var j=null,f=null;a.cellIterator(function(p){if(p.row.style.display=="none"||(!p.column.editable)){return true}if(null!=f){j=p.cell;return false}if(baidu.dom.hasClass(p.cell,"editingcell")){f=p.cell}if(null==j){j=p.cell}});if(null!=j){baidu.event.fire(j.childNodes[0],"click",{});h=true}}else{var d=null;f=null;a.cellIterator(function(p){if(p.row.style.display=="none"||(!p.column.editable)){return true}if(baidu.dom.hasClass(p.cell,"editingcell")){return false}d=p.cell});if(null!=d){baidu.event.fire(d.childNodes[0],"click",{});h=true}}}else{a.blur();h=true}}if(h){k.preventDefault();k.stopPropagation()}})});baidu.ui.Grid.extend({focus:function(){baidu.dom.addClass(this.element,"tangram-focused");try{this.element.focus()}catch(a){}},blur:function(){baidu.dom.removeClass(this.element,"tangram-focused");try{this.element.blur()}catch(a){}}});baidu.ui.Grid.register(function(a){if(a.page==false){a.addEventListener("beforesort",function(g,f){var c=a._getCol(f.colIndex),b=f.order;if(c.sortable!==false&&c.field&&(!a.url)){var d=a.getData().data.list;d.sort(function(j,h){if(isNaN(j[c.field])&&isNaN(h[c.field])){return b=="asc"?j[c.field].toString().localeCompare(h[c.field].toString()):h[c.field].toString().localeCompare(j[c.field].toString())}else{return b=="asc"?j[c.field]-h[c.field]:h[c.field]-j[c.field]}});a.loadData(a.getData())}})}});baidu.ui.Grid.ext.coltype.rowexpand={headerformat:function(c,b,a){b.resizable=false;b.sortable=false;return"&nbsp;"},format:function(a){var b=a.colopts.title?(" title="+a.colopts.title):"";return"<b class='grid-expand unexpanded'"+b+">＋</b>"},init:function(){var a=this;a.addEventListener("cellclick",function(f,d){if(baidu.dom.hasClass(d.ref.src,"grid-expand")){var h=d.ref.row,c=a._getCol(d.refIndex),j=d.ref.src;if(h.nextSibling&&baidu.dom.hasClass(h.nextSibling,"grid-expandedrow")){var b=h.nextSibling;if(baidu.lang.isFunction(c.onUnExpand)){c.onUnExpand.call(a,{expandedcell:b.childNodes[0],expandedrow:b,data:d})}b.parentNode.removeChild(b);j.innerHTML="＋";j.className="grid-expand";baidu.dom.removeClass(d.ref.cell,"grid-expandedcell");a.resize()}else{var b=document.createElement("tr");b.className="grid-expandedrow";var g=document.createElement("td");g.setAttribute("colspan",h.cells.length);if(baidu.lang.isFunction(c.onExpand)){c.onExpand.call(a,{expandedcell:g,expandedrow:b,data:d})}b.appendChild(g);if(h.nextSibling){h.parentNode.insertBefore(b,h.nextSibling)}else{h.parentNode.appendChild(b)}j.innerHTML="－";j.className="grid-expand expanded";baidu.dom.addClass(d.ref.cell,"grid-expandedcell");a.resize()}}});a.expandAll=function(){var b=baidu.dom.query(".grid-expand:not(.expanded)",a.element);baidu.array.each(b,function(c){baidu.event.fire(c,"click")})};a.unExpandAll=function(){var b=baidu.dom.query(".expanded",a.element);baidu.array.each(b,function(c){baidu.event.fire(c,"click")})}}};baidu.ui.Grid.register(function(a){if(!a.rowsortable){return}a.addEventListener("beforeload",function(d,c){var b=baidu.dom.query(".gridtable",a.ref.gbody);if(b.length){b=b[0];baidu.event.un(b,"mousedown")}});a.addEventListener("afterload",function(h,g){var k=0,f=baidu.dom.query(".gridtable",a.ref.gbody)[0],b=false,c=0,j=null;function d(n){var m=a._getSrc(n);a._rs={y:n.clientY,row:m.row,table:f};baidu.dom.addClass(m.row,"row-dragging");a.dispatchEvent("rowsortable-dragstart")}baidu.event.on(f,"mousedown",d);if(!a._rs_draggging_bind){a._rs_draggging_bind=baidu.fn.bind(a._rs_draggging,a)}if(!a._rs_dragend_bind){a._rs_dragend_bind=baidu.fn.bind(a._rs_dragend,a)}baidu.event.un(document,"mousemove",a._rs_draggging_bind);baidu.event.on(document,"mousemove",a._rs_draggging_bind);baidu.event.un(document,"mouseup",a._rs_dragend_bind);baidu.event.on(document,"mouseup",a._rs_dragend_bind)})});baidu.ui.Grid.extend({serializeRows:function(){var b=this,c=baidu.dom.query("[rowindex]",b.ref.gbody),a=[];baidu.array.each(c,function(d){var f=d.getAttribute("rowindex");a.push(b.data.data.list[f]);a[a.length-1].rowIndex=f});return a},getSerializedSelections:function(){var b=this,c=baidu.dom.query("[rowindex]",b.ref.gbody),a=[];baidu.array.each(c,function(d){var f=d.getAttribute("rowindex");if(baidu.array.indexOf(b.selectedRows,parseInt(f,10))!=-1){a.push(b.data.data.list[f]);a[a.length-1].rowIndex=f}});return a},_rs_draggging:function(c){var b=this;if(b._rs){var h=c.clientY,a=c.clientX,f=h>b._rs.y,d=document.elementFromPoint(a,h);if(d&&baidu.dom.contains(b._rs.table,d)){while(!baidu.dom.hasClass(d,"gridrow")&&d!=b._rs.table){d=d.parentNode}}if(null==d||(!baidu.dom.hasClass(d,"gridrow"))){b._rs_dragend();return}b.clearSelection();if(d!=b._rs.row){d.parentNode.insertBefore(b._rs.row,(f?d.nextSibling:d))}b._rs.y=h;b.dispatchEvent("rowsortable-draggging")}},_rs_dragend:function(b){var a=this;if(a._rs){if(a._rs.row){baidu.dom.removeClass(a._rs.row,"row-dragging")}delete a._rs;a.dispatchEvent("rowsortable-dragend");a._webkit()}}});baidu.ui.Grid.register(function(a){a.addEventListener("beforeload",function(j){var p=j.data.list,t=[],b=[];if(a.treeoption){a.treedata={root:{children:[],rendered:true,expand:true,deep:0}};a._originlist=p.slice();var f=a.treeoption,r=a.treedata;for(var k=0,h=p.length;k<h;k++){var v=p[k],u=v[f.idfield],q=v[f.parentfield];if(!q){r.root.children.push(k)}else{if(!r[q]){r[q]={children:[],rendered:false,expand:false}}r[q].children.push(k)}if(!r[u]){r[u]={children:[],rendered:false,expand:false,rowIndex:k}}else{r[u].rowIndex=k}r[u].parent=q;if(typeof(f.treecol.expandBy)=="function"&&f.treecol.expandBy.call(a,{cellvalue:v[f.treecol.field],rowdata:v})===true){r[u].expand=true;b.push(u)}}for(var k=0,h=b.length;k<h;k++){var g=b[k],s=g;while(s){r[s].expand=true;s=r[s].parent}}function m(w){if(typeof(w.rowIndex)!="undefined"){t.push(a._originlist[w.rowIndex])}if(w.expand){for(var n=0,c=w.children.length;n<c;n++){var d=w.children[n],o=a._originlist[d],x=r[o[f.idfield]];m(x)}w.rendered=true}}m(r.root);j.data.list=t}})});baidu.ui.Grid.extend({getOriginList:function(){return this.getData().data._originlist},getNodeDeep:function(f){var b=this,h=b.treedata,a=0,j=f;if(!h[f]){return a}if(typeof(h[f].deep)=="undefined"){while(j){a++;j=h[j].parent}h[f].deep=a}return h[f].deep},toggleNode:function(b){var a=this,c=a.treedata;if(c[b].expand){a.unExpandNode(b)}else{a.expandNode(b)}},_renderChildren:function(c){var h=this,j=h.treedata,m=j[c].children;if(!j[c].expand){if(!j[c].rendered){var o=baidu.dom.query("table:eq(0) .gridrow:has([refidv="+c+"])",h.ref.gbody),k=(o.length>0&&o[0].nextSibling)?parseInt(o[0].nextSibling.getAttribute("rowindex")):undefined;for(var b=0,a=m.length;b<a;b++){var n=h._originlist[m[b]];k=h.addDOMRow(n,k)}j[c].rendered=true}var f=baidu.dom.query(".expander[refidv="+c+"]",h.ref.gbody);baidu.array.each(f,function(d){baidu.dom.addClass(d,"expanded");d.innerHTML="－"});j[c].expand=true}return k},expandNode:function(j,f){var n=this,o=n.treedata,q=o[j].children;if(!o[j]){return false}var p=j,t=[];while(p){p=o[p].parent;if(p&&o[p]&&(!o[p].expand)){t.unshift(p)}}for(var m=0,h=t.length;m<h;m++){n.expandNode(t[m])}n._renderChildren(j);for(var b=0,a=q.length;b<a;b++){var r=n._originlist[q[b]],k=r[n.treeoption.idfield];var s=baidu.dom.query(".gridrow:has([refidv="+k+"])",n.ref.gbody);baidu.array.each(s,function(c){baidu.dom.show(c)});if(f){n.expandNode(k,true)}}n.resize()},unExpandNode:function(f){var j=this,k=j.treedata,m=k[f].children;if(!k[f]){return false}var h=baidu.dom.query(".expander[refidv="+f+"]",j.ref.gbody);baidu.array.each(h,function(d){baidu.dom.removeClass(d,"expanded");d.innerHTML="＋"});k[f].expand=false;for(var b=0,a=m.length;b<a;b++){var c=j._originlist[m[b]][j.treeoption.idfield];var n=baidu.dom.query(".gridrow:has([refidv="+c+"])",j.ref.gbody);baidu.array.each(n,function(d){baidu.dom.hide(d)});j.unExpandNode(c)}},addNode:function(b){var n=this,q=n.treedata,h=n.treeoption;if(baidu.lang.isArray(b)){for(var m=0,k=b.length;m<k;m++){n.addNode(b[m])}}else{var p=b[h.parentfield],j=b[h.idfield],s=q[p],u=n._originlist;if(!s){return false}n.expandNode(p);var f=u.length;u.push(b);s.children.push(f);q[j]={children:[],rendered:false,expand:false,rowIndex:f,parent:p};var c=q[s.parent||"root"],v=baidu.dom.query("table:eq(0) .gridrow:has([refidv="+p+"])",n.ref.gbody)[0],r=null;if(v.nextSibling){r=parseInt(v.nextSibling.getAttribute("rowindex"),10)}n.addDOMRow(b,r);var t=baidu.dom.query("table:eq(0) .gridrow:has([refidv="+p+"])",n.ref.gbody),a=t.length>0?parseInt(t[0].getAttribute("rowindex")):-1;if(a!=-1){n.updateDOMRow(u[s.rowIndex],a)}}},deleteNode:function(k){var m=this,p=m.treedata,c=m.treeoption,f=p[k],t=m._originlist;if(!f){return}var j=f.children.length;while(j--){var h=t[f.children[j]][c.idfield];m.deleteNode(h)}var n=f.parent||"root",r=p[n],b=f.rowIndex,u=baidu.dom.query("table:eq(0) .gridrow:has([refidv="+k+"])",m.ref.gbody),q=u.length>0?parseInt(u[0].getAttribute("rowindex")):-1;if(q!=-1){m.deleteDOMRow(q)}baidu.array.remove(r.children,b);delete f;var s=baidu.dom.query("table:eq(0) .gridrow:has([refidv="+n+"])",m.ref.gbody),a=s.length>0?parseInt(s[0].getAttribute("rowindex")):-1;if(a!=-1){m.updateDOMRow(t[r.rowIndex],a)}}});baidu.ui.Grid.ext.coltype.tree={headerformat:function(c,b,a){return c},format:function(j){var h=this,d=[],b=j.rowdata[h.treeoption.idfield],f=h.treedata[b],a=h.getNodeDeep(b);for(var c=0;c<a;c++){d.push("<span class='spacing'></span>")}if(f.children.length>0){var k="<span class=' expander "+(f.expand?"expaneded":"")+"' refidv='"+b+"'>"+(f.expand?"－":"＋")+"</span>";d[d.length-1]=k}d.push("<span class='nodecontent'  refidv='"+b+"'>"+j.cellvalue+"</span>");return d.join("")},init:function(a){var b=this;if(a.idfield&&a.parentfield){b.treeoption={idfield:a.idfield,parentfield:a.parentfield,treecol:a}}b.addEventListener("cellclick",function(f,d){var c=d.ref.src;if(baidu.dom.hasClass(c,"expander")){b.toggleNode(c.getAttribute("refidv"))}})}};(nuit.Grid)||(nuit.Grid=baidu.ui.Grid);(nuit.Msg)||(nuit.Msg=function(b){if(typeof(b)=="string"){b={msg:b}}b=baidu.object.extend({delay:3000,callback:baidu.fn.blank,timeoutclose:true},b);var a=new nuit.Dialog(baidu.object.extend({titleText:"<span class='nuit-Msg-cnt nuit-Msg-"+(b.type||"success")+"'>"+b.msg+"</span>",contentText:"",autoRender:true,width:300,draggable:false,resizable:false,tplFooter:"<div id='#{id}' class='#{class}' style='display:none;'></div>",modal:false,autoDispose:true},b));(!document.all)&&(baidu.dom.addClass(a.getMain(),"nuit-Msg-frame"));if(!b.closable){baidu.dom.hide(baidu.dom.query(".nuit-dialog-close",a.getMain())[0])}a.addEventListener("close",b.callback);a.open();(!document.all)&&(baidu.dom.addClass(a.getMain(),"nuit-Msg-animation"));(!document.all)&&(baidu.dom.addClass(a.getMain(),"nuit-Msg-show"));if(a.timeoutclose!==false){setTimeout(function(){(!document.all)&&(baidu.dom.removeClass(a.getMain(),"nuit-Msg-show"));setTimeout(function(){a.close()},500)},b.delay)}return a});(nuit.Dialog)||(nuit.Dialog=function(a){a.classPrefix="nuit-dialog";return new baidu.ui.Dialog(a)});(nuit.getLoadingDlg)||(nuit.getLoadingDlg=function(){return nuit._loading});(nuit.showLoading)||(nuit.showLoading=function(a){if(!nuit._loading){nuit._loading=nuit.Msg({modal:true,timeoutclose:false,type:"loading",msg:"<span id='nuit-loading-msg'>"+(a||"正在加载...")+"</span>"})}else{baidu.g("nuit-loading-msg").innerHTML=a}});(nuit.hideLoading)||(nuit.hideLoading=function(a){if(nuit._loading){nuit._loading.close();delete nuit._loading}});(function(){function a(d,f,c){var b=d.prototype[f];d.prototype[f]=function(){var g=Array.prototype.slice.apply(arguments);g.push(b.apply(this,g));c.apply(this,g)}}a(baidu.ui.Tree.TreeNode,"_createTextStringArray",function(){var d=this,b=d.getTree(),c=d._stringArray;nodetext=c[c.length-2];if(b.checkMode==3&&d.type=="trunk"&&d.checked){d.checked=false}if(b.checkMode==1&&d.checked){if(!b._singlechecked){b._singlechecked=d.id}else{d.checked=false}}if(b.checkbox===true){c[c.length-2]=("<input class='tangram-tree-checkbox' autocomplete='off' type='checkbox' "+(d.checked?" checked='checked' ":"")+" id='"+d.id+"-checkbox'/><label class='tangram-tree-checkbox-label'  for='"+d.id+"-checkbox'>"+nodetext+"</label>")}});a(baidu.ui.Tree.TreeNode,"appendData",function(f){var c=this,b=c.getTree(),d=c.id;if(f.length&&b.checkMode==3){c.checked?(b.updateCheckBox(baidu.dom.g(d+"-checkbox"))):(b.updateAllCheckBox(baidu.dom.g(d+"-subNodeId")))}});a(baidu.ui.Tree.TreeNode,"_updateAll",function(){var c=this,b=c.getTree(),d=c.id;if(b.checkMode==3){c.checked?(b.updateCheckBox(baidu.dom.g(d+"-checkbox"))):(b.updateAllCheckBox(baidu.dom.g(d+"-subNodeId")))}});a(baidu.ui.Tree.TreeNode,"update",function(d){var c=this,b=c.getTree(),f=c.id,g=c.text;baidu.g(f+"-text").innerHTML=("<input class='tangram-tree-checkbox' autocomplete='off' type='checkbox' "+(c.checked?" checked='checked' ":"")+" id='"+c.id+"-checkbox' /><label class='tangram-tree-checkbox-label'  for='"+c.id+"-checkbox'>"+g+"</label>");if(b.checkMode==3){b.updateAllCheckBox(baidu.dom.g(c.getParentNode().id+"-subNodeId"))}});baidu.ui.Tree.register(function(b){b.updateCheckBox=function(g){var x=this,j=g.id.replace(/-checkbox$/i,""),p=x.getTreeNodeById(j);if(x.checkMode==1){var v=baidu.dom.query(".tangram-tree-checkbox:checked",x.getMain());for(var u=0,q=v.length;u<q;u++){var o=v[u],f=o.id.replace(/-checkbox/i,""),r=x.getTreeNodeById(f);if(f!=j){r.checked=false;r.indeterminate=false;o.checked=false}}if(x._singlechecked){delete x._singlechecked}if(g.checked){x._singlechecked=j}}p.indeterminate=g.indeterminate;p.checked=g.checked;if(x.checkMode==3){var s=p;while(s.parentNode){var k=s.parentNode,h=k.getChildNodes(),m=0,n=baidu.dom.g(k.id+"-checkbox");for(var u=0,q=h.length;u<q;u++){if(h[u].checked||h[u].indeterminate){m++}}n.checked=(m==h.length);n.indeterminate=(m!=0&&m!=h.length);k.checked=n.checked;k.indeterminate=n.indeterminate;s=s.parentNode}var d=baidu.dom.query(":checkbox",baidu.dom.g(j+"-node").parentNode.getElementsByTagName("dd")[0]);for(var u=0,q=d.length;u<q;u++){var w=d[u],t=x.getTreeNodeById(w.id.replace(/-checkbox/i,""));t.indeterminate=false;t.checked=p.checked;w.indeterminate=false;w.checked=p.checked}}x.dispatchEvent("checkchange",{node:p})};b.updateAllCheckBox=function(g){var h=this,d=baidu.dom.query("dl:has(dt:has(:checkbox)):has(>dd:empty)",g||h.getMain());for(var f=0,c=d.length;f<c;f++){h.updateCheckBox(baidu.dom.query(">dt :checkbox",d[f])[0])}};b.addEventListener("onload",function(){var c=this,d=c.getMain();baidu.event.on(d,"click",function(g){var h=g.target||g.srcElement,f=h.className||"";if(f.indexOf("tangram-tree-checkbox")!=-1&&(h.type||"").toLowerCase()=="checkbox"){c.updateCheckBox(baidu.dom.g(h.getAttribute("for")||h.id))}})});b.addEventListener("dispose",function(){var c=this,d=c.getMain();baidu.event.un(d,"click")});b.getCheckedNodes=function(p){var n=this,q=[];if(n.checkMode==1){if(n._singlechecked){q.push(n.getTreeNodeById(n._singlechecked))}return q}var o=n.getRootNode(),h=[o],j=0;if(o.checked||(p&&o.indeterminate)){q.push(o)}while(j<h.length){var k=h[j],d=k.getChildNodes()||[];for(var g=0,f=d.length;g<f;g++){var m=d[g];if(m.checked||(p&&m.indeterminate)){q.push(m)}h.push(m)}j++}return q}})})();(nuit.Tree)||(nuit.Tree=function(b){b.classPrefix="nuit-tree";var a=new baidu.ui.Tree(b);a.addEventListener("click",function(h,g){var c=h.target,f=c.getCurrentNode().id,d=baidu.dom.query(".tangram-tree-node-current",baidu.g(c.mainId));baidu.array.each(d,function(k,j){(k.id!=(f+"-node"))&&(baidu.dom.removeClass(k,"tangram-tree-node-current"))})});return a});(nuit.SeriviceTree)||(nuit.ServiceTree=baidu.ui.createUI(function(a){}).extend({uiType:"servicetree",loadNodesUrl:"/noah/index.php?r=selectMachine/loadTree&objectType=host",searchUrl:"/noah/index.php?r=selectMachine/searchMachine",iconsPath:"/nuit/css/src/tree/images/",showSearch:true,treeOptions:{},dialogOptions:{},ajaxOptions:{},parseData:function(c,m){var j=this,g=[],f=m.data.indexOf("token=")!=-1;if(!f){baidu.array.each(c,function(n){if(n.leaf){n.type="leaf";n.icon=j.iconsPath+"machine.png";g.push(n)}else{n.icon=j.iconsPath+(n.type=="su"?"su.gif":"service.gif");n.type="trunk";n.children=[{id:"loading-"+n.id,text:"正在加载...",icon:j.iconsPath+"spinner.gif"}];g.push(n)}})}else{var k=[],h={},a=function(p){if(p.leaf){if(!h[p.text]){k.push(baidu.object.extend(p,{icon:j.iconsPath+"machine.png",type:"leaf"}));h[p.text]=true}}if(p.children&&p.children.length>0){for(var o=0,n=p.children.length;o<n;o++){a(p.children[o])}}};g={id:"root",icon:j.iconsPath+"service.gif",text:"搜索结果",children:k};for(var d=0,b=c.length;d<b;d++){a(c[d])}}return g},open:function(){var a=this;if(!a.dialog){a.dialog=new nuit.Dialog(baidu.object.extend({buttons:{accept:{content:"<div class='nuit-dialog-button-label' >确定</div>",onclick:baidu.fn.bind(a._ondlgok,a)},cancel:{content:"<div class='nuit-dialog-button-label' >取消</div>",onclick:function(b){a.dialog.close()}}},contentText:"<div style='margin:5px 0px;display:"+(a.showSearch?"":"none")+";'><input type='text' id='"+a.guid+"mtreekey' placeholder='请输入关键字' style='width:270px;'  />&nbsp; <input type='button' value='搜索' id='"+a.guid+"searchmtree' />&nbsp;<input type='button' value='重置' id='"+a.guid+"resetmtree' /></div><div id='"+a.guid+"mtreebox' style='height:"+(a.showSearch?"320":"355")+"px;overflow:auto;margin:0px 5px;'><div id='"+a.guid+"mtree'>正在加载...</div></div>",width:400,height:360,titleText:"请选择节点/机器",modal:true,resizable:false},a.dialogOptions));a.dialog.render();a._initTree();(baidu.g(a.guid+"resetmtree"))&&(baidu.g(a.guid+"resetmtree").onclick=function(){a.tree.dispose();a.tree=null;baidu.g(a.guid+"mtreebox").innerHTML="<div id='"+a.guid+"mtree'>正在加载...</div>";baidu.g(a.guid+"mtreekey").value="";a._initTree()});(baidu.g(a.guid+"searchmtree"))&&(baidu.g(a.guid+"searchmtree").onclick=baidu.fn.bind(a._beginsearch,a));(baidu.g(a.guid+"mtreekey"))&&(baidu.g(a.guid+"mtreekey").onkeydown=function(b){b=baidu.event.get(b);if(b.keyCode==13){a._beginsearch();b.preventDefault();return false}})}a.dialog.addEventListener("dispose",function(){(a.tree)&&(a.tree.dispose());a.tree=null});a.dialog.open()},close:function(){(this.dialog)&&(this.dialog.close())},getTree:function(){return this.tree},getDialog:function(){return this.dialog},_initTree:function(){var c=this,d=c.loadNodesUrl,a=c.iconsPath;if(!c.tree){var b={url:d,data:"nodeid=0"};c.dispatchEvent("beforerequest",b);baidu.ajax.request(b.url,baidu.object.extend({data:b.data,onsuccess:function(m,j){var h=baidu.json.parse(j)[0],k=h.id,f=(c.parseData([h],b)||[])[0],g={url:d,data:"nodeid="+k};c.dispatchEvent("beforerequest",g);baidu.ajax.request(g.url,baidu.object.extend({data:g.data,onsuccess:function(p,o){var n=c.parseData(baidu.json.parse(o),g)||[];f.children=n;baidu.g(c.guid+"mtree").innerHTML="";c.tree=new nuit.Tree(baidu.object.extend({data:f,onload:function(q){q.target.getRootNode().expand()},expandable:false},c.treeOptions));c.tree.addEventListener("toggle",function(u,t){var s=u.treeNode,q=u.target;if(s.isExpand&&s.childNodes.length==1&&s.childNodes[0].id==("loading-"+s.id)){var r={url:d,data:"nodeid="+s.id,node:s};c.dispatchEvent("beforerequest",r);baidu.ajax.request(r.url,baidu.object.extend({data:r.data,onsuccess:function(x,w){var v=c.parseData(baidu.json.parse(w),r)||[];s.removeAllChildren();if(v.length>0){s.appendData(v);s.expand()}else{}}},c.ajaxOptions))}});c.tree.render(c.guid+"mtree")}},c.ajaxOptions))}},c.ajaxOptions))}},_beginsearch:function(){var a=this,b=baidu.g(a.guid+"mtreekey").value;if(b.length<3){alert("不能少于三个字符");return}a.tree.dispose();a.tree=null;baidu.g(a.guid+"mtreebox").innerHTML="<div id='"+a.guid+"mtree'>正在加载...</div>";a._searchTree(b)},_searchTree:function(d){var c=this,a=c.iconsPath,b={url:c.searchUrl,data:"node=1&nodeid=1&token="+d};c.dispatchEvent("beforerequest",b);baidu.ajax.request(b.url,baidu.object.extend({data:b.data,onsuccess:function(h,g){var f=c.parseData(baidu.json.parse(g),b);c.tree=new nuit.Tree(baidu.object.extend({data:f,onload:function(j){j.target.getRootNode().expand()}},c.treeOptions));baidu.g(c.guid+"mtree").innerHTML="";c.tree.render(c.guid+"mtree")}},c.ajaxOptions))},_ondlgok:function(b,a){this.dispatchEvent("ok")},dispose:function(){var a=this;a.dispatchEvent("dispose");(a.tree)&&(a.tree.dispose());(a.dialog)&&(a.dialog.dispose());(a.getMain())&&(baidu.dom.remove(a.getMain()));a.tree=null;a.dialog=null;baidu.lang.Class.prototype.dispose.call(a)}}));(nuit.Suggestion)||(nuit.Suggestion=function(d){d.classPrefix="nuit-suggestion";if(d.multiple){d.spliter=d.spliter||";";var c=d.getDataByIndex||baidu.fn.blank;d.getDataByIndex=function(q){if(isNaN(q)||(!this.currentData[q])){return{}}var r=this.currentData[q].value,k=this.getTarget().value,g="";if((new RegExp("\\"+d.spliter+"$","i")).test(k)){g=k.replace(new RegExp("[^\\"+d.spliter+"]+\\"+d.spliter+"$","i"),"")+r+d.spliter}else{g=k.replace(new RegExp("[^\\"+d.spliter+"]+$",n),"")+r+d.spliter}r=g;var h={},p=r.split(d.spliter),m=[];for(var n=0,j=p.length;n<j;n++){if(p[n]&&(!h[p[n]])){m.push(p[n]);h[p[n]]=1}}r=m.join(d.spliter)+d.spliter;this.currentData[q]={content:r,value:r};c.apply(this,[q]);return{item:this.currentData[q],index:q}};var b=d.onbeforepick||baidu.fn.blank;d.onbeforepick=function(r,n){if(isNaN(r.data.index)){return}var s=r.data.item.value,k=this.getTarget().value,g="";if((new RegExp("\\"+d.spliter+"$","i")).test(k)){g=k.replace(new RegExp("[^\\"+d.spliter+"]+\\"+d.spliter+"$","i"),"")+s+d.spliter}else{g=k.replace(new RegExp("[^\\"+d.spliter+"]+$","i"),"")+s+d.spliter}s=g;var h={},q=s.split(d.spliter),p=[];for(var m=0,j=q.length;m<j;m++){if(q[m]&&(!h[q[m]])){p.push(q[m]);h[q[m]]=1}}s=p.join(d.spliter)+d.spliter;this.currentData[r.data.index].value=s;b.apply(this,[r,n])};var f=d.getData||baidu.fn.blank;d.getData=function(g){g=g.split(d.spliter).pop();(g!="")&&f.apply(this,[g])}}var a=new baidu.ui.Suggestion(d);if(d.element){a.render(baidu.g(d.element))}return a});(nuit.Tooltip)||(nuit.Tooltip=function(a){a.classPrefix="nuit-tooltip";return new baidu.ui.Tooltip(a)});baidu.ui.tpager=baidu.ui.createUI(function(a){var b=this;var c={curPage:1,perPage:10,pageCount:1,totalCount:1,leftItemCount:4,totalItemCount:9,textmap:{first:"首页",last:"尾页 ",prev:"上一页",next:"下一页"}};a=T.object.extend(c,a);b=T.object.extend(b,a)}).extend({uiType:"nuitPager",bodyTpl:'<div id="#{id}_container" class="pager"><span class="pager-content" id="#{id}_content"><ul id="#{id}" class="pages" onclick="#{onclick}">#{content}</ul></span></div>',totalcount:1,totalrecords:1,getString:function(){var a=this;var b=a.getId();return T.string.format(a.bodyTpl,{id:b,onclick:a.getCallRef()+"._handleOnClick(event, this);"})},getPager:function(){var a=this;return a.getId("body")},_getId:function(a){var b=this;return T.g(b.getId()+"_"+a)},getContent:function(){var a=this;return a._getId("content")},getContainer:function(){var a=this;return a._getId("container")},_renderItem:function(j,g,d,b){var h=this;var a=1;var c=h.textmap;var f="";switch(j){case"first":a=1;f=c.first;break;case"prev":a=g-1;f=c.prev;break;case"next":a=g+1;f=c.next;break;case"last":a=d;f=c.last;break;case"total":a=-1;f="<span class='summary' id='"+h.getId()+"_nav_container'>"+h._renderNavContainer()+"</span>";break}var k='<li class="pgNext btn01" page="#{page}">#{label}</li>';if(j=="first"||j=="prev"){if(g<=1){k='<li class="pgNext btn01 btndisabled" page="#{page}">#{label}</li>';a=-1}}else{if(j=="total"){k='<li class="pgNext pgTotal" page="#{page}">#{label}</li>'}else{if(g>=d){k='<li class="pgNext btn01 btndisabled" page="#{page}">#{label}</li>';a=-1}}}return T.string.format(k,{page:a,label:f})},renderContent:function(h,b,k){var f=this;var a=1;var g=f.totalItemCount;var c=[];if(h>f.leftItemCount){a=h-f.leftItemCount;g=a+f.totalItemCount-1}if(g>b){a=b-f.totalItemCount+1;g=b}if(a<1){a=1}for(var d=a;d<=g;d++){var j='<li class="page-number btn01" page="#{page}">#{page}</li>';d==h?(j='<li class="page-number pgCurrent btn02" page="#{page}">#{page}</li>'):"";c.push(T.string.format(j,{page:d}))}return c},onhandlerResult:function(){var f=this;var g=f.total;var c=f.perPage;var a=parseInt(g/c);var d=g%c==0?a:a+1;var b=d;f.totalCount=g;f.pageCount=b},_renderPager:function(){var f=this;f.dispatchEvent("handlerResult");var d=f.pageCount;var c=f.curPage;var b=f.totalCount;var a=[];a.push(f._renderItem("first",c,d,b));a.push(f._renderItem("prev",c,d,b));if(d!=0){a=a.concat(f.renderContent(c,d,b))}a.push(f._renderItem("next",c,d,b));a.push(f._renderItem("last",c,d,b));if(d==0){c=0}a.push(f._renderItem("total",c,d,b));return a.join("")},update:function(b){var a=this;a.dispatchEvent("update",{opts:b})},onupdate:function(d){var c=this;var b=d.opts;c=T.object.extend(c,b);var a=T.g(c.getId());a.innerHTML=c._renderPager();c.dispatchEvent("afterRender")},_handleOnClick:function(a){a=baidu.event.get(a);var c=this,b=T.event.getTarget(a),d=Number(b.getAttribute("page"));callback=c.onItemClick;if(!d||d==-1){return}c.update({curPage:d});callback&&callback(d)},setCurPage:function(b){var a=this;a.curPage=b},setPerPage:function(a){var b=this;b.perPage=a},render:function(a){var c=this;a=a||c.element;a=T.g(a);if(!a){return}a.innerHTML=c.getString();c.dispatchEvent("beforeRender");var b=T.g(c.getId());b.innerHTML=c._renderPager();c.dispatchEvent("afterRender");c.dispatchEvent("onload");c.rendered=true},dispose:function(){var a=this;baidu.dom.remove(baidu.dom.g(a.getId()));a.dispatchEvent("dispose")}});baidu.ui.tpager.register(function(a){if(a.perpages){a._renderPerpage=function(d,b){d=d||"每页显示：";b=b||a.perpages;var c='<span id="#{id}_perpage" class="pager-perpage"><label class="pager-perpage-lbl">#{label}</label><select class="pager-perpage-sel" onchange="#{onchangeFun}">#{options}</select></span>';var h='<option value="#{value}" #{selected}  >#{content}</option>';var g=[];var f="";T.array.each(b,function(k,j){f="";if(parseInt(k.value)==parseInt(a.perPage)){f='selected = "selected"'}g.push(T.string.format(h,{value:k.value,content:k.text,selected:f}))});g=g.join("");return T.string.format(c,{id:a.getId(),label:d,onchangeFun:a.getCallRef()+"._handleOnchange(event, this);",options:g})};a._handleOnchange=function(m,f){if(f){var j=f.selectedIndex;value=a.perpages[j].value}value=parseInt(value);var c=a.getId()+"-input";var h=c+"-container";if(!value){var b=T.g(h);if(!b){var g='<span id="'+h+'"> <input type="text"  value="'+a.defaultTips+'" id="'+c+'"><button class="btn02" style="margin-top:-3px">确定</button></span>';T.dom.insertHTML(f,"afterEnd",g)}else{T.dom.show(b)}var k=T.g(c);T.event.un(k,"focus");T.event.on(k,"focus",function(){k.value=""});var d=T.dom.next(k);T.event.un(d,"click");T.event.on(d,"click",function(){value=parseInt(k.value);if(T.g(h)){T.dom.hide(h)}if(isNaN(value)){value=10}a.setPerPage(value);var o=a.perpages;var r=false;var p=o.slice(0,o.length-1);for(var q=0,n=p.length;q<n;q++){if(p[q].value==value){r=true;f.selectedIndex=q;break}}if(!r){a.insertOption(f,value)}a.dispatchEvent("perpagechange",{perPage:value});a.update({perPage:value,curPage:1});k.value=a.defaultTips})}else{if(T.g(h)){T.dom.hide(h)}a.setPerPage(value);a.dispatchEvent("perpagechange",{perPage:value})}};a.insertOption=function(j,k,f){var n=j.options;var m=a.perpages;var d=m.length-1;if(!f){for(var b=0,g=m.length-1;b<g;b++){if(m[b].value>k){d=b;break}}}var c=n[d];for(var b=m.length;b>d;b--){m[b]=m[b-1]}m[d]={value:k,text:k+""};try{n.add(new Option(k,k+""),c)}catch(h){n.length=0;T.array.each(m,function(o){n.add(new Option(o.text,o.value))})}j.selectedIndex=d};a.getPerpageContainer=function(){return a._getId("perpage")};a.defaultTips="每页个数";a.addEventListener("beforeRender",function(d){var c=a.getContent();var b=a._renderPerpage();T.dom.insertHTML(c,"beforeBegin",b)})}a.getNavContainer=function(){return a._getId("nav_container")};a._renderNavContainer=function(){var c='<input type="text" id="#{id}_nav_input" class="pager-nav-input pager-nav-state-info" value="#{text}"/><input type="button" value="#{value}" class="pager-nav-button btn02" onclick="#{onbtnclick}"/><span>共#{total}条</span>';var d=a.getId();var b=T.string.format(c,{id:d,value:a.navConfirmTitle||"GO",text:a.curPage+"/"+a.pageCount+"页",total:a.totalCount,onbtnclick:a.getCallRef()+"._handleNav(event, this);"});return b};a._handleNav=function(b){var d=a.getId()+"_nav_input";var c=T.g(d);if(T.dom.hasClass(c,"info")){return false}c&&(value=c.value);value=parseInt(T.string.trim(value));if(isNaN(value)){value=1}value=value<1?1:value;value=value>a.pageCount?a.pageCount:value;if(!a.beforeForward(value)){return}a.setCurPage(value);a.dispatchEvent("forward",{curPage:value})};a.onforward=function(c){var b=c.curPage;a.update({curPage:b});a.onItemClick&&a.onItemClick(b)};a.beforeForward=function(b){if(b>a.pageCount||b<1){return false}return true};a.addEventListener("afterRender",function(c){var d=a.getId()+"_nav_input";var b=T.g(d);T.event.on(b,"focus",function(){if(T.dom.hasClass(b,"pager-nav-state-info")){b.value="";T.dom.removeClass(b,"pager-nav-state-info");T.dom.addClass(b,"pager-nav-state-input")}})});a.addEventListener("load",function(){T.event.on(document.body,"click",function(f){var d=T.event.getTarget(f);var b=a.getNavContainer();if(!b){return}if(!T.dom.contains(b,d)){var g=a.getId()+"_nav_input";var c=T.g(g);if(T.dom.hasClass(c,"pager-nav-state-input")){c.value=a.curPage+"/"+a.pageCount+"页";T.dom.removeClass(c,"pager-nav-state-input");T.dom.addClass(c,"pager-nav-state-info")}}})});a.addEventListener("dispose",function(){T.dom.remove(a.getNavContainer())})});(nuit.Pager)||(nuit.Pager=baidu.ui.tpager);var nuit=nuit||{};nuit.Combox=baidu.ui.createUI(function(){}).extend({uiType:"combox",width:100,editable:false,data:[],classPrefix:"nuit-combox",tplString:'<div id="#{id}" class="#{wrapInner}"><div class="#{arrow}"></div><div class="#{text}">#{content}</div></div><div class="#{list}"></div><input type="hidden" id="#{input}" value="#{value}"/>',tplEditableString:'<div id="#{id}" class="#{wrapInner}"><div class="#{arrow}"></div><div class="#{text}"><input type="text" id="#{input}" value="#{value}"/></div></div><div class="#{list}"></div>',tplContentString:'<div id="#{id}" class="#{wrapInner}"><div class="#{arrow}"></div><div class="#{text}">#{defaultText}</div></div><div class="#{list}" style="width:#{contentWidth}px;"><div class="#{listInner}">#{content}</div></div><input type="hidden" id="#{input}" value="#{value}"/>',getString:function(){var b=this;var a=b.getDefaultData();var c=b.tplString;if(b.editable){c=b.tplEditableString}return baidu.string.format(c,{id:b.getId(),input:b.getId("input"),wrapInner:b.getClass("wrap-inner"),text:b.getClass("text"),arrow:b.getClass("arrow"),list:b.getClass("list"),content:a.text,value:a.value})},getContentString:function(){var a=this;a.contentWidth=a.contentWidth||a.width;return baidu.string.format(a.tplContentString,{id:a.getId(),input:a.getId("input"),wrapInner:a.getClass("wrap-inner"),text:a.getClass("text"),arrow:a.getClass("arrow"),list:a.getClass("list"),listInner:a.getClass("list-inner"),content:a.content,defaultText:a.defaultText,value:"",contentWidth:a.contentWidth})},getDefaultData:function(){var c=this,a={text:"data 数据格式不正确",value:null};var d=c.data;if(baidu.lang.isArray(d)){if(d.length==0){a={text:"data为空",value:null}}else{var b=d[0];if(baidu.lang.isObject(b)){a=b}else{a={text:b,value:b}}}}else{if(baidu.lang.isObject(d)){baidu.object.each(d,function(g,f){a=g[0];return false})}}return a},render:function(a){var b=this;b.el=baidu.dom.g(a);baidu.dom.setStyle(b.el,"width",b.width);baidu.dom.addClass(b.el,b.getClass("wrap"));if(b.type=="panel"){b.el.innerHTML=b.getContentString()}else{b.el.innerHTML=b.getString()}b.list=baidu.dom.q(b.getClass("list"),b.el)[0];b.input=baidu.dom.g(b.getId("input"));b.arrow=baidu.dom.q(b.getClass("arrow"),b.el)[0];b.text=baidu.dom.q(b.getClass("text"),b.el)[0];if(b.type!="panel"){b.update(b.data)}baidu.dom.setStyle(b.list,"zIndex",(b.zIndex||10));b._bindEvent()},_fixPosition:function(){var b=this;var c=baidu.dom.getPosition(b.el).left;var a=baidu.page.getViewWidth();if(c+b.contentWidth>a){baidu.dom.setStyle(b.list,"left",b.width-b.contentWidth)}else{baidu.dom.setStyle(b.list,"left",0)}},update:function(g){var f=this,d=[];f.dispatchEvent("onupdate");f.data=g;d.push("<div class='"+f.getClass("list-inner")+"'>");if(baidu.lang.isArray(g)){d.push("<ul>");baidu.array.each(g,function(j,h){if(baidu.lang.isObject(j)){d.push("<li data-value='"+j.value+"' data-index='"+h+"'>"+j.text+"</li>")}else{d.push("<li data-value='"+j+"' data-index='"+h+"'>"+j+"</li>")}});d.push("</ul>");d.push("</div>");f.list.innerHTML=d.join("");var c=baidu.dom.query("li",f.list);baidu.each(c,function(h,j){baidu.event.on(h,"click",function(m){var q=baidu.event.getTarget(m);var p=q.innerHTML;var n=baidu.dom.getAttr(q,"data-value");var k=parseInt(baidu.dom.getAttr(q,"data-index"),10);if(f.editable){f.input.value=n}else{f.text.innerHTML=p;var o=f.input.value;f.input.value=n;if(o!=n){f.dispatchEvent("onchange",o,n,f.data[k]||{})}}});baidu.event.on(h,"mouseover",function(m){var n=T.event.getTarget(m);if(n.tagName.toUpperCase()!=="LI"){return}var p=baidu.event.getTarget(m),k=parseInt(baidu.dom.getAttr(p,"data-index")||-1,10),o=f.data[k]||false;o&&f.dispatchEvent("mouseover",baidu.object.extend(o,{originEvent:m}))});baidu.event.on(h,"mouseout",function(m){var o=baidu.event.getTarget(m),k=parseInt(baidu.dom.getAttr(o,"data-index")||-1,10),n=f.data[k]||false;n&&f.dispatchEvent("mouseout",baidu.object.extend(n,{originEvent:m}))})})}else{baidu.object.each(g,function(j,h){d.push("<dl>");d.push("<dt>"+h+"</dt>");baidu.array.each(j,function(m,k){d.push("<dd data-value='"+m.value+"' data-group='"+h+"' data-index='"+k+"'>"+m.text+"</dd>")});d.push("</dl>")});d.push("</div>");f.list.innerHTML=d.join("");var b=baidu.dom.query("dd",f.list);baidu.each(b,function(h,j){baidu.event.on(h,"click",function(m){var r=baidu.event.getTarget(m);var q=r.innerHTML;var n=baidu.dom.getAttr(r,"data-value");var p=baidu.dom.getAttr(r,"data-group");var k=parseInt(baidu.dom.getAttr(r,"data-index"),10);f.text.innerHTML=q;var o=f.input.value;f.input.value=n;if(o!=n){f.dispatchEvent("onchange",o,n,f.data[p][k])}})});var a=baidu.dom.query("dt",f.list);baidu.each(a,function(j,h){baidu.event.on(j,"click",function(k){baidu.event.stop(k)})})}f.setValue(f.getDefaultData().value);f.dispatchEvent("afterupdate")},showList:function(){baidu.dom.addClass(this.arrow,this.getClass("arrow-open"));this.list.style.display="block";if(this.type=="panel"){this._fixPosition()}},hideList:function(){baidu.dom.removeClass(this.arrow,this.getClass("arrow-open"));this.list.style.display="none"},getValue:function(){return this.input.value},setValue:function(d){var b=this;var c=b.data;var a=b.input.value;var f={};b.input.value=d;if(b.editable){return}if(baidu.lang.isArray(c)){baidu.each(c,function(j,h){if(baidu.lang.isObject(j)){if(j.value==d){b.text.innerHTML=j.text;f=j;return false}}else{b.text.innerHTML=d;f=d;return false}})}else{if(baidu.lang.isObject(c)){var g=false;baidu.object.each(c,function(j,h){baidu.each(j,function(m,k){if(m.value==d){b.text.innerHTML=m.text;g=true;f=m;return false}});if(g){return false}})}}if(a!=d){b.dispatchEvent("onchange",a,d,f)}},_bindEvent:function(){var a=this;baidu.event.on(document,"click",function(b){a.hideList()});baidu.event.on(a.getId(),"mousedown",function(b){a.dispatchEvent("onmousedown")});baidu.event.on(a.getId(),"mouseup",function(b){a.dispatchEvent("onmouseup");if(!baidu.dom.hasClass(a.arrow,a.getClass("arrow-open"))){setTimeout(function(){a.showList()},1)}});if(a.type=="panel"){baidu.event.on(a.list,"click",function(b){baidu.event.stopPropagation(b)})}}});(nuit.ButtonMenu)||(nuit.ButtonMenu=baidu.ui.createUI(function(a){}).extend({uiType:"buttonMenu",options:[],zIndex:999,width:80,render:function(a){var b=this;a=baidu.g(a||b.element);baidu.event.on(a,"click",function(c){c=baidu.event.get(c);b.show(a);c.stopPropagation();var d=baidu.g(b.guid+"-"+a.id+"-options");baidu.array.each(baidu.dom.query("> .nuit-buttonmenu-options",document.body),function(f){if(f!=d){baidu.dom.hide(f)}})});baidu.event.on(document.body,"click",function(){b.hide(a)})},hide:function(a){var b=this;a=baidu.g(a||b.element);(baidu.g(b.guid+"-"+a.id+"-options"))&&(baidu.dom.hide(baidu.g(b.guid+"-"+a.id+"-options")))},hideAll:function(){baidu.array.each(baidu.dom.query("> .nuit-buttonmenu-options",document.body),function(a){baidu.dom.hide(a)})},show:function(c){c=baidu.g(c||u.element);var u=this,g=baidu.dom.getPosition(c),d=c.offsetHeight,t=c.childNodes.length?c.childNodes[0].offsetHeight:d,r=baidu.g(u.guid+"-"+c.id+"-options"),b=["<ul>"],m=Math.max(u.width,c.offsetWidth);if(!r){r=document.createElement("div");r.id=u.guid+"-"+c.id+"-options";r.className="nuit-buttonmenu-options";baidu.array.each(u.options,function(w,o){b.push("<li class='"+(w.className||"")+" "+(w.disabled?" nuit-buttonmenu-option-disabled ":"")+"' data-index='"+o+"'>"+w.html+"</li>")});b.push("</ul>");r.innerHTML=b.join("");document.body.childNodes.length?document.body.insertBefore(r,document.body.childNodes[0]):document.body.appendChild(r);baidu.event.on(r,"click",function(x,w){x=baidu.event.get(x);var y=x.srcElement||x.target,o=y.getAttribute("data-index");if(null!=o){if((!baidu.dom.hasClass(y,"nuit-buttonmenu-option-disabled"))&&(u.options[o].onclick||baidu.fn.blank).apply(u,[x,y])!==false&&u.dispatchEvent("itemclick",{src:y,index:o})!==false){baidu.dom.hide(r)}x.stopPropagation()}})}baidu.dom.show(r);var k=g.left;var j=g.top;var q=T.page.getViewWidth();var v=T.page.getViewHeight();var f=k+m>q?"auto":k;var s=k+m>q?(q-g.left-c.offsetWidth):"auto";var h=Math.max(d,t);var a=Math.min(d,t);var p=r.offsetHeight;var n=j+h+p>v?(j-p-2):(j+h);baidu.dom.setStyles(r,{"z-index":u.zIndex,left:f,right:s,top:n,display:"block"});baidu.dom.setBorderBoxWidth(r,m)},disable:function(c,a){var f=this,d=f.options,b=d[a],g=null;if(!b){return}b.disabled=true;c=baidu.g(c||f.element);g=baidu.dom.query(" >ul >li:eq("+a+")",baidu.g(f.guid+"-"+c.id+"-options"));g.length&&(baidu.dom.addClass(g[0],"nuit-buttonmenu-option-disabled"))},enable:function(c,a){var f=this,d=f.options,b=d[a],g=null;if(!b){return}b.disabled=false;c=baidu.g(c||f.element);g=baidu.dom.query(" >ul >li:eq("+a+")",baidu.g(f.guid+"-"+c.id+"-options"));g.length&&(baidu.dom.removeClass(g[0],"nuit-buttonmenu-option-disabled"))}}));(nuit.Validator)||(nuit.Validator=baidu.ui.createUI(function(a){var b=this;b.element=baidu.g(a.element);b.addEventListener("fieldbeginvalidate",function(g,f){var d=f.elements[0],c=baidu.dom.getAncestorByTag(d,"dl");c&&(baidu.dom.removeClass(c,"erroritem"))});b.addEventListener("fielderror",function(g,f){var d=f.elements[0],c=baidu.dom.getAncestorByTag(d,"dl");c&&(baidu.dom.addClass(c,"erroritem"))});b.addEventListener("error",function(d,c){for(var f in c.errors){try{c.fields[f].elements[0].focus()}catch(d){}break}})}).extend({uiType:"nuitValidator",rules:{},_serialize:function(){var a={},c=this,b=baidu.dom.query(":input",c.element);baidu.array.each(b,function(j,d){if(j.name){a[j.name]||(a[j.name]={elements:[],value:"",rules:{}});var h=a[j.name];h.elements.push(j);baidu.object.extend(h.rules,c.rules[j.name]||{});try{baidu.object.extend(h.rules,baidu.json.parse(baidu.dom.getAttr(j,"data-validate")||"{}"))}catch(g){}if(j.type=="checkbox"||j.type=="radio"){if(j.type=="checkbox"){(!baidu.lang.isArray(h.value))&&(h.value=[]);j.checked&&(h.value.push(j.value))}if(j.checked&&j.type=="radio"){h.value=(j.value)}}else{if(j.type=="select-one"||j.type=="select-multiple"){var f=j.options;(j.type=="select-multiple"&&(!baidu.lang.isArray(h.value)))&&(h.value=[]);baidu.array.each(f,function(k){if(k.selected&&j.type=="select-one"){h.value=k.value}if(k.selected&&j.type=="select-multiple"){h.value.push(k.value)}})}else{h.value=j.value}}}});return a},getErrors:function(){return this.errors||{}},validate:function(){var f=this,b=true,d=f._serialize();f.errors={};for(var k in d){var h=d[k],m=h.rules;h.name=k;f.dispatchEvent("fieldbeginvalidate",h);for(var j in m){var g=nuit.Validator.methods[j],c=m[j];c=[c];c.unshift(h.value);if(baidu.lang.isFunction(g)){var a=g.apply(baidu.object.extend(h,{validator:f}),c);if(a===false){f.errors[h]||(f.errors[h]=[]);f.errors[h].push(j);b=false;f.dispatchEvent("fielderror",baidu.object.extend(h,{rule:j,params:c}))}}}}if(!b){f.dispatchEvent("error",{errors:f.errors,fields:d})}return b}}));(nuit.Validator.methods)||(nuit.Validator.methods={});baidu.object.extend(nuit.Validator.methods,{isEmpty:function(a){return a==""||null==a||undefined==a},required:function(a){return !nuit.Validator.methods.isEmpty(a)},rangelen:function(a,b){return(a.length>=b[0]&&a.length<=b[1])},range:function(a,b){a=parseFloat(a)||0;min=parseFloat(b[0]);max=parseFloat(b[1]);return a>=min&&a<=max},minlen:function(b,a){return b.length>=a},maxlen:function(b,a){return b.length<=a},isEmail:function(a){return/^(?:[a-z\d]+[_\-\+\.]?)*[a-z\d]+@(?:([a-z\d]+\-?)*[a-z\d]+\.)+([a-z]{2,})+$/i.test(a)},isNumber:function(a){return !isNaN(a)},isInteger:function(a){return/^-?[1-9]\d*$/i.test(a)},isInteger10:function(a){return/^[1-9]\d*|0$/i.test(a)},isInteger1:function(a){return/^[1-9]\d*$/i.test(a)}});