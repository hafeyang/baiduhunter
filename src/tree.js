var T,baidu=T=baidu||{version:"1.5.2.2"};baidu.guid="$BAIDU$";baidu.$$=window[baidu.guid]=window[baidu.guid]||{global:{}};baidu.ui=baidu.ui||{version:"1.3.9"};baidu.ui.getUI=function(c){var c=c.split("-"),b=baidu.ui,a=c.length,d=0;for(;d<a;d++){b=b[c[d].charAt(0).toUpperCase()+c[d].slice(1)]}return b};baidu.lang=baidu.lang||{};baidu.lang.isString=function(a){return"[object String]"==Object.prototype.toString.call(a)};baidu.isString=baidu.lang.isString;baidu.lang.isObject=function(a){return"function"==typeof a||!!(a&&"object"==typeof a)};baidu.isObject=baidu.lang.isObject;baidu.lang.isArray=function(a){return"[object Array]"==Object.prototype.toString.call(a)};baidu.lang.isBoolean=function(a){return typeof a==="boolean"};baidu.lang.isDate=function(a){return{}.toString.call(a)==="[object Date]"&&a.toString()!=="Invalid Date"&&!isNaN(a)};baidu.lang.isElement=function(a){return !!(a&&a.nodeName&&a.nodeType==1)};baidu.lang.isFunction=function(a){return"[object Function]"==Object.prototype.toString.call(a)};baidu.lang.isNumber=function(a){return"[object Number]"==Object.prototype.toString.call(a)&&isFinite(a)};baidu.ui.create=function(b,a){if(baidu.lang.isString(b)){b=baidu.ui.getUI(b)}return new b(a)};baidu.dom=baidu.dom||{};baidu.dom.g=function(a){if(!a){return null}if("string"==typeof a||a instanceof String){return document.getElementById(a)}else{if(a.nodeName&&(a.nodeType==1||a.nodeType==9)){return a}}return null};baidu.g=baidu.G=baidu.dom.g;baidu.lang.guid=function(){return"TANGRAM$"+baidu.$$._counter++};baidu.$$._counter=baidu.$$._counter||1;baidu.lang.Class=function(){this.guid=baidu.lang.guid();!this.__decontrolled&&(baidu.$$._instances[this.guid]=this)};baidu.$$._instances=baidu.$$._instances||{};baidu.lang.Class.prototype.dispose=function(){delete baidu.$$._instances[this.guid];for(var a in this){typeof this[a]!="function"&&delete this[a]}this.disposed=true};baidu.lang.Class.prototype.toString=function(){return"[object "+(this.__type||this._className||"Object")+"]"};window.baiduInstance=function(a){return baidu.$$._instances[a]};baidu.lang.Event=function(a,b){this.type=a;this.returnValue=true;this.target=b||null;this.currentTarget=null};baidu.lang.Class.prototype.fire=baidu.lang.Class.prototype.dispatchEvent=function(e,a){baidu.lang.isString(e)&&(e=new baidu.lang.Event(e));!this.__listeners&&(this.__listeners={});a=a||{};for(var c in a){e[c]=a[c]}var c,g,d=this,b=d.__listeners,f=e.type;e.target=e.target||(e.currentTarget=d);f.indexOf("on")&&(f="on"+f);typeof d[f]=="function"&&d[f].apply(d,arguments);if(typeof b[f]=="object"){for(c=0,g=b[f].length;c<g;c++){b[f][c]&&b[f][c].apply(d,arguments)}}return e.returnValue};baidu.lang.Class.prototype.on=baidu.lang.Class.prototype.addEventListener=function(e,d,c){if(typeof d!="function"){return}!this.__listeners&&(this.__listeners={});var b,a=this.__listeners;e.indexOf("on")&&(e="on"+e);typeof a[e]!="object"&&(a[e]=[]);for(b=a[e].length-1;b>=0;b--){if(a[e][b]===d){return d}}a[e].push(d);c&&typeof c=="string"&&(a[e][c]=d);return d};baidu.async=baidu.async||{};baidu.async._isDeferred=function(b){var a=baidu.lang.isFunction;return b&&a(b.success)&&a(b.then)&&a(b.fail)&&a(b.cancel)};baidu.async.Deferred=function(){var b=this;baidu.extend(b,{_fired:0,_firing:0,_cancelled:0,_resolveChain:[],_rejectChain:[],_result:[],_isError:0});function a(){if(b._cancelled||b._firing){return}if(b._nextDeferred){b._nextDeferred.then(b._resolveChain[0],b._rejectChain[0]);return}b._firing=1;var f=b._isError?b._rejectChain:b._resolveChain,c=b._result[b._isError?1:0];while(f[0]&&(!b._cancelled)){try{var d=f.shift().call(b,c);if(baidu.async._isDeferred(d)){b._nextDeferred=d;[].push.apply(d._resolveChain,b._resolveChain);[].push.apply(d._rejectChain,b._rejectChain);f=b._resolveChain=[];b._rejectChain=[]}}catch(e){throw e}finally{b._fired=1;b._firing=0}}}b.resolve=b.fireSuccess=function(c){b._result[0]=c;a();return b};b.reject=b.fireFail=function(c){b._result[1]=c;b._isError=1;a();return b};b.then=function(c,d){b._resolveChain.push(c);b._rejectChain.push(d);if(b._fired){a()}return b};b.success=function(c){return b.then(c,baidu.fn.blank)};b.fail=function(c){return b.then(baidu.fn.blank,c)};b.cancel=function(){b._cancelled=1}};baidu.event=baidu.event||{};baidu.event.EventArg=function(c,e){e=e||window;c=c||e.event;var d=e.document;this.target=(c.target)||c.srcElement;this.keyCode=c.which||c.keyCode;for(var a in c){var b=c[a];if("function"!=typeof b){this[a]=b}}if(!this.pageX&&this.pageX!==0){this.pageX=(c.clientX||0)+(d.documentElement.scrollLeft||d.body.scrollLeft);this.pageY=(c.clientY||0)+(d.documentElement.scrollTop||d.body.scrollTop)}this._event=c};baidu.event.EventArg.prototype.preventDefault=function(){if(this._event.preventDefault){this._event.preventDefault()}else{this._event.returnValue=false}return this};baidu.event.EventArg.prototype.stopPropagation=function(){if(this._event.stopPropagation){this._event.stopPropagation()}else{this._event.cancelBubble=true}return this};baidu.event.EventArg.prototype.stop=function(){return this.stopPropagation().preventDefault()};baidu.event._listeners=baidu.event._listeners||[];baidu.dom._g=function(a){if(baidu.lang.isString(a)){return document.getElementById(a)}return a};baidu._g=baidu.dom._g;baidu.event.on=function(b,e,g){e=e.replace(/^on/i,"");b=baidu.dom._g(b);var f=function(i){g.call(b,i)},a=baidu.event._listeners,d=baidu.event._eventFilter,h,c=e;e=e.toLowerCase();if(d&&d[e]){h=d[e](b,e,f);c=h.type;f=h.listener}if(b.addEventListener){b.addEventListener(c,f,false)}else{if(b.attachEvent){b.attachEvent("on"+c,f)}}a[a.length]=[b,e,g,f,c];return b};baidu.on=baidu.event.on;baidu.event.un=function(c,f,b){c=baidu.dom._g(c);f=f.replace(/^on/i,"").toLowerCase();var i=baidu.event._listeners,d=i.length,e=!b,h,g,a;while(d--){h=i[d];if(h[1]===f&&h[0]===c&&(e||h[2]===b)){g=h[4];a=h[3];if(c.removeEventListener){c.removeEventListener(g,a,false)}else{if(c.detachEvent){c.detachEvent("on"+g,a)}}i.splice(d,1)}}return c};baidu.un=baidu.event.un;baidu.ui.Base={id:"",getId:function(a){var c=this,b;b="tangram-"+c.uiType+"--"+(c.id?c.id:c.guid);return a?b+"-"+a:b},getClass:function(b){var d=this,c=d.classPrefix,a=d.skin;if(b){c+="-"+b;a+="-"+b}if(d.skin){c+=" "+a}return c},getMain:function(){return baidu.g(this.mainId)},getBody:function(){return baidu.g(this.getId())},uiType:"",getCallRef:function(){return"window['$BAIDU$']._instances['"+this.guid+"']"},getCallString:function(d){var c=0,b=Array.prototype.slice.call(arguments,1),a=b.length;for(;c<a;c++){if(typeof b[c]=="string"){b[c]="'"+b[c]+"'"}}return this.getCallRef()+"."+d+"("+b.join(",")+");"},on:function(a,b,c){baidu.on(a,b,c);this.addEventListener("ondispose",function(){baidu.un(a,b,c)})},renderMain:function(b){var d=this,c=0,a;if(d.getMain()){return}b=baidu.g(b);if(!b){b=document.createElement("div");document.body.appendChild(b);b.style.position="absolute";b.className=d.getClass("main")}if(!b.id){b.id=d.getId("main")}d.mainId=b.id;b.setAttribute("data-guid",d.guid);return b},dispose:function(){this.dispatchEvent("dispose");baidu.lang.Class.prototype.dispose.call(this)}};baidu.object=baidu.object||{};baidu.extend=baidu.object.extend=function(c,a){for(var b in a){if(a.hasOwnProperty(b)){c[b]=a[b]}}return c};baidu.object.isPlain=function(c){var b=Object.prototype.hasOwnProperty,a;if(!c||Object.prototype.toString.call(c)!=="[object Object]"||!("isPrototypeOf" in c)){return false}if(c.constructor&&!b.call(c,"constructor")&&!b.call(c.constructor.prototype,"isPrototypeOf")){return false}for(a in c){}return a===undefined||b.call(c,a)};baidu.object.clone=function(e){var b=e,c,a;if(!e||e instanceof Number||e instanceof String||e instanceof Boolean){return b}else{if(baidu.lang.isArray(e)){b=[];var d=0;for(c=0,a=e.length;c<a;c++){b[d++]=baidu.object.clone(e[c])}}else{if(baidu.object.isPlain(e)){b={};for(c in e){if(e.hasOwnProperty(c)){b[c]=baidu.object.clone(e[c])}}}}}return b};baidu.object.each=function(e,c){var b,a,d;if("function"==typeof c){for(a in e){if(e.hasOwnProperty(a)){d=e[a];b=c.call(e,d,a);if(b===false){break}}}}return e};baidu.extend=baidu.object.extend=function(c,a){for(var b in a){if(a.hasOwnProperty(b)){c[b]=a[b]}}return c};baidu.object.isEmpty=function(b){for(var a in b){return false}return true};baidu.lang.isFunction=function(a){return"[object Function]"==Object.prototype.toString.call(a)};baidu.ui.createUI=function(c,j){j=j||{};var g=j.superClass||baidu.lang.Class,f=g==baidu.lang.Class?1:0,d,b,h=function(k,i){var l=this;k=k||{};g.call(l,!f?k:(k.guid||""),true);baidu.object.extend(l,h.options);baidu.object.extend(l,k);l.classPrefix=l.classPrefix||"tangram-"+l.uiType.toLowerCase();for(d in baidu.ui.behavior){if(typeof l[d]!="undefined"&&l[d]){baidu.object.extend(l,baidu.ui.behavior[d]);if(baidu.lang.isFunction(l[d])){l.addEventListener("onload",function(){baidu.ui.behavior[d].call(l[d].apply(l))})}else{baidu.ui.behavior[d].call(l)}}}c.apply(l,arguments);for(d=0,b=h._addons.length;d<b;d++){h._addons[d](l)}if(k.parent&&l.setParent){l.setParent(k.parent)}if(!i&&k.autoRender){l.render(k.element)}},a=function(){};a.prototype=g.prototype;var e=h.prototype=new a();for(d in baidu.ui.Base){e[d]=baidu.ui.Base[d]}h.extend=function(i){for(d in i){h.prototype[d]=i[d]}return h};h._addons=[];h.register=function(i){if(typeof i=="function"){h._addons.push(i)}};h.options={};return h};baidu.array=baidu.array||{};baidu.each=baidu.array.forEach=baidu.array.each=function(g,e,b){var d,f,c,a=g.length;if("function"==typeof e){for(c=0;c<a;c++){f=g[c];d=e.call(b||g,f,c);if(d===false){break}}}return g};baidu.array.remove=function(c,b){var a=c.length;while(a--){if(a in c&&c[a]===b){c.splice(a,1)}}return c};baidu.string=baidu.string||{};(function(){var a=new RegExp("(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+\x24)","g");baidu.string.trim=function(b){return String(b).replace(a,"")}})();baidu.trim=baidu.string.trim;baidu.dom.addClass=function(f,g){f=baidu.dom.g(f);var b=g.split(/\s+/),a=f.className,e=" "+a+" ",d=0,c=b.length;for(;d<c;d++){if(e.indexOf(" "+b[d]+" ")<0){a+=(a?" ":"")+b[d]}}f.className=a;return f};baidu.addClass=baidu.dom.addClass;baidu.dom.children=function(b){b=baidu.dom.g(b);for(var a=[],c=b.firstChild;c;c=c.nextSibling){if(c.nodeType==1){a.push(c)}}return a};baidu.browser=baidu.browser||{};baidu.browser.opera=/opera(\/| )(\d+(\.\d+)?)(.+?(version\/(\d+(\.\d+)?)))?/i.test(navigator.userAgent)?+(RegExp["\x246"]||RegExp["\x242"]):undefined;baidu.dom.insertHTML=function(d,a,c){d=baidu.dom.g(d);var b,e;if(d.insertAdjacentHTML&&!baidu.browser.opera){d.insertAdjacentHTML(a,c)}else{b=d.ownerDocument.createRange();a=a.toUpperCase();if(a=="AFTERBEGIN"||a=="BEFOREEND"){b.selectNodeContents(d);b.collapse(a=="AFTERBEGIN")}else{e=a=="BEFOREBEGIN";b[e?"setStartBefore":"setEndAfter"](d);b.collapse(e)}b.insertNode(b.createContextualFragment(c))}return d};baidu.insertHTML=baidu.dom.insertHTML;baidu.dom.insertBefore=function(d,c){var b,a;b=baidu.dom._g;d=b(d);c=b(c);a=c.parentNode;if(a){a.insertBefore(d,c)}return d};baidu.dom.insertAfter=function(d,c){var b,a;b=baidu.dom._g;d=b(d);c=b(c);a=c.parentNode;if(a){a.insertBefore(d,c.nextSibling)}return d};baidu.dom.hide=function(a){a=baidu.dom.g(a);a.style.display="none";return a};baidu.hide=baidu.dom.hide;baidu.browser.ie=baidu.ie=/msie (\d+\.\d+)/i.test(navigator.userAgent)?(document.documentMode||+RegExp["\x241"]):undefined;baidu.dom.remove=function(a){a=baidu.dom._g(a);var b=a.parentNode;b&&b.removeChild(a)};baidu.dom.removeClass=function(f,g){f=baidu.dom.g(f);var d=f.className.split(/\s+/),h=g.split(/\s+/),b,a=h.length,c,e=0;for(;e<a;++e){for(c=0,b=d.length;c<b;++c){if(d[c]==h[e]){d.splice(c,1);break}}}f.className=d.join(" ");return f};baidu.removeClass=baidu.dom.removeClass;baidu.dom.show=function(a){a=baidu.dom.g(a);a.style.display="";return a};baidu.show=baidu.dom.show;baidu.event.stopPropagation=function(a){if(a.stopPropagation){a.stopPropagation()}else{a.cancelBubble=true}};baidu.string.format=function(c,a){c=String(c);var b=Array.prototype.slice.call(arguments,1),d=Object.prototype.toString;if(b.length){b=b.length==1?(a!==null&&(/\[object Array\]|\[object Object\]/.test(d.call(a)))?a:b):b;return c.replace(/#\{(.+?)\}/g,function(e,g){var f=b[g];if("[object Function]"==d.call(f)){f=f(g)}return("undefined"==typeof f?"":f)})}return c};baidu.format=baidu.string.format;baidu.string.encodeHTML=function(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")};baidu.encodeHTML=baidu.string.encodeHTML;baidu.ajax=baidu.ajax||{};baidu.fn=baidu.fn||{};baidu.fn.blank=function(){};baidu.ajax.request=function(f,j){var d=j||{},r=d.data||"",g=!(d.async===false),e=d.username||"",a=d.password||"",c=(d.method||"GET").toUpperCase(),b=d.headers||{},i=d.timeout||0,k={},n,s,h;function m(){if(h.readyState==4){try{var u=h.status}catch(t){q("failure");return}q(u);if((u>=200&&u<300)||u==304||u==1223){q("success")}else{q("failure")}window.setTimeout(function(){h.onreadystatechange=baidu.fn.blank;if(g){h=null}},0)}}function l(){if(window.ActiveXObject){try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}}if(window.XMLHttpRequest){return new XMLHttpRequest()}}function q(v){v="on"+v;var u=k[v],w=baidu.ajax[v];if(u){if(n){clearTimeout(n)}if(v!="onsuccess"){u(h)}else{try{h.responseText}catch(t){return u(h)}u(h,h.responseText)}}else{if(w){if(v=="onsuccess"){return}w(h)}}}for(s in d){k[s]=d[s]}b["X-Requested-With"]="XMLHttpRequest";try{h=l();if(c=="GET"){if(r){f+=(f.indexOf("?")>=0?"&":"?")+r;r=null}if(d.noCache){f+=(f.indexOf("?")>=0?"&":"?")+"b"+(+new Date)+"=1"}}if(e){h.open(c,f,g,e,a)}else{h.open(c,f,g)}if(g){h.onreadystatechange=m}if(c=="POST"){h.setRequestHeader("Content-Type",(b["Content-Type"]||"application/x-www-form-urlencoded"))}for(s in b){if(b.hasOwnProperty(s)){h.setRequestHeader(s,b[s])}}q("beforerequest");if(i){n=setTimeout(function(){h.onreadystatechange=baidu.fn.blank;h.abort();q("timeout")},i)}h.send(r);if(!g){m()}}catch(o){q("failure")}return h};baidu.url=baidu.url||{};baidu.url.escapeSymbol=function(a){return String(a).replace(/[#%&+=\/\\\ \ã€€\f\r\n\t]/g,function(b){return"%"+(256+b.charCodeAt()).toString(16).substring(1).toUpperCase()})};baidu.string=baidu.string||{};baidu.string.escapeReg=function(a){return String(a).replace(new RegExp("([.*+?^=!:\x24{}()|[\\]/\\\\])","g"),"\\\x241")};baidu.url.getQueryValue=function(b,c){var d=new RegExp("(^|&|\\?|#)"+baidu.string.escapeReg(c)+"=([^&#]*)(&|\x24|#)","");var a=b.match(d);if(a){return a[2]}return null};baidu.object=baidu.object||{};baidu.object.each=function(e,c){var b,a,d;if("function"==typeof c){for(a in e){if(e.hasOwnProperty(a)){d=e[a];b=c.call(e,d,a);if(b===false){break}}}}return e};baidu.lang=baidu.lang||{};baidu.lang.isArray=function(a){return"[object Array]"==Object.prototype.toString.call(a)};baidu.url.jsonToQuery=function(c,e){var a=[],d,b=e||function(f){return baidu.url.escapeSymbol(f)};baidu.object.each(c,function(g,f){if(baidu.lang.isArray(g)){d=g.length;while(d--){a.push(f+"="+b(g[d],f))}}else{a.push(f+"="+b(g,f))}});return a.join("&")};baidu.url.queryToJson=function(a){var f=a.substr(a.lastIndexOf("?")+1),c=f.split("&"),e=c.length,k={},d=0,h,g,j,b;for(;d<e;d++){if(!c[d]){continue}b=c[d].split("=");h=b[0];g=b[1];j=k[h];if("undefined"==typeof j){k[h]=g}else{if(baidu.lang.isArray(j)){j.push(g)}else{k[h]=[j,g]}}}return k};baidu.ajax.form=function(a,c){c=c||{};var f=a.elements,n=f.length,b=a.getAttribute("method"),e=a.getAttribute("action"),u=c.replacer||function(v,i){return v},r={},t=[],l,q,s,m,d,g,h,k,j;function o(i,v){t.push(i+"="+v)}for(l in c){if(c.hasOwnProperty(l)){r[l]=c[l]}}for(l=0;l<n;l++){q=f[l];m=q.name;if(!q.disabled&&m){s=q.type;d=baidu.url.escapeSymbol(q.value);switch(s){case"radio":case"checkbox":if(!q.checked){break}case"textarea":case"text":case"password":case"hidden":case"select-one":o(m,u(d,m));break;case"select-multiple":g=q.options;k=g.length;for(h=0;h<k;h++){j=g[h];if(j.selected){o(m,u(j.value,m))}}break}}}r.data=t.join("&");r.method=a.getAttribute("method")||"GET";return baidu.ajax.request(e,r)};baidu.ajax.get=function(b,a){return baidu.ajax.request(b,{onsuccess:a})};baidu.ajax.post=function(b,c,a){return baidu.ajax.request(b,{onsuccess:a,method:"POST",data:c})};baidu.fx=baidu.fx||{};baidu.lang.inherits=function(g,e,d){var c,f,a=g.prototype,b=new Function();b.prototype=e.prototype;f=g.prototype=new b();for(c in a){f[c]=a[c]}g.prototype.constructor=g;g.superClass=e.prototype;typeof d=="string"&&(f.__type=d);g.extend=function(j){for(var h in j){f[h]=j[h]}return g};return g};baidu.inherits=baidu.lang.inherits;baidu.fx.Timeline=function(a){baidu.lang.Class.call(this);this.interval=16;this.duration=500;this.dynamic=true;baidu.object.extend(this,a)};baidu.lang.inherits(baidu.fx.Timeline,baidu.lang.Class,"baidu.fx.Timeline").extend({launch:function(){var a=this;a.dispatchEvent("onbeforestart");typeof a.initialize=="function"&&a.initialize();a["\x06btime"]=new Date().getTime();a["\x06etime"]=a["\x06btime"]+(a.dynamic?a.duration:0);a["\x06pulsed"]();return a},"\x06pulsed":function(){var b=this;var a=new Date().getTime();b.percent=(a-b["\x06btime"])/b.duration;b.dispatchEvent("onbeforeupdate");if(a>=b["\x06etime"]){typeof b.render=="function"&&b.render(b.transition(b.percent=1));typeof b.finish=="function"&&b.finish();b.dispatchEvent("onafterfinish");b.dispose();return}typeof b.render=="function"&&b.render(b.transition(b.percent));b.dispatchEvent("onafterupdate");b["\x06timer"]=setTimeout(function(){b["\x06pulsed"]()},b.interval)},transition:function(a){return a},cancel:function(){this["\x06timer"]&&clearTimeout(this["\x06timer"]);this["\x06etime"]=this["\x06btime"];typeof this.restore=="function"&&this.restore();this.dispatchEvent("oncancel");this.dispose()},end:function(){this["\x06timer"]&&clearTimeout(this["\x06timer"]);this["\x06etime"]=this["\x06btime"];this["\x06pulsed"]()}});baidu.fx.create=function(d,b,c){var e=new baidu.fx.Timeline(b);e.element=d;e.__type=c||e.__type;e["\x06original"]={};var a="baidu_current_effect";e.addEventListener("onbeforestart",function(){var g=this,f;g.attribName="att_"+g.__type.replace(/\W/g,"_");f=g.element.getAttribute(a);g.element.setAttribute(a,(f||"")+"|"+g.guid+"|",0);if(!g.overlapping){(f=g.element.getAttribute(g.attribName))&&window[baidu.guid]._instances[f].cancel();g.element.setAttribute(g.attribName,g.guid,0)}});e["\x06clean"]=function(h){var g=this,f;if(h=g.element){h.removeAttribute(g.attribName);f=h.getAttribute(a);f=f.replace("|"+g.guid+"|","");if(!f){h.removeAttribute(a)}else{h.setAttribute(a,f,0)}}};e.addEventListener("oncancel",function(){this["\x06clean"]();this["\x06restore"]()});e.addEventListener("onafterfinish",function(){this["\x06clean"]();this.restoreAfterFinish&&this["\x06restore"]()});e.protect=function(f){this["\x06original"][f]=this.element.style[f]};e["\x06restore"]=function(){var j=this["\x06original"],h=this.element.style,f;for(var g in j){f=j[g];if(typeof f=="undefined"){continue}h[g]=f;if(!f&&h.removeAttribute){h.removeAttribute(g)}else{if(!f&&h.removeProperty){h.removeProperty(g)}}}};return e};baidu.fx.collapse=function(c,b){if(!(c=baidu.dom.g(c))){return null}var h=c,f,a,g={vertical:{value:"height",offset:"offsetHeight",stylesValue:["paddingBottom","paddingTop","borderTopWidth","borderBottomWidth"]},horizontal:{value:"width",offset:"offsetWidth",stylesValue:["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"]}};var d=baidu.fx.create(h,baidu.object.extend({orientation:"vertical",initialize:function(){a=g[this.orientation];this.protect(a.value);this.protect("overflow");this.restoreAfterFinish=true;f=h[a.offset];h.style.overflow="hidden"},transition:function(e){return Math.pow(1-e,2)},render:function(e){h.style[a.value]=Math.floor(e*f)+"px"},finish:function(){baidu.dom.hide(h)}},b||{}),"baidu.fx.expand_collapse");return d.launch()};baidu.fx.current=function(d){if(!(d=baidu.dom.g(d))){return null}var b,f,e=/\|([^\|]+)\|/g;do{if(f=d.getAttribute("baidu_current_effect")){break}}while((d=d.parentNode)&&d.nodeType==1);if(!f){return null}if((b=f.match(e))){e=/\|([^\|]+)\|/;for(var c=0;c<b.length;c++){e.test(b[c]);b[c]=window[baidu.guid]._instances[RegExp["\x241"]]}}return b};baidu.dom.getDocument=function(a){a=baidu.dom.g(a);return a.nodeType==9?a:a.ownerDocument||a.document};baidu.dom.getComputedStyle=function(b,a){b=baidu.dom._g(b);var d=baidu.dom.getDocument(b),c;if(d.defaultView&&d.defaultView.getComputedStyle){c=d.defaultView.getComputedStyle(b,null);if(c){return c[a]||c.getPropertyValue(a)}}return""};baidu.dom._styleFixer=baidu.dom._styleFixer||{};baidu.dom._styleFilter=baidu.dom._styleFilter||[];baidu.dom._styleFilter.filter=function(b,e,f){for(var a=0,d=baidu.dom._styleFilter,c;c=d[a];a++){if(c=c[f]){e=c(b,e)}}return e};baidu.string.toCamelCase=function(a){if(a.indexOf("-")<0&&a.indexOf("_")<0){return a}return a.replace(/[-_][^-_]/g,function(b){return b.charAt(1).toUpperCase()})};baidu.dom.getStyle=function(c,b){var e=baidu.dom;c=e.g(c);b=baidu.string.toCamelCase(b);var d=c.style[b]||(c.currentStyle?c.currentStyle[b]:"")||e.getComputedStyle(c,b);if(!d||d=="auto"){var a=e._styleFixer[b];if(a){d=a.get?a.get(c,b,d):baidu.dom.getStyle(c,a)}}if(a=e._styleFilter){d=a.filter(b,d,"get")}return d};baidu.getStyle=baidu.dom.getStyle;baidu.dom.setStyle=function(c,b,d){var e=baidu.dom,a;c=e.g(c);b=baidu.string.toCamelCase(b);if(a=e._styleFilter){d=a.filter(b,d,"set")}a=e._styleFixer[b];(a&&a.set)?a.set(c,d,b):(c.style[a||b]=d);return c};baidu.setStyle=baidu.dom.setStyle;baidu.lang.isNumber=function(a){return"[object Number]"==Object.prototype.toString.call(a)&&isFinite(a)};baidu.fx.expand=function(c,b){if(!(c=baidu.dom.g(c))){return null}var h=c,f,a,g={vertical:{value:"height",offset:"offsetHeight",stylesValue:["paddingBottom","paddingTop","borderTopWidth","borderBottomWidth"]},horizontal:{value:"width",offset:"offsetWidth",stylesValue:["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"]}};var d=baidu.fx.create(h,baidu.object.extend({orientation:"vertical",initialize:function(){a=g[this.orientation];baidu.dom.show(h);this.protect(a.value);this.protect("overflow");this.restoreAfterFinish=true;f=h[a.offset];function e(k,j){var i=parseInt(baidu.getStyle(k,j));i=isNaN(i)?0:i;i=baidu.lang.isNumber(i)?i:0;return i}baidu.each(a.stylesValue,function(i){f-=e(h,i)});h.style.overflow="hidden";h.style[a.value]="1px"},transition:function(e){return Math.sqrt(e)},render:function(e){h.style[a.value]=Math.floor(e*f)+"px"}},b||{}),"baidu.fx.expand_collapse");return d.launch()};baidu.fx.opacity=function(b,a){if(!(b=baidu.dom.g(b))){return null}a=baidu.object.extend({from:0,to:1},a||{});var d=b;var c=baidu.fx.create(d,baidu.object.extend({initialize:function(){baidu.dom.show(b);if(baidu.browser.ie<9){this.protect("filter")}else{this.protect("opacity");this.protect("KHTMLOpacity")}this.distance=this.to-this.from},render:function(e){var f=this.distance*e+this.from;if(!(baidu.browser.ie<9)){d.style.opacity=f;d.style.KHTMLOpacity=f}else{d.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity:"+Math.floor(f*100)+")"}}},a),"baidu.fx.opacity");return c.launch()};baidu.fx.fadeIn=function(b,a){if(!(b=baidu.dom.g(b))){return null}var c=baidu.fx.opacity(b,baidu.object.extend({from:0,to:1,restoreAfterFinish:true},a||{}));c.__type="baidu.fx.fadeIn";return c};baidu.fx.fadeOut=function(b,a){if(!(b=baidu.dom.g(b))){return null}var c=baidu.fx.opacity(b,baidu.object.extend({from:1,to:0,restoreAfterFinish:true},a||{}));c.addEventListener("onafterfinish",function(){baidu.dom.hide(this.element)});c.__type="baidu.fx.fadeOut";return c};baidu.fx.getTransition=function(c){var b=baidu.fx.transitions;if(!c||typeof b[c]!="string"){c="linear"}return new Function("percent",b[c])};baidu.fx.transitions={none:"return 0",full:"return 1",linear:"return percent",reverse:"return 1 - percent",parabola:"return Math.pow(percent, 2)",antiparabola:"return 1 - Math.pow(1 - percent, 2)",sinoidal:"return (-Math.cos(percent * Math.PI)/2) + 0.5",wobble:"return (-Math.cos(percent * Math.PI * (9 * percent))/2) + 0.5",spring:"return 1 - (Math.cos(percent * 4.5 * Math.PI) * Math.exp(-percent * 6))"};(function(){var c=/^\#[\da-f]{6}$/i,b=/^rgb\((\d+), (\d+), (\d+)\)$/,a={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",green:"#008000",lime:"#00ff00",olive:"#808000",yellow:"#ffff0",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff"};baidu.string.formatColor=function(e){if(c.test(e)){return e}else{if(b.test(e)){for(var j,h=1,e="#";h<4;h++){j=parseInt(RegExp["\x24"+h]).toString(16);e+=("00"+j).substr(j.length)}return e}else{if(/^\#[\da-f]{3}$/.test(e)){var g=e.charAt(1),f=e.charAt(2),d=e.charAt(3);return"#"+g+g+f+f+d+d}else{if(a[e]){return a[e]}}}}return""}})();baidu.fx.highlight=function(b,a){if(!(b=baidu.dom.g(b))){return null}var d=b;var c=baidu.fx.create(d,baidu.object.extend({initialize:function(){var k=this,j=baidu.dom.getStyle,h=baidu.string.formatColor,f=h(j(d,"color"))||"#000000",e=h(j(d,"backgroundColor"));k.beginColor=k.beginColor||e||"#FFFF00";k.endColor=k.endColor||e||"#FFFFFF";k.finalColor=k.finalColor||k.endColor||k.element.style.backgroundColor;k.textColor==f&&(k.textColor="");this.protect("color");this.protect("backgroundColor");k.c_b=[];k.c_d=[];k.t_b=[];k.t_d=[];for(var l,g=0;g<3;g++){l=2*g+1;k.c_b[g]=parseInt(k.beginColor.substr(l,2),16);k.c_d[g]=parseInt(k.endColor.substr(l,2),16)-k.c_b[g];if(k.textColor){k.t_b[g]=parseInt(f.substr(l,2),16);k.t_d[g]=parseInt(k.textColor.substr(l,2),16)-k.t_b[g]}}},render:function(j){for(var h=this,f="#",e="#",k,g=0;g<3;g++){k=Math.round(h.c_b[g]+h.c_d[g]*j).toString(16);f+=("00"+k).substr(k.length);if(h.textColor){k=Math.round(h.t_b[g]+h.t_d[g]*j).toString(16);e+=("00"+k).substr(k.length)}}d.style.backgroundColor=f;h.textColor&&(d.style.color=e)},finish:function(){this.textColor&&(d.style.color=this.textColor);d.style.backgroundColor=this.finalColor}},a||{}),"baidu.fx.highlight");return c.launch()};baidu.fx.mask=function(c,a){if(!(c=baidu.dom.g(c))||baidu.dom.getStyle(c,"position")!="absolute"){return null}var g=c,b={};a=a||{};var f=/^(\d+px|\d?\d(\.\d+)?%|100%|left|center|right)(\s+(\d+px|\d?\d(\.\d+)?%|100%|top|center|bottom))?/i;!f.test(a.startOrigin)&&(a.startOrigin="0px 0px");var a=baidu.object.extend({restoreAfterFinish:true,from:0,to:1},a||{});var d=baidu.fx.create(g,baidu.object.extend({initialize:function(){g.style.display="";this.protect("clip");b.width=g.offsetWidth;b.height=g.offsetHeight;f.test(this.startOrigin);var k=RegExp["\x241"].toLowerCase(),j=RegExp["\x244"].toLowerCase(),i=this.element.offsetWidth,l=this.element.offsetHeight,h,e;if(/\d+%/.test(k)){h=parseInt(k,10)/100*i}else{if(/\d+px/.test(k)){h=parseInt(k)}else{if(k=="left"){h=0}else{if(k=="center"){h=i/2}else{if(k=="right"){h=i}}}}}if(!j){e=l/2}else{if(/\d+%/.test(j)){e=parseInt(j,10)/100*l}else{if(/\d+px/.test(j)){e=parseInt(j)}else{if(j=="top"){e=0}else{if(j=="center"){e=l/2}else{if(j=="bottom"){e=l}}}}}}b.x=h;b.y=e},render:function(k){var l=this.to*k+this.from*(1-k),j=b.y*(1-l)+"px ",i=b.x*(1-l)+"px ",h=b.x*(1-l)+b.width*l+"px ",e=b.y*(1-l)+b.height*l+"px ";g.style.clip="rect("+j+h+e+i+")"},finish:function(){if(this.to<this.from){g.style.display="none"}}},a),"baidu.fx.mask");return d.launch()};baidu.fx.move=function(b,a){if(!(b=baidu.dom.g(b))||baidu.dom.getStyle(b,"position")=="static"){return null}a=baidu.object.extend({x:0,y:0},a||{});if(a.x==0&&a.y==0){return null}var c=baidu.fx.create(b,baidu.object.extend({initialize:function(){this.protect("top");this.protect("left");this.originX=parseInt(baidu.dom.getStyle(b,"left"))||0;this.originY=parseInt(baidu.dom.getStyle(b,"top"))||0},transition:function(d){return 1-Math.pow(1-d,2)},render:function(d){b.style.top=(this.y*d+this.originY)+"px";b.style.left=(this.x*d+this.originX)+"px"}},a),"baidu.fx.move");return c.launch()};baidu.fx.moveBy=function(b,f,a){if(!(b=baidu.dom.g(b))||baidu.dom.getStyle(b,"position")=="static"||typeof f!="object"){return null}var e={};e.x=f[0]||f.x||0;e.y=f[1]||f.y||0;var c=baidu.fx.move(b,baidu.object.extend(e,a||{}));return c};baidu.fx.moveTo=function(d,b,c){if(!(d=baidu.dom.g(d))||baidu.dom.getStyle(d,"position")=="static"||typeof b!="object"){return null}var f=[b[0]||b.x||0,b[1]||b.y||0];var a=parseInt(baidu.dom.getStyle(d,"left"))||0;var g=parseInt(baidu.dom.getStyle(d,"top"))||0;var e=baidu.fx.move(d,baidu.object.extend({x:f[0]-a,y:f[1]-g},c||{}));return e};baidu.fx.scale=function(c,a){if(!(c=baidu.dom.g(c))){return null}a=baidu.object.extend({from:0.1,to:1},a||{});var e=/^(-?\d+px|\d?\d(\.\d+)?%|100%|left|center|right)(\s+(-?\d+px|\d?\d(\.\d+)?%|100%|top|center|bottom))?/i;!e.test(a.transformOrigin)&&(a.transformOrigin="0px 0px");var b={},d=baidu.fx.create(c,baidu.object.extend({fade:true,initialize:function(){baidu.dom.show(c);var k=this,f=b,q=c.style,j=function(o){k.protect(o)};if(baidu.browser.ie){j("top");j("left");j("position");j("zoom");j("filter");this.offsetX=parseInt(baidu.dom.getStyle(c,"left"))||0;this.offsetY=parseInt(baidu.dom.getStyle(c,"top"))||0;if(baidu.dom.getStyle(c,"position")=="static"){q.position="relative"}e.test(this.transformOrigin);var i=RegExp["\x241"].toLowerCase(),h=RegExp["\x244"].toLowerCase(),l=this.element.offsetWidth,g=this.element.offsetHeight,n,m;if(/\d+%/.test(i)){n=parseInt(i,10)/100*l}else{if(/\d+px/.test(i)){n=parseInt(i)}else{if(i=="left"){n=0}else{if(i=="center"){n=l/2}else{if(i=="right"){n=l}}}}}if(!h){m=g/2}else{if(/\d+%/.test(h)){m=parseInt(h,10)/100*g}else{if(/\d+px/.test(h)){m=parseInt(h)}else{if(h=="top"){m=0}else{if(h=="center"){m=g/2}else{if(h=="bottom"){m=g}}}}}}q.zoom=this.from;f.cx=n;f.cy=m}else{j("WebkitTransform");j("WebkitTransformOrigin");j("MozTransform");j("MozTransformOrigin");j("OTransform");j("OTransformOrigin");j("transform");j("transformOrigin");j("opacity");j("KHTMLOpacity");q.WebkitTransform=q.MozTransform=q.OTransform=q.transform="scale("+this.from+")";q.WebkitTransformOrigin=q.MozTransformOrigin=q.OTransformOrigin=q.transformOrigin=this.transformOrigin}},render:function(i){var g=c.style,f=this.to==1,f=typeof this.opacityTrend=="boolean"?this.opacityTrend:f,h=f?this.percent:1-this.percent,j=this.to*i+this.from*(1-i);if(baidu.browser.ie){g.zoom=j;if(this.fade){g.filter="progid:DXImageTransform.Microsoft.Alpha(opacity:"+Math.floor(h*100)+")"}g.top=this.offsetY+b.cy*(1-j);g.left=this.offsetX+b.cx*(1-j)}else{g.WebkitTransform=g.MozTransform=g.OTransform=g.transform="scale("+j+")";if(this.fade){g.KHTMLOpacity=g.opacity=h}}}},a),"baidu.fx.scale");return d.launch()};baidu.fx.zoomOut=function(b,a){if(!(b=baidu.dom.g(b))){return null}a=baidu.object.extend({to:0.1,from:1,opacityTrend:false,restoreAfterFinish:true,transition:function(d){return 1-Math.pow(1-d,2)}},a||{});var c=baidu.fx.scale(b,a);c.addEventListener("onafterfinish",function(){baidu.dom.hide(this.element)});return c};baidu.fx.puff=function(b,a){return baidu.fx.zoomOut(b,baidu.object.extend({to:1.8,duration:800,transformOrigin:"50% 50%"},a||{}))};baidu.fx.pulsate=function(c,a,b){if(!(c=baidu.dom.g(c))){return null}if(isNaN(a)||a==0){return null}var f=c;var d=baidu.fx.create(f,baidu.object.extend({initialize:function(){this.protect("visibility")},transition:function(e){return Math.cos(2*Math.PI*e)},render:function(e){f.style.visibility=e>0?"visible":"hidden"},finish:function(){setTimeout(function(){baidu.fx.pulsate(c,--a,b)},10)}},b),"baidu.fx.pulsate");return d.launch()};baidu.fx.remove=function(b,a){var c=a.onafterfinish?a.onafterfinish:new Function();return baidu.fx.fadeOut(b,baidu.object.extend(a||{},{onafterfinish:function(){baidu.dom.remove(this.element);c.call(this)}}))};baidu.fx.scrollBy=function(b,g,a){if(!(b=baidu.dom.g(b))||typeof g!="object"){return null}var f={},e={};f.x=g[0]||g.x||0;f.y=g[1]||g.y||0;var c=baidu.fx.create(b,baidu.object.extend({initialize:function(){var h=e.sTop=b.scrollTop;var d=e.sLeft=b.scrollLeft;e.sx=Math.min(b.scrollWidth-b.clientWidth-d,f.x);e.sy=Math.min(b.scrollHeight-b.clientHeight-h,f.y)},transition:function(d){return 1-Math.pow(1-d,2)},render:function(d){b.scrollTop=(e.sy*d+e.sTop);b.scrollLeft=(e.sx*d+e.sLeft)},restore:function(){b.scrollTop=e.sTop;b.scrollLeft=e.sLeft}},a),"baidu.fx.scroll");return c.launch()};baidu.fx.scrollTo=function(c,a,b){if(!(c=baidu.dom.g(c))||typeof a!="object"){return null}var e={};e.x=(a[0]||a.x||0)-c.scrollLeft;e.y=(a[1]||a.y||0)-c.scrollTop;return baidu.fx.scrollBy(c,e,b)};baidu.fx.shake=function(b,g,a){if(!(b=baidu.dom.g(b))){return null}var f=b;g=g||[];function c(){for(var e=0;e<arguments.length;e++){if(!isNaN(arguments[e])){return arguments[e]}}}var d=baidu.fx.create(f,baidu.object.extend({initialize:function(){this.protect("top");this.protect("left");this.protect("position");this.restoreAfterFinish=true;if(baidu.dom.getStyle(f,"position")=="static"){f.style.position="relative"}var e=this["\x06original"];this.originX=parseInt(e.left||0);this.originY=parseInt(e.top||0);this.offsetX=c(g[0],g.x,16);this.offsetY=c(g[1],g.y,5)},transition:function(h){var e=1-h;return Math.floor(e*16)%2==1?e:h-1},render:function(e){f.style.top=(this.offsetY*e+this.originY)+"px";f.style.left=(this.offsetX*e+this.originX)+"px"}},a||{}),"baidu.fx.shake");return d.launch()};baidu.fx.zoomIn=function(b,a){if(!(b=baidu.dom.g(b))){return null}a=baidu.object.extend({to:1,from:0.1,restoreAfterFinish:true,transition:function(c){return Math.pow(c,2)}},a||{});return baidu.fx.scale(b,a)};baidu.json=baidu.json||{};baidu.json.stringify=(function(){var b={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function a(f){if(/["\\\x00-\x1f]/.test(f)){f=f.replace(/["\\\x00-\x1f]/g,function(g){var h=b[g];if(h){return h}h=g.charCodeAt();return"\\u00"+Math.floor(h/16).toString(16)+(h%16).toString(16)})}return'"'+f+'"'}function d(m){var g=["["],h=m.length,f,j,k;for(j=0;j<h;j++){k=m[j];switch(typeof k){case"undefined":case"function":case"unknown":break;default:if(f){g.push(",")}g.push(baidu.json.stringify(k));f=1}}g.push("]");return g.join("")}function c(f){return f<10?"0"+f:f}function e(f){return'"'+f.getFullYear()+"-"+c(f.getMonth()+1)+"-"+c(f.getDate())+"T"+c(f.getHours())+":"+c(f.getMinutes())+":"+c(f.getSeconds())+'"'}return function(k){switch(typeof k){case"undefined":return"undefined";case"number":return isFinite(k)?String(k):"null";case"string":return a(k);case"boolean":return String(k);default:if(k===null){return"null"}else{if(k instanceof Array){return d(k)}else{if(k instanceof Date){return e(k)}else{var g=["{"],j=baidu.json.stringify,f,i;for(var h in k){if(Object.prototype.hasOwnProperty.call(k,h)){i=k[h];switch(typeof i){case"undefined":case"unknown":case"function":break;default:if(f){g.push(",")}f=1;g.push(j(h)+":"+j(i))}}}g.push("}");return g.join("")}}}}}})();baidu.json.encode=baidu.json.stringify;baidu.json.parse=function(a){return(new Function("return ("+a+")"))()};baidu.ui.Tree=baidu.ui.createUI(function(a){this._treeNodes={}});baidu.ui.Tree.TreeNode=function(a){var b=this;baidu.object.extend(b,a);b.id=b.id||baidu.lang.guid();b.childNodes=[];b._children=[];b._tree={};b._stringArray=[]};baidu.ui.Tree.TreeNode.prototype={uiType:"tree-node",text:"",textCol:"text",type:"leaf",isToggle:true,_getId:function(a){return this.tId+"-"+a},_getClass:function(a){var c=this,b="tangram-tree-node-"+a;if(c.skin){b+=" "+c.skin+"-"+a}return b},_getCallRef:function(){return"window['$BAIDU$']._instances['"+this.tId+"']"},getString:function(){var c=this,a=c._stringArray,b="";a.push('<dl id="',c.tId,'">');c._createBodyStringArray();b=c.isExpand?"display:''":"display:none";a.push('<dd  style="'+b+'" id="',c.tId,'-subNodeId"></dd></dl>');return a.join("")},getParentNode:function(){return this.parentNode},setParentNode:function(a){var b=this;b.parentNode=a;b._level=a._level+1},getChildNodes:function(){return this.childNodes},setTree:function(a){var c=this;c._tree=a;c._tree._treeNodes[c.id]=c;var b=a.treeNode;c=T.object.extend(c,b);c.setTId(a.treeObjId+"-"+c.id);window["$BAIDU$"]._instances[c.tId]=c},setTId:function(b){var a=this;a.tId=b},getTree:function(){return this._tree},appendData:function(b){var a=this;baidu.dom.insertHTML(a._getSubNodesContainer(),"beforeEnd",a._getSubNodeString(b));a._isRenderChildren=true},_getSubNodeString:function(h){var f=this,g,a,c=[],d=0,e,a=h.length;for(;d<a;d++){e=h[d];g=new baidu.ui.Tree.TreeNode(e);if(d==(a-1)){g._isLast=true}f._appendChildData(g,a-1);var b=g.getString();c.push(b)}return c.join("")},isParent:function(c){var b=this,a=c;while(!a.isRoot&&(a=a.getParentNode())){if(a==b){return true}}return false},appendTo:function(a){var b=this;b.getParentNode()._removeChildData(b);a.appendChild(b);b.dispatchEvent("appendto")},moveTo:function(e){var d=this,b=d.getParentNode(),c,a;if(b==null){return false}if(e.isExpand&&e.getChildNodes().length>0){c=e}else{c=e.getParentNode()}b._removeChildData(d);a=(c==e)?-1:e.getIndex();c.appendChild(d,a);d.dispatchEvent("moveto")},_appendChildData:function(e,c,a){var d=this,b=d.getChildNodes();e.parentNode=d;e.setTree(d.getTree());if(a){b.splice(c+1,0,e);d._children.splice(c+1,0,e.json)}else{b.push(e);d._children.push(e.json)}},appendChild:function(g,c){var e=this,h,b,i,a=g._getContainer(),f=e._getSubNodesContainer();if(c==null){c=e.getChildNodes().length-1}e._appendChildData(g,c,true);i=e.getChildNodes();h=g.getParentNode();b=g.getString();if(a){if(c==-1){if(i.length==1){f.appendChild(a)}else{baidu.dom.insertBefore(a,i[1]._getContainer())}}else{baidu.dom.insertAfter(a,i[c]._getContainer())}}else{if(c==-1){if(i.length==1){baidu.dom.insertHTML(f,"beforeEnd",b)}else{baidu.dom.insertHTML(i[1]._getContainer(),"beforeBegin",b)}}else{baidu.dom.insertHTML(i[c]._getContainer(),"afterEnd",b)}}g._updateAll();g._updateOldParent(h);var d=e.type;if(d=="leaf"){e.type="trunk";e._getIconElement().className=e._getClass("trunk")}e._getSpanElement().innerHTML=e._getImagesString();return g},_updateOldParent:function(a){var b=this;if(!a){return false}if(a.getLastChild()){a.getLastChild()._update()}else{if(b.getTree().expandable){a._getIconElement().className=b._getClass("leaf");a.type="leaf"}a._update()}},_removeChildData:function(c,a){var b=this;baidu.array.remove(b._children,c.json);baidu.array.remove(b.childNodes,c);delete b.getTree().getTreeNodes()[c.id];if(a){while(c.childNodes[0]){c._removeChildData(c.childNodes[0])}}},removeAllChildren:function(){var a=this,b=a.getChildNodes();while(b[0]){a.removeChild(b[0],true)}},removeChild:function(c){if(c.getParentNode()==null){return false}var b=this,a=b.getChildNodes();b._removeChildData(c,true);delete b.getTree().getTreeNodes()[c.id];baidu.dom.remove(c._getContainer());b.getTree().setCurrentNode(null);if(a.length<=0&&!b.isRoot){b._getSubNodesContainer().style.display="none";if(b.getTree().expandable){b._getIconElement().className=b._getClass("leaf");b.type="leaf"}}b._updateAll()},_updateAll:function(){var b=this,a=b.getPrevious();a&&a._update();b._update()},_update:function(b){var a=this;a._getSpanElement().innerHTML=a._getImagesString();if(!b){baidu.array.each(a.childNodes,function(c){c&&c._update()})}},_transformText:function(){var a=this;var b=a.text?a.text:a[a.textCol];if(a.textFilter&&T.lang.isFunction(a.textFilter)){b=a.textFilter(b)}return b},_transformType:function(){var a=this;if(a.typeCol){return a.transformType(a[a.typeCol])}else{return a.type}},update:function(c){var d=this,b=d._getHrefElement(),a=d._getTextElement();baidu.extend(d,c);(b?b:a).innerHTML=d._transformText();d._update()},_switchToggleState:function(d,b,e,f){var h=this,c=h._getToggleElement();if(h.type=="leaf"){return false}h.isExpand=f;if(c){c.className=h._getClass(h.isLastNode()?b:e)}var i=h.getChildNodes();if(i&&i.length>0){var j=h.getTree();var g=h._getSubNodesContainer();var a=j.animate;if(a){if(d=="none"){T.fx.collapse(g,a)}else{T.fx.expand(g,a)}}else{g.style.display=d}}},expand:function(){var c=this;if(!c._isRenderChildren){c.appendData(c.children)}var a="Lminus",b="Tminus";if(c.isRoot){a="Rminus",b="Rminus"}c._switchToggleState("",a,b,true);if(c.type!="leaf"){c._getIconElement().className=c._getClass("open-trunk");c.isOpen=false}},collapse:function(){var c=this;var a="Lplus",b="Tplus";if(c.isRoot){a="Rplus",b="Rplus"}this._switchToggleState("none",a,b,false);if(c.type!="leaf"){c._getIconElement().className=c._getClass("trunk");c.isOpen=false}},toggle:function(){var a=this;if(a.type=="leaf"){return false}a.isExpand?a.collapse():a.expand()},_switchFocusState:function(c,a,b){var d=this;baidu.dom[b](d._getNodeElement(),d._getClass("current"));if(d.type!="leaf"){d._getIconElement().className=d._getClass(c);d.isOpen=a}},blur:function(){var a=this;var b=a._getNodeElement();if(b){baidu.dom.removeClass(a._getNodeElement(),a._getClass("current"))}a.getTree().setCurrentNode(null)},focus:function(){var a=this,b=a.getTree().getCurrentNode();if(b!=null){b.blur()}a._switchFocusState("open-trunk",true,"addClass");a.getTree().setCurrentNode(a);baidu.dom.removeClass(a._getNodeElement(),a._getClass("over"))},_onMouseOver:function(b){var a=this;if(a!=a.getTree().getCurrentNode()){baidu.dom.addClass(a._getNodeElement(),a._getClass("over"))}a.dispatchEvent("draghover",{event:b});a.dispatchEvent("sorthover",{event:b})},_onMouseOut:function(){var a=this;baidu.dom.removeClass(a._getNodeElement(),a._getClass("over"));a.getTree().dispatchEvent("mouseout",{treeNode:a})},_onClick:function(a){var b=this;b.focus();b.getTree().dispatchEvent("click",{treeNode:b})},_onMouseDown:function(b){var a=this;a.dispatchEvent("dragdown",{event:b})},_onDblClick:function(b){var a=this;a.focus();T.event.stop(b);a.getTree().dispatchEvent("dblclick",{treeNode:a})},_onContextmenu:function(b){var a=this;return a.getTree().dispatchEvent("contextmenu",{treeNode:a,event:b})},_onToggleClick:function(b){var a=this;a.isToggle&&a.toggle();a.getTree().dispatchEvent("toggle",{treeNode:a});baidu.event.stopPropagation(b)},_createBodyStringArray:function(){var c=this,a=c._stringArray;a.push('<dt id="',c.tId,'-node" class="tangram-tree-node-node"');if(c.skin){a.push(" ",c.skin,"-node")}var b=c._getCallRef();a.push(' onclick="',b+("._onClick(event)"),'" ondblclick="',b+("._onDblClick(event)"),'"> <span id="',c.tId,'-span">',c._getImagesString(true),"</span>");c._createIconStringArray();c._createTextStringArray();c._stringArray.push("</dt>")},_getImagesString:function(d){var c=this,a="";a+=c._getIdentString(d);var b=c.type;if(b=="leaf"){a+=c._getTLString(d)}else{if(b=="trunk"||b=="root"){if(!c.children||c.children.length==0){c.children=[]}a+=c._getToggleString(d)}}return a},_getIdentString:function(d){var c=this,a="",b;while(c.getParentNode()){c=c.getParentNode();b=(c.isLastNode(d)?"blank":"I");if(c.type=="root"){b="blank"}className="tangram-tree-node-"+b;if(c.skin){className+=" "+c.skin+"-"+b}a='<span   class="'+className+'"></span>'+a}return a},_getTLString:function(c){var b=this,a=(b.isLastNode(c)?"L":"T");className="tangram-tree-node-"+a;if(b.skin){className+=" "+b.skin+"-"+a}return'<span id="'+b.tId+'_tl"  class="'+className+'" ></span>'},_getToggleString:function(e){var d=this,b=d.isExpand?"minus":"plus",c=(d.isLastNode(e)?"L":"T")+b;if(d.isRoot){c="R"+b}var a="tangram-tree-node-"+c;if(d.skin){a+=" "+d.skin+"-"+c}return['<span onclick="',d._getCallRef(),'._onToggleClick(event)" class="',a,'" id="',d.tId,'-toggle"></span>'].join("")},_createIconStringArray:function(){var c=this,b=(c.type=="leaf"?"leaf":"trunk"),a=c._stringArray;if(c.isOpen||c.isExpand){b="open-trunk"}a.push('<span  class="tangram-tree-node-',b);if(c.skin){a.push(" ",c.skin,"-",b)}a.push('" style="',c.icon?"background:url("+c.icon+")":"",'" id="',c.tId,'-icon"></span>')},_createTextStringArray:function(){var b=this,c=(b.href?b._createHrefStringArray():b._transformText()),a=b._stringArray;a.push('<span title="',b.title||"",'" id="',b.tId,'-text" class="tangram-tree-node-text">',c,"</span></span>")},_createHrefStringArray:function(){var b=this,a=b._stringArray;a.push('<a id="',b.tId,"-link",(b.target?"target='"+b.target+"'":""),' hidefocus="on" " href="',b.href,'" >',b.textCol?b[b.textCol]:b.text,"</a>")},_getSpanElement:function(){return baidu.g(this._getId("span"))},_getIconElement:function(){return baidu.g(this._getId("icon"))},_getChxElement:function(){return baidu.g(this._getId("chx"))},_getTextContainer:function(){return baidu.g(this._getId("textContainer"))},_getTextElement:function(){return baidu.g(this._getId("text"))},_getToggleElement:function(){var a=baidu.g(this._getId("toggle"));return a},_getSubNodesContainer:function(){return baidu.g(this._getId("subNodeId"))},_getHrefElement:function(){return baidu.g(this._getId("link"))},_getNodeElement:function(){return baidu.g(this._getId("node"))},_getContainer:function(){return baidu.g(this.tId)},hide:function(){baidu.dom.hide(this._getNodeElement())},show:function(){baidu.dom.show(this._getNodeElement())},expandAll:function(){var a=this;if(a.children){a.expand()}baidu.array.each(a.getChildNodes(),function(b){b.expandAll()})},collapseAll:function(){var a=this;if(a.getChildNodes().length>0){a.collapse()}baidu.array.each(a.getChildNodes(),function(b){b.collapseAll()})},getIndex:function(){var e=this,b=e.isRoot?[]:e.getParentNode().getChildNodes(),c=-1;for(var d=0,a=b.length;d<a;d++){if(b[d]==e){return d}}return c},getNext:function(){var c=this,b=c.getIndex(),a;if(c.isRoot){return c}a=c.getParentNode().getChildNodes();return(b+1>=a.length)?c:a[b+1]},getPrevious:function(){var c=this,b=c.getIndex(),a;if(c.isRoot){return c}a=c.getParentNode().getChildNodes();return(b-1<0)?null:a[b-1]},getFirstChild:function(){var b=this,a=b.getChildNodes();return(a.length<=0)?null:a[0]},getLastChild:function(){var b=this,a=b.getChildNodes();return a.length<=0?null:a[a.length-1]},isLastNode:function(b){var a=this;if(b){return a._isLast}if(a.isRoot){return true}return a.getIndex()==(a.parentNode.childNodes.length-1)}};baidu.ui.Tree.extend({uiType:"tree",tplDOM:"<div class='#{class}' id='#{id}'>#{body}</div>",getString:function(){var a=this;return baidu.format(a.tplDOM,{id:a.getId(),"class":a.getClass(),body:a._getBodyString()})},render:function(a){var b=this;if(T.lang.isString(a)){b.treeObjId=a}else{b.treeObjId=a.id}b.renderMain(a).innerHTML=b.getString();b.dispatchEvent("onload")},_getBodyString:function(){var a="",b=this;if(b.data){b._rootNode=new baidu.ui.Tree.TreeNode(b.data);b._rootNode.isRoot=true;b._rootNode.type="root";b._rootNode._level=0;b._rootNode.setTree(b);a=b._rootNode.getString()}return a},getTreeNodes:function(){return this._treeNodes},getRootNode:function(){return this._rootNode},getTreeNodeById:function(a){return this.getTreeNodes()[a]},getCurrentNode:function(){return this._currentNode},setCurrentNode:function(a){this._currentNode=a},dispose:function(){var a=this;a.dispatchEvent("dispose");baidu.dom.remove(a.getMain());baidu.lang.Class.prototype.dispose.call(a)}});var p={toggleIcon:function(a){var b=this;var c=b._getIconElement();a=a||"url(/watermelon/static/img/loading.gif)";T.dom.setStyle(c,"background",a)}};T.ui.Tree.TreeNode.prototype=T.object.extend(T.ui.Tree.TreeNode.prototype,p);T.ui.Tree.extend({animate:{},_getRealId:function(c){var b=c.split("-");var a=b.length;if(a>1){if(b[a-1]){c=b[a-1]}}return c},getTargetNode:function(f){var c=this;var d=T.event.getTarget(f);var a=T.dom.getAncestorByTag(d,"dl");var g=a.id;g=c._getRealId(g);var b=c.getTreeNodeById(g);return b},getNodeByTId:function(d){var b=this;var c=b._getRealId(d);var a=b.getTreeNodeById(c);return a},selectNode:function(b){var a=this;a.setCurrentNode(b);b.focus()},updateNode:function(b){var a=this;b.update()},removeNode:function(c){var b=this;var a=c.getParentNode();if(a){a.removeChild(c)}else{b.dispose()}},switchToggleNode:function(b){var a=this;var c=b.getChildNodes();if(c&&c.length>0){b.type="trunk";b._updateAll();b._getIconElement().className=b._getClass("trunk");b._getSpanElement().innerHTML=b._getImagesString();b.expand()}else{b.type="leaf"}}});baidu.ui.Tree.extend({context:{},_setContextPosition:function(g){var d=this;var a={};a.x=g.pageX||(g.clientX+document.body.scrollLeft-document.body.clientLeft);a.y=g.pageY||(g.clientY+document.body.scrollTop-document.body.clientTop);T.dom.show(d.contextWrap);var c=d.contextWrap.offsetHeight;var f=T.page.getScrollTop();var b=T.page.getViewHeight();if(a.y+c>b){a.y=a.y-c}return a},regContextMenu:function(a){},showContextMenu:function(b,f,h){var d=this;if(!f){}if(!d.contextWrap){d.contextWrap=T.dom.create("div",{"class":"tangram-tree-menu",style:"display:none"})}var c=T.dom.create("ul",{"class":"tangram-tree-menu-ul"});if(b.length>0){T.array.each(b,function(m,l){var e=T.dom.create("li");if(m.splitLine){T.dom.addClass(e,"menuSplit");e.innerHTML="<em></em>"}else{var j=T.dom.create("a",{"class":"item",id:m.id||"",href:"javascript:void(0);"});var k=[];if(m.icon){k.push("<span class='icon' style='background-image:url("+m.icon+")'> </span>")}k.push("<span class='showText'>"+m.text+"</span>");j.innerHTML=k.join("");e.appendChild(j);T.event.un(j,"click");if(typeof m.disabledCol!="undefined"&&f[m.disabledCol]==false){T.dom.addClass(j,"disabled");T.event.on(j,"click",function(i){T.event.stop(i);T.dom.hide(d.contextWrap);return false})}else{if(typeof m.handler=="function"){T.event.on(j,"click",function(i){T.event.stop(i);T.dom.hide(d.contextWrap);m.handler(f)})}}}c.appendChild(e)});d.contextWrap.innerHTML="";d.contextWrap.appendChild(c);var g=window.document;g.body.appendChild(d.contextWrap);var a=d._setContextPosition(h);T.dom.setStyles(d.contextWrap,{left:a.x,top:a.y,display:"block"});T.event.once(d.getMain(),"click",function(){T.dom.hide(d.contextWrap)})}}});baidu.ui.Tree.register(function(a){a.addEventListener("onload",function(c){var b=a.getBody();if(!(a.context.items&&a.context.items.length>0)){return}T.event.on(b,"contextmenu",function(d){T.event.preventDefault(d);var f=a.getTargetNode(d);if(!f||f.disableContext){return}var e=a.context.items;a.showContextMenu(e,f,d)})})});var Noah=Noah||{};var N=Noah;(function(a){Noah.extend=a.lang.extend=function(e,d){var c=a.object.clone(e);a.object.each(d,function(g,f){c[f]=g});return c};a.array.each("ajaxStart ajaxComplete ajaxStop".split(" "),function(d,c){Noah[d]=function(){}});Noah.ajax=function(e){var f=new baidu.async.Deferred();var e=a.lang.extend({async:true,dataType:"json",type:"get",beforeSend:function(){},success:function(){},error:function(){},complete:function(){}},e);var d={xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"};var g=e.type.toLowerCase();if(g!="rest"){e.data=a.url.jsonToQuery(e.data)}else{g="post";e.data=a.json.stringify(e.data)}var c={method:g,async:e.async,data:e.data,username:e.username,password:e.password,onsuccess:function(){if(e.dataType=="json"){try{var h=a.json.parse(arguments[1]);e.success(arguments[0],h);f.resolve(arguments[0],h)}catch(i){console.log(i);e.error.apply(this,arguments);f.resolve(arguments)}}else{e.success.apply(this,arguments);f.resolve(arguments)}if(!e.global){Noah.ajaxStop();f.resolve(arguments)}e.complete(arguments[0])},onfailure:function(h){e.error.apply(this,arguments);if(!e.global){Noah.ajaxStop()}e.complete(arguments[0]);f.reject(arguments[0])},ontimeout:function(){e.ontimeout.apply(this,arguments);e.complete(arguments[0]);f.reject(arguments[0])},onbeforerequest:function(){e.beforeSend.apply(this,arguments);if(!e.global){Noah.ajaxStart()}},headers:{Accept:e.dataType&&d[e.dataType]?d[e.dataType]+", */*":d._default},timeout:e.timeout};if(e.type.toLowerCase()=="rest"){c.headers["Content-Type"]="application/json"}a.ajax.request(e.url,c);return f};Noah.g=a.dom.g;Noah.q=a.dom.q;Noah.query=a.dom.query;var b="click change blur focus mouseover mouseup mousedown mouseout keyup keydown keypress load select reset resize error dbclick".split(" ");a.each(b,function(d,c){Noah[d]=function(f,e){a.event.on(f,d,e)}})})(baidu);baidu.ui.Tree.extend({isAsyncChild:function(b){var a=false;if((b._transformType()=="trunk"&&!b.asyncChild&&b.isExpand==true&&(b.children.length==0))){a=true}return a},combineParam:function(g){var d=this;var f={};var h=d.ajax.asyncParam;var b=d.ajax.asyncParamOther;var e;if(h){T.array.each(h,function(l,k){if(T.lang.isObject(l)){for(var j in l){if(e=g[j]){f[l[j]]=e}}}else{if(T.lang.isString(l)){e=g[l];if(e){f[l]=e}}else{if(T.lang.isFunction(l)){}else{}}}})}if(b){for(var c=0,a=b.length;c<a;c=c+2){f[b[c]]=b[c+1]}}return f},asyncLoad:function(e,g){var c=this;var d=c.combineParam(e);var f=e._getIconElement();var a=T.dom.getStyle(f,"background");e.toggleIcon();var b={dataType:"json",data:d,success:function(j,h){var i=c.ajax.onAsyncSuccess;if(i){i(h)}g&&g(h);c.dispatchEvent("asyncAfter",{treeNode:e})},error:function(){},complete:function(){e.toggleIcon(a)}};b=T.object.extend(b,c.ajax);delete b.asyncParam;delete b.asyncParamOther;Noah.ajax(b)},asyncExpandAll:function(b,c){var a=this;if(b.type=="leaf"){return}a.reloadNode(b,function(e){var d=b.getChildNodes();T.array.each(d,function(g,f){a.asyncExpandAll(g,c)})})},reloadNode:function(b,d){var a=this;if(b.type=="trunk"||b.type=="root"){var c=b._getSubNodesContainer();c.innerHTML="";b.childNodes=[];b.child=[];a.asyncLoad(b,function(e){b.appendData(e);b.asyncChild=true;a.switchToggleNode(b);d&&d(e)})}}});baidu.ui.Tree.register(function(a){a.ajax=T.object.extend({async:true,url:"",asyncParam:null,asyncParamOther:null,type:"get",dataType:"json",onAsyncSuccess:null,onAsyncError:null},a.ajax);a.addEventListener("toggle",function(b){var c=b.treeNode;if(a.ajax.async){if(a.isAsyncChild(c)){a.asyncLoad(c,function(d){if(d.length>0){c.appendData(d);c.asyncChild=true;c.expand()}else{c._getIconElement().className=c._getClass("leaf");c.type="leaf";c.update()}})}}})});var serviceTree=null;var ui=ui||{};ui.util=ui.util||{};ui.util={icons:{reload:"/watermelon/static/img/reload.png",department:"/watermelon/static/img/department.png",company:"/watermelon/static/img/company.png",service:"/watermelon/static/img/service.gif",organization:"/watermelon/static/img/serviceGroup.png",orgCustom:"/watermelon/static/img/serviceGroup.png",product:"/watermelon/static/img/product.png",productLine:"/watermelon/static/img/product.png"},fillIcon:function(a){a.icon=ui.util.icons[a.classification];a.type=a.leaf?"leaf":"trunk";if(a.leaf){a.disabledMenu=false}if(a.children){T.array.each(a.children,function(c,b){ui.util.fillIcon(c)})}},searchTree:function(b){var a=serviceTree.getRootNode();a.removeAllChildren();T.array.each(b.data,function(f){ui.util.fillIcon(f)});a.appendData(b.data);a.expandAll();var d=b.data[0];prev=null;while(d&&d.children){prev=d;if(d.children){d=d.children[0]}else{break}}var e=d.children?prev.id:d.id;var c=serviceTree.getTreeNodeById(e);if(c){a.blur();c&&c.focus();c.getTree().dispatchEvent("click",{treeNode:c})}},cancelAjax:function(a){var a=ui.util.ajax.currentAjax;a.abort();$("#searchBtn").show();$("#cancelBtn").hide()},ajax:{currentAjax:null},showServiceTreeLoading:function(){var d=$("#service-tree");var c=d.height();var b=d.width();var a=d.position();$('<div id="serviceloading"><img src="/watermelon/static/img/big-loading.gif" class="loadingImg"></img></div>').appendTo($(document.body));$("#serviceloading").addClass("loading").css({position:"absolute",left:a.left+"px",top:"106px",height:c,width:b})},hideServiceTreeLoading:function(){$("#serviceloading").remove()},showSearchNotFound:function(){var d=$("#service-tree"),b=d.height(),c=d.width(),a=d.position();$('<div id="searchNotFound"><p>æ²¡æœ‰æœç´¢åˆ°æ•°æ®</p></div>').appendTo($(document.body));$("#searchNotFound").addClass("loading").css({position:"absolute",left:a.left+"px",top:"106px",height:b,width:c})},hideSearchNotFound:function(){$("#searchNotFound").remove()}};ui.serviceTree=ui.serviceTree||{};ui.serviceTree.model=Backbone.Model.extend({search:function(b){var a="/noah/index.php";return $.ajax($.extend({timeout:60*1000,url:a,error:function(e,c,d){if(c=="timeout"){alert("è¶…æ—¶äº†")}}},b))},initTree:function(a){$.ajax($.extend({url:"/noah/?r=serviceTree/reloadTree",dataType:"json",type:"get",error:function(){}},a))},reloadTree:function(a){return $.ajax($.extend({url:"/noah/?r=serviceTree/reloadTree",dataType:"json",type:"get",error:function(){}},a))}});ui.serviceTree.view=Backbone.View.extend({el:$("#js-tree"),model:new ui.serviceTree.model,events:{"click #searchBtn":"search","click #cancelBtn":"cancel","click #reloadBtn":"reloadTree","keydown #search-box-input":"enter","click #js-type":"changeType"},enter:function(a){if(a.keyCode==13){$("#searchBtn").trigger("click")}else{}},cancel:function(){ui.util.cancelAjax()},changeType:function(d){var c=d.target;if(c.tagName.toUpperCase()!="LI"){return false}if($(c).hasClass("selected")){return false}var a=$("#js-type li.selected");var b=$(c);b.addClass("selected");a.removeClass("selected");b.insertBefore(a);$("#js-type li[class!=selected]").fadeOut("slow")},initialize:function(){var a=$("#js-type");$("#js-type li[class=selected]").show();a.hover(function(){$("#js-type li[class!=selected]").fadeIn("slow")},function(){$("#js-type li[class!=selected]").fadeOut("slow")});this._initTree()},setting:{context:{items:[{text:"å…¨éƒ¨å±•å¼€",id:"addGroupBtn",disabledCol:"disabledMenu",handler:function(a){serviceTree.asyncExpandAll(a)}},{text:"åˆ·æ–°å­èŠ‚ç‚¹",id:"delGroupBtn",disabledCol:"disabledMenu",handler:function(a){serviceTree.reloadNode(a)}},{text:"åŠ å…¥æ”¶è—",id:"addToFav",handler:function(a){serviceView.options.favView.addFavority(a)}}]},treeNode:{textCol:"name"},ajax:{async:true,url:"/noah/index.php?r=serviceTree/loadChildNode",asyncParam:[{id:"node"},{id:"nodeid"}],asyncParamOther:["deep",false,"text",""],type:"POST",onAsyncSuccess:function(a){if(a.size==0){return}T.array.each(a,function(c,b){ui.util.fillIcon(c)})}},textFilter:function(a){return a.name},expandable:true,onclick:function(a,c){var b=c.treeNode;ui.nodeChange(b);ui.TopMenu.setTreePath(b.path);return false},ondblclick:function(a){}},_initTree:function(){var a=this;this.model.initTree({success:function(c,b){a._renderServiceTree(c)}})},reloadTree:function(){var a=this;if(!serviceTree){return false}ui.util.ajax.currentAjax=this.model.reloadTree({beforeSend:function(){$("#searchBtn").hide();$("#cancelBtn").show();ui.util.showServiceTreeLoading()},complete:function(){$("#searchBtn").show();$("#cancelBtn").hide();ui.util.hideServiceTreeLoading()},success:function(d,b){var e=a._dataHandle(d);var c=serviceTree.getRootNode();c.removeAllChildren();c.appendData(e.children);a._gotoDefaultNode(d.data.defaultNode)}})},_dataHandle:function(a){var b={text:"æœåŠ¡æ ‘",id:0};b.children=a.data.initChildren;ui.util.fillIcon(b);b.icon=ui.util.icons.reload;b.type="root";return b},_gotoDefaultNode:function(f){var d=serviceTree.getRootNode();f=T.json.parse(f);d.expand();var b=f[0];var e,c=b.split("/");var a=c.length;T.array.each(c,function(j,h){e=serviceTree.getTreeNodeById(j);if(e){e.expand();if(h==a-1){var g=serviceTree.getCurrentNode();g&&g.blur();e.focus();e.getTree().dispatchEvent("click",{treeNode:e})}}})},_renderServiceTree:function(b){var d=this;var e=d._dataHandle(b);var c=d.setting;c.data=e;serviceTree=new baidu.ui.Tree(c);var a=T.g("service-tree");serviceTree.render(a);d._gotoDefaultNode(b.data.defaultNode)},search:function(){var c=serviceTree.getCurrentNode();var d=$("#search-box-input").val();if($.trim(d)==""){return false}var b=$("#js-type li.selected").attr("data-type");var a={node:"serviceTree/searchNodeByName",machine:"serviceTree/searchNodeByHost"};ui.util.ajax.currentAjax=this.model.search({beforeSend:function(){$("#searchBtn").hide();$("#cancelBtn").show();ui.util.showServiceTreeLoading()},complete:function(){$("#searchBtn").show();$("#cancelBtn").hide();ui.util.hideServiceTreeLoading()},data:{r:a[b],text:d,nodeid:c.id},type:"POST",dataType:"json",success:function(e){$("#searchBtn").show();$("#cancelBtn").hide();if(e.success&&e.data.length>0){ui.util.searchTree(e)}else{ui.util.showSearchNotFound();setTimeout(function(){ui.util.hideSearchNotFound()},500)}},error:function(){}})}});ui.fav=ui.fav||{};ui.fav.model=Backbone.Model.extend({getAllFavorites:function(b){var a="/noah/index.php?r=serviceTree/getAllFavorites";$.ajax($.extend({url:a,error:function(){}},b))},addFavority:function(b){var a="/noah/index.php?r=serviceTree/addFavorite";$.ajax($.extend({url:a,error:function(){}},b))},delFavority:function(b){var a="/noah/index.php?r=serviceTree/deleteFavorite";$.ajax($.extend({url:a,type:"POST",dataType:"json",error:function(){}},b))},getFavoritePath:function(b){var a="/noah/index.php?r=serviceTree/getFavoritePath";return $.ajax($.extend({url:a,type:"GET",dataType:"json",error:function(){}},b))}});ui.fav.view=Backbone.View.extend({el:$("#js-myfav"),model:new ui.fav.model,events:{"click #js-chevron":"chevron"},chevron:function(g){var f=g.target;var d=150;var b=$(f);var c=$("#js-myfav");var a=$("#js-tree");if(b.hasClass("collapse")){b.addClass("expand");b.removeClass("collapse");c.animate({height:"+=150px"},1000);a.animate({height:"-=150px"},1000)}else{b.removeClass("expand");b.addClass("collapse");c.animate({height:"-=150px"},1000);a.animate({height:"+=150px"},1000)}},initialize:function(){var a=this;a._renderFavTree(function(b){a.getAllFavorites(b)})},_renderFavTree:function(e){var c=this;var d={clazz:"common",disableContext:true};var f={context:{items:[{text:"å–æ¶ˆæ”¶è—",id:"cancelFav",handler:function(g){c.delFavority(g)}}]},ajax:{async:false},onclick:function(g,i){var h=i.treeNode;if(h.clazz=="common"){return false}c.getFavoritePath(h)}};d.text="æˆ‘çš„æ”¶è—";d.children=[{id:"node",text:"æˆ‘çš„èŠ‚ç‚¹",clazz:"common",disableContext:true},{id:"trend",text:"æˆ‘çš„è¶‹åŠ¿å›¾",clazz:"common",disableContext:true},{id:"mtrend",text:"æˆ‘çš„é›†ç¾¤è¶‹åŠ¿å›¾",clazz:"common",disableContext:true}];f.data=d;tree=new baidu.ui.Tree(f);var a=T.g("js-fav-tree");tree.render(a);var b=tree.getRootNode();b.expand();e&&e(tree);this.favTree=tree},getAllFavorites:function(a){a=a||this.favTree;this.model.getAllFavorites({dataType:"json",success:function(b){var c=a.getTreeNodeById("node");T.array.each(b,function(e,d){e.icon=ui.util.icons[c.classification];e.type="leaf"});c.removeAllChildren();if(b.length!=0){c.type="trunk"}else{c.type="leaf"}c.appendData(b);c.update();c.expand()},failure:function(){}})},addFavority:function(b){var a=this;a.model.addFavority({data:{nodeid:b.id,name:b.name},dataType:"json",type:"POST",success:function(c){if(c.success){a.getAllFavorites()}}})},delFavority:function(b){var a=this;a.model.delFavority({data:{nodeid:b.id},success:function(c){if(c.success){a.getAllFavorites()}}})},getFavoritePath:function(a){ui.util.ajax.currentAjax=this.model.getFavoritePath({beforeSend:function(){$("#searchBtn").hide();$("#cancelBtn").show();ui.util.showServiceTreeLoading()},complete:function(){$("#searchBtn").show();$("#cancelBtn").hide();ui.util.hideServiceTreeLoading()},data:{nodeid:a.id},success:function(b){if(b.success){ui.util.searchTree(b)}}})}});var favView=new ui.fav.view;var serviceView=new ui.serviceTree.view({favView:favView});